var om=Object.defineProperty;var am=(e,t,i)=>t in e?om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var qh=(e,t,i)=>am(e,typeof t!="symbol"?t+"":t,i);function H1(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const h in a)if(h!=="default"&&!(h in e)){const d=Object.getOwnPropertyDescriptor(a,h);d&&Object.defineProperty(e,h,d.get?d:{enumerable:!0,get:()=>a[h]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function i(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerPolicy&&(d.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?d.credentials="include":h.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(h){if(h.ep)return;h.ep=!0;const d=i(h);fetch(h.href,d)}})();var zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var V1={exports:{}},du={},W1={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),lm=Symbol.for("react.portal"),um=Symbol.for("react.fragment"),cm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),hm=Symbol.for("react.provider"),dm=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),mm=Symbol.for("react.memo"),xm=Symbol.for("react.lazy"),Qh=Symbol.iterator;function _m(e){return e===null||typeof e!="object"?null:(e=Qh&&e[Qh]||e["@@iterator"],typeof e=="function"?e:null)}var j1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z1=Object.assign,G1={};function go(e,t,i){this.props=e,this.context=t,this.refs=G1,this.updater=i||j1}go.prototype.isReactComponent={};go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function X1(){}X1.prototype=go.prototype;function bf(e,t,i){this.props=e,this.context=t,this.refs=G1,this.updater=i||j1}var Rf=bf.prototype=new X1;Rf.constructor=bf;Z1(Rf,go.prototype);Rf.isPureReactComponent=!0;var Jh=Array.isArray,Y1=Object.prototype.hasOwnProperty,Pf={current:null},K1={key:!0,ref:!0,__self:!0,__source:!0};function q1(e,t,i){var a,h={},d=null,x=null;if(t!=null)for(a in t.ref!==void 0&&(x=t.ref),t.key!==void 0&&(d=""+t.key),t)Y1.call(t,a)&&!K1.hasOwnProperty(a)&&(h[a]=t[a]);var y=arguments.length-2;if(y===1)h.children=i;else if(1<y){for(var E=Array(y),v=0;v<y;v++)E[v]=arguments[v+2];h.children=E}if(e&&e.defaultProps)for(a in y=e.defaultProps,y)h[a]===void 0&&(h[a]=y[a]);return{$$typeof:Ma,type:e,key:d,ref:x,props:h,_owner:Pf.current}}function wm(e,t){return{$$typeof:Ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ma}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var $h=/\/+/g;function Yu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function Cl(e,t,i,a,h){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case Ma:case lm:x=!0}}if(x)return x=e,h=h(x),e=a===""?"."+Yu(x,0):a,Jh(h)?(i="",e!=null&&(i=e.replace($h,"$&/")+"/"),Cl(h,t,i,"",function(v){return v})):h!=null&&(Lf(h)&&(h=wm(h,i+(!h.key||x&&x.key===h.key?"":(""+h.key).replace($h,"$&/")+"/")+e)),t.push(h)),1;if(x=0,a=a===""?".":a+":",Jh(e))for(var y=0;y<e.length;y++){d=e[y];var E=a+Yu(d,y);x+=Cl(d,t,i,E,h)}else if(E=_m(e),typeof E=="function")for(e=E.call(e),y=0;!(d=e.next()).done;)d=d.value,E=a+Yu(d,y++),x+=Cl(d,t,i,E,h);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return x}function il(e,t,i){if(e==null)return e;var a=[],h=0;return Cl(e,a,"","",function(d){return t.call(i,d,h++)}),a}function vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mn={current:null},Al={transition:null},Em={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:Al,ReactCurrentOwner:Pf};function Q1(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:il,forEach:function(e,t,i){il(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return il(e,function(){t++}),t},toArray:function(e){return il(e,function(t){return t})||[]},only:function(e){if(!Lf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=go;Qe.Fragment=um;Qe.Profiler=fm;Qe.PureComponent=bf;Qe.StrictMode=cm;Qe.Suspense=gm;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Em;Qe.act=Q1;Qe.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Z1({},e.props),h=e.key,d=e.ref,x=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,x=Pf.current),t.key!==void 0&&(h=""+t.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(E in t)Y1.call(t,E)&&!K1.hasOwnProperty(E)&&(a[E]=t[E]===void 0&&y!==void 0?y[E]:t[E])}var E=arguments.length-2;if(E===1)a.children=i;else if(1<E){y=Array(E);for(var v=0;v<E;v++)y[v]=arguments[v+2];a.children=y}return{$$typeof:Ma,type:e.type,key:h,ref:d,props:a,_owner:x}};Qe.createContext=function(e){return e={$$typeof:dm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hm,_context:e},e.Consumer=e};Qe.createElement=q1;Qe.createFactory=function(e){var t=q1.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:pm,render:e}};Qe.isValidElement=Lf;Qe.lazy=function(e){return{$$typeof:xm,_payload:{_status:-1,_result:e},_init:vm}};Qe.memo=function(e,t){return{$$typeof:mm,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Al.transition;Al.transition={};try{e()}finally{Al.transition=t}};Qe.unstable_act=Q1;Qe.useCallback=function(e,t){return Mn.current.useCallback(e,t)};Qe.useContext=function(e){return Mn.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Mn.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Mn.current.useEffect(e,t)};Qe.useId=function(){return Mn.current.useId()};Qe.useImperativeHandle=function(e,t,i){return Mn.current.useImperativeHandle(e,t,i)};Qe.useInsertionEffect=function(e,t){return Mn.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Mn.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Mn.current.useMemo(e,t)};Qe.useReducer=function(e,t,i){return Mn.current.useReducer(e,t,i)};Qe.useRef=function(e){return Mn.current.useRef(e)};Qe.useState=function(e){return Mn.current.useState(e)};Qe.useSyncExternalStore=function(e,t,i){return Mn.current.useSyncExternalStore(e,t,i)};Qe.useTransition=function(){return Mn.current.useTransition()};Qe.version="18.3.1";W1.exports=Qe;var ie=W1.exports;const pa=Of(ie),Cm=H1({__proto__:null,default:pa},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=ie,Sm=Symbol.for("react.element"),Tm=Symbol.for("react.fragment"),Im=Object.prototype.hasOwnProperty,Nm=Am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Om={key:!0,ref:!0,__self:!0,__source:!0};function J1(e,t,i){var a,h={},d=null,x=null;i!==void 0&&(d=""+i),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(x=t.ref);for(a in t)Im.call(t,a)&&!Om.hasOwnProperty(a)&&(h[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)h[a]===void 0&&(h[a]=t[a]);return{$$typeof:Sm,type:e,key:d,ref:x,props:h,_owner:Nm.current}}du.Fragment=Tm;du.jsx=J1;du.jsxs=J1;V1.exports=du;var te=V1.exports,Ac={},$1={exports:{}},tr={},e0={exports:{}},t0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,Oe){var ce=ne.length;ne.push(Oe);e:for(;0<ce;){var Ie=ce-1>>>1,be=ne[Ie];if(0<h(be,Oe))ne[Ie]=Oe,ne[ce]=be,ce=Ie;else break e}}function i(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var Oe=ne[0],ce=ne.pop();if(ce!==Oe){ne[0]=ce;e:for(var Ie=0,be=ne.length,at=be>>>1;Ie<at;){var Le=2*(Ie+1)-1,Ge=ne[Le],fe=Le+1,en=ne[fe];if(0>h(Ge,ce))fe<be&&0>h(en,Ge)?(ne[Ie]=en,ne[fe]=ce,Ie=fe):(ne[Ie]=Ge,ne[Le]=ce,Ie=Le);else if(fe<be&&0>h(en,ce))ne[Ie]=en,ne[fe]=ce,Ie=fe;else break e}}return Oe}function h(ne,Oe){var ce=ne.sortIndex-Oe.sortIndex;return ce!==0?ce:ne.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,y=x.now();e.unstable_now=function(){return x.now()-y}}var E=[],v=[],b=1,N=null,k=3,W=!1,H=!1,V=!1,q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ne){for(var Oe=i(v);Oe!==null;){if(Oe.callback===null)a(v);else if(Oe.startTime<=ne)a(v),Oe.sortIndex=Oe.expirationTime,t(E,Oe);else break;Oe=i(v)}}function G(ne){if(V=!1,M(ne),!H)if(i(E)!==null)H=!0,Be(ue);else{var Oe=i(v);Oe!==null&&Pe(G,Oe.startTime-ne)}}function ue(ne,Oe){H=!1,V&&(V=!1,F(ge),ge=-1),W=!0;var ce=k;try{for(M(Oe),N=i(E);N!==null&&(!(N.expirationTime>Oe)||ne&&!Fe());){var Ie=N.callback;if(typeof Ie=="function"){N.callback=null,k=N.priorityLevel;var be=Ie(N.expirationTime<=Oe);Oe=e.unstable_now(),typeof be=="function"?N.callback=be:N===i(E)&&a(E),M(Oe)}else a(E);N=i(E)}if(N!==null)var at=!0;else{var Le=i(v);Le!==null&&Pe(G,Le.startTime-Oe),at=!1}return at}finally{N=null,k=ce,W=!1}}var le=!1,Y=null,ge=-1,re=5,De=-1;function Fe(){return!(e.unstable_now()-De<re)}function we(){if(Y!==null){var ne=e.unstable_now();De=ne;var Oe=!0;try{Oe=Y(!0,ne)}finally{Oe?Ve():(le=!1,Y=null)}}else le=!1}var Ve;if(typeof D=="function")Ve=function(){D(we)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ee=Ze.port2;Ze.port1.onmessage=we,Ve=function(){ee.postMessage(null)}}else Ve=function(){q(we,0)};function Be(ne){Y=ne,le||(le=!0,Ve())}function Pe(ne,Oe){ge=q(function(){ne(e.unstable_now())},Oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){H||W||(H=!0,Be(ue))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return i(E)},e.unstable_next=function(ne){switch(k){case 1:case 2:case 3:var Oe=3;break;default:Oe=k}var ce=k;k=Oe;try{return ne()}finally{k=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,Oe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=k;k=ne;try{return Oe()}finally{k=ce}},e.unstable_scheduleCallback=function(ne,Oe,ce){var Ie=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ie+ce:Ie):ce=Ie,ne){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ce+be,ne={id:b++,callback:Oe,priorityLevel:ne,startTime:ce,expirationTime:be,sortIndex:-1},ce>Ie?(ne.sortIndex=ce,t(v,ne),i(E)===null&&ne===i(v)&&(V?(F(ge),ge=-1):V=!0,Pe(G,ce-Ie))):(ne.sortIndex=be,t(E,ne),H||W||(H=!0,Be(ue))),ne},e.unstable_shouldYield=Fe,e.unstable_wrapCallback=function(ne){var Oe=k;return function(){var ce=k;k=Oe;try{return ne.apply(this,arguments)}finally{k=ce}}}})(t0);e0.exports=t0;var bm=e0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=ie,er=bm;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n0=new Set,ga={};function Ts(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(ga[e]=t,e=0;e<t.length;e++)n0.add(t[e])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,Pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function Lm(e){return Sc.call(td,e)?!0:Sc.call(ed,e)?!1:Pm.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Mm(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dm(e,t,i,a){if(t===null||typeof t>"u"||Mm(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,i,a,h,d,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=x}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gn[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gn[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gn[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gn[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gn[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gn[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gn[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gn[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gn[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mf=/[\-:]([a-z])/g;function Df(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mf,Df);gn[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mf,Df);gn[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mf,Df);gn[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function kf(e,t,i,a){var h=gn.hasOwnProperty(t)?gn[t]:null;(h!==null?h.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dm(t,i,h,a)&&(i=null),a||h===null?Lm(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(t=h.attributeName,a=h.attributeNamespace,i===null?e.removeAttribute(t):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var pi=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),Tc=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),Nc=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),s0=Symbol.for("react.offscreen"),nd=Symbol.iterator;function jo(e){return e===null||typeof e!="object"?null:(e=nd&&e[nd]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,Ku;function $o(e){if(Ku===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ku=t&&t[1]||""}return`
`+Ku+e}var qu=!1;function Qu(e,t){if(!e||qu)return"";qu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var a=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){a=v}e.call(t.prototype)}else{try{throw Error()}catch(v){a=v}e()}}catch(v){if(v&&a&&typeof v.stack=="string"){for(var h=v.stack.split(`
`),d=a.stack.split(`
`),x=h.length-1,y=d.length-1;1<=x&&0<=y&&h[x]!==d[y];)y--;for(;1<=x&&0<=y;x--,y--)if(h[x]!==d[y]){if(x!==1||y!==1)do if(x--,y--,0>y||h[x]!==d[y]){var E=`
`+h[x].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=x&&0<=y);break}}}finally{qu=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$o(e):""}function km(e){switch(e.tag){case 5:return $o(e.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return e=Qu(e.type,!1),e;case 11:return e=Qu(e.type.render,!1),e;case 1:return e=Qu(e.type,!0),e;default:return""}}function Oc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Us:return"Portal";case Tc:return"Profiler";case Bf:return"StrictMode";case Ic:return"Suspense";case Nc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i0:return(e.displayName||"Context")+".Consumer";case r0:return(e._context.displayName||"Context")+".Provider";case Ff:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zf:return t=e.displayName||null,t!==null?t:Oc(e.type)||"Memo";case bi:t=e._payload,e=e._init;try{return Oc(e(t))}catch{}}return null}function Bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oc(t);case 8:return t===Bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function o0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fm(e){var t=o0(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ol(e){e._valueTracker||(e._valueTracker=Fm(e))}function a0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=o0(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bc(e,t){var i=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function rd(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=Gi(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l0(e,t){t=t.checked,t!=null&&kf(e,"checked",t,!1)}function Rc(e,t){l0(e,t);var i=Gi(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pc(e,t.type,i):t.hasOwnProperty("defaultValue")&&Pc(e,t.type,Gi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function id(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Pc(e,t,i){(t!=="number"||Fl(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ea=Array.isArray;function $s(e,t,i,a){if(e=e.options,t){t={};for(var h=0;h<i.length;h++)t["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=t.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Gi(i),t=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,a&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sd(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(pe(92));if(ea(i)){if(1<i.length)throw Error(pe(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Gi(i)}}function u0(e,t){var i=Gi(t.value),a=Gi(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function od(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function c0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?c0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var al,f0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,h){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ma(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zm=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(e){zm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ia[t]=ia[e]})});function h0(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||ia.hasOwnProperty(e)&&ia[e]?(""+t).trim():t+"px"}function d0(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,h=h0(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,h):e[i]=h}}var Um=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(e,t){if(t){if(Um[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function kc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function Uf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fc=null,eo=null,to=null;function ad(e){if(e=Ba(e)){if(typeof Fc!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=_u(t),Fc(e.stateNode,e.type,t))}}function p0(e){eo?to?to.push(e):to=[e]:eo=e}function g0(){if(eo){var e=eo,t=to;if(to=eo=null,ad(e),t)for(e=0;e<t.length;e++)ad(t[e])}}function m0(e,t){return e(t)}function x0(){}var Ju=!1;function _0(e,t,i){if(Ju)return e(t,i);Ju=!0;try{return m0(e,t,i)}finally{Ju=!1,(eo!==null||to!==null)&&(x0(),g0())}}function xa(e,t){var i=e.stateNode;if(i===null)return null;var a=_u(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(pe(231,t,typeof i));return i}var zc=!1;if(ci)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{zc=!1}function Hm(e,t,i,a,h,d,x,y,E){var v=Array.prototype.slice.call(arguments,3);try{t.apply(i,v)}catch(b){this.onError(b)}}var sa=!1,zl=null,Ul=!1,Uc=null,Vm={onError:function(e){sa=!0,zl=e}};function Wm(e,t,i,a,h,d,x,y,E){sa=!1,zl=null,Hm.apply(Vm,arguments)}function jm(e,t,i,a,h,d,x,y,E){if(Wm.apply(this,arguments),sa){if(sa){var v=zl;sa=!1,zl=null}else throw Error(pe(198));Ul||(Ul=!0,Uc=v)}}function Is(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function w0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ld(e){if(Is(e)!==e)throw Error(pe(188))}function Zm(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var i=e,a=t;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(a=h.return,a!==null){i=a;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return ld(h),e;if(d===a)return ld(h),t;d=d.sibling}throw Error(pe(188))}if(i.return!==a.return)i=h,a=d;else{for(var x=!1,y=h.child;y;){if(y===i){x=!0,i=h,a=d;break}if(y===a){x=!0,a=h,i=d;break}y=y.sibling}if(!x){for(y=d.child;y;){if(y===i){x=!0,i=d,a=h;break}if(y===a){x=!0,a=d,i=h;break}y=y.sibling}if(!x)throw Error(pe(189))}}if(i.alternate!==a)throw Error(pe(190))}if(i.tag!==3)throw Error(pe(188));return i.stateNode.current===i?e:t}function y0(e){return e=Zm(e),e!==null?v0(e):null}function v0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=v0(e);if(t!==null)return t;e=e.sibling}return null}var E0=er.unstable_scheduleCallback,ud=er.unstable_cancelCallback,Gm=er.unstable_shouldYield,Xm=er.unstable_requestPaint,Ht=er.unstable_now,Ym=er.unstable_getCurrentPriorityLevel,Hf=er.unstable_ImmediatePriority,C0=er.unstable_UserBlockingPriority,Hl=er.unstable_NormalPriority,Km=er.unstable_LowPriority,A0=er.unstable_IdlePriority,pu=null,Gr=null;function qm(e){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(pu,e,void 0,(e.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:$m,Qm=Math.log,Jm=Math.LN2;function $m(e){return e>>>=0,e===0?32:31-(Qm(e)/Jm|0)|0}var ll=64,ul=4194304;function ta(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vl(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,h=e.suspendedLanes,d=e.pingedLanes,x=i&268435455;if(x!==0){var y=x&~h;y!==0?a=ta(y):(d&=x,d!==0&&(a=ta(d)))}else x=i&~h,x!==0?a=ta(x):d!==0&&(a=ta(d));if(a===0)return 0;if(t!==0&&t!==a&&!(t&h)&&(h=a&-a,d=t&-t,h>=d||h===16&&(d&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-br(t),h=1<<i,a|=e[i],t&=~h;return a}function e2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t2(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-br(d),y=1<<x,E=h[x];E===-1?(!(y&i)||y&a)&&(h[x]=e2(y,t)):E<=t&&(e.expiredLanes|=y),d&=~y}}function Hc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function S0(){var e=ll;return ll<<=1,!(ll&4194240)&&(ll=64),e}function $u(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Da(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-br(t),e[t]=i}function n2(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-br(i),d=1<<h;t[h]=0,a[h]=-1,e[h]=-1,i&=~d}}function Vf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-br(i),h=1<<a;h&t|e[a]&t&&(e[a]|=t),i&=~h}}var dt=0;function T0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I0,Wf,N0,O0,b0,Vc=!1,cl=[],Bi=null,Fi=null,zi=null,_a=new Map,wa=new Map,Pi=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cd(e,t){switch(e){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":_a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(t.pointerId)}}function Go(e,t,i,a,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[h]},t!==null&&(t=Ba(t),t!==null&&Wf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function i2(e,t,i,a,h){switch(t){case"focusin":return Bi=Go(Bi,e,t,i,a,h),!0;case"dragenter":return Fi=Go(Fi,e,t,i,a,h),!0;case"mouseover":return zi=Go(zi,e,t,i,a,h),!0;case"pointerover":var d=h.pointerId;return _a.set(d,Go(_a.get(d)||null,e,t,i,a,h)),!0;case"gotpointercapture":return d=h.pointerId,wa.set(d,Go(wa.get(d)||null,e,t,i,a,h)),!0}return!1}function R0(e){var t=ds(e.target);if(t!==null){var i=Is(t);if(i!==null){if(t=i.tag,t===13){if(t=w0(i),t!==null){e.blockedOn=t,b0(e.priority,function(){N0(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Wc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Bc=a,i.target.dispatchEvent(a),Bc=null}else return t=Ba(i),t!==null&&Wf(t),e.blockedOn=i,!1;t.shift()}return!0}function fd(e,t,i){Sl(e)&&i.delete(t)}function s2(){Vc=!1,Bi!==null&&Sl(Bi)&&(Bi=null),Fi!==null&&Sl(Fi)&&(Fi=null),zi!==null&&Sl(zi)&&(zi=null),_a.forEach(fd),wa.forEach(fd)}function Xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Vc||(Vc=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,s2)))}function ya(e){function t(h){return Xo(h,e)}if(0<cl.length){Xo(cl[0],e);for(var i=1;i<cl.length;i++){var a=cl[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Bi!==null&&Xo(Bi,e),Fi!==null&&Xo(Fi,e),zi!==null&&Xo(zi,e),_a.forEach(t),wa.forEach(t),i=0;i<Pi.length;i++)a=Pi[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Pi.length&&(i=Pi[0],i.blockedOn===null);)R0(i),i.blockedOn===null&&Pi.shift()}var no=pi.ReactCurrentBatchConfig,Wl=!0;function o2(e,t,i,a){var h=dt,d=no.transition;no.transition=null;try{dt=1,jf(e,t,i,a)}finally{dt=h,no.transition=d}}function a2(e,t,i,a){var h=dt,d=no.transition;no.transition=null;try{dt=4,jf(e,t,i,a)}finally{dt=h,no.transition=d}}function jf(e,t,i,a){if(Wl){var h=Wc(e,t,i,a);if(h===null)uc(e,t,a,jl,i),cd(e,a);else if(i2(h,e,t,i,a))a.stopPropagation();else if(cd(e,a),t&4&&-1<r2.indexOf(e)){for(;h!==null;){var d=Ba(h);if(d!==null&&I0(d),d=Wc(e,t,i,a),d===null&&uc(e,t,a,jl,i),d===h)break;h=d}h!==null&&a.stopPropagation()}else uc(e,t,a,null,i)}}var jl=null;function Wc(e,t,i,a){if(jl=null,e=Uf(a),e=ds(e),e!==null)if(t=Is(e),t===null)e=null;else if(i=t.tag,i===13){if(e=w0(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function P0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ym()){case Hf:return 1;case C0:return 4;case Hl:case Km:return 16;case A0:return 536870912;default:return 16}default:return 16}}var Mi=null,Zf=null,Tl=null;function L0(){if(Tl)return Tl;var e,t=Zf,i=t.length,a,h="value"in Mi?Mi.value:Mi.textContent,d=h.length;for(e=0;e<i&&t[e]===h[e];e++);var x=i-e;for(a=1;a<=x&&t[i-a]===h[d-a];a++);return Tl=h.slice(e,1<a?1-a:void 0)}function Il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fl(){return!0}function hd(){return!1}function nr(e){function t(i,a,h,d,x){this._reactName=i,this._targetInst=h,this.type=a,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fl:hd,this.isPropagationStopped=hd,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),t}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=nr(mo),ka=Dt({},mo,{view:0,detail:0}),l2=nr(ka),ec,tc,Yo,gu=Dt({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(ec=e.screenX-Yo.screenX,tc=e.screenY-Yo.screenY):tc=ec=0,Yo=e),ec)},movementY:function(e){return"movementY"in e?e.movementY:tc}}),dd=nr(gu),u2=Dt({},gu,{dataTransfer:0}),c2=nr(u2),f2=Dt({},ka,{relatedTarget:0}),nc=nr(f2),h2=Dt({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=nr(h2),p2=Dt({},mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g2=nr(p2),m2=Dt({},mo,{data:0}),pd=nr(m2),x2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w2[e])?!!t[e]:!1}function Xf(){return y2}var v2=Dt({},ka,{key:function(e){if(e.key){var t=x2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xf,charCode:function(e){return e.type==="keypress"?Il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E2=nr(v2),C2=Dt({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=nr(C2),A2=Dt({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xf}),S2=nr(A2),T2=Dt({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=nr(T2),N2=Dt({},gu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=nr(N2),b2=[9,13,27,32],Yf=ci&&"CompositionEvent"in window,oa=null;ci&&"documentMode"in document&&(oa=document.documentMode);var R2=ci&&"TextEvent"in window&&!oa,M0=ci&&(!Yf||oa&&8<oa&&11>=oa),md=" ",xd=!1;function D0(e,t){switch(e){case"keyup":return b2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vs=!1;function P2(e,t){switch(e){case"compositionend":return k0(t);case"keypress":return t.which!==32?null:(xd=!0,md);case"textInput":return e=t.data,e===md&&xd?null:e;default:return null}}function L2(e,t){if(Vs)return e==="compositionend"||!Yf&&D0(e,t)?(e=L0(),Tl=Zf=Mi=null,Vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M0&&t.locale!=="ko"?null:t.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M2[e.type]:t==="textarea"}function B0(e,t,i,a){p0(a),t=Zl(t,"onChange"),0<t.length&&(i=new Gf("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var aa=null,va=null;function D2(e){Y0(e,0)}function mu(e){var t=Zs(e);if(a0(t))return e}function k2(e,t){if(e==="change")return t}var F0=!1;if(ci){var rc;if(ci){var ic="oninput"in document;if(!ic){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),ic=typeof wd.oninput=="function"}rc=ic}else rc=!1;F0=rc&&(!document.documentMode||9<document.documentMode)}function yd(){aa&&(aa.detachEvent("onpropertychange",z0),va=aa=null)}function z0(e){if(e.propertyName==="value"&&mu(va)){var t=[];B0(t,va,e,Uf(e)),_0(D2,t)}}function B2(e,t,i){e==="focusin"?(yd(),aa=t,va=i,aa.attachEvent("onpropertychange",z0)):e==="focusout"&&yd()}function F2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(va)}function z2(e,t){if(e==="click")return mu(t)}function U2(e,t){if(e==="input"||e==="change")return mu(t)}function H2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pr=typeof Object.is=="function"?Object.is:H2;function Ea(e,t){if(Pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var h=i[a];if(!Sc.call(t,h)||!Pr(e[h],t[h]))return!1}return!0}function vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,t){var i=vd(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=vd(i)}}function U0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H0(){for(var e=window,t=Fl();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Fl(e.document)}return t}function Kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V2(e){var t=H0(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&U0(i.ownerDocument.documentElement,i)){if(a!==null&&Kf(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,d=Math.min(a.start,h);a=a.end===void 0?d:Math.min(a.end,h),!e.extend&&d>a&&(h=a,a=d,d=h),h=Ed(i,d);var x=Ed(i,a);h&&x&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W2=ci&&"documentMode"in document&&11>=document.documentMode,Ws=null,jc=null,la=null,Zc=!1;function Cd(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Zc||Ws==null||Ws!==Fl(a)||(a=Ws,"selectionStart"in a&&Kf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),la&&Ea(la,a)||(la=a,a=Zl(jc,"onSelect"),0<a.length&&(t=new Gf("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Ws)))}function hl(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var js={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},sc={},V0={};ci&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function xu(e){if(sc[e])return sc[e];if(!js[e])return e;var t=js[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in V0)return sc[e]=t[i];return e}var W0=xu("animationend"),j0=xu("animationiteration"),Z0=xu("animationstart"),G0=xu("transitionend"),X0=new Map,Ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(e,t){X0.set(e,t),Ts(t,[e])}for(var oc=0;oc<Ad.length;oc++){var ac=Ad[oc],j2=ac.toLowerCase(),Z2=ac[0].toUpperCase()+ac.slice(1);Yi(j2,"on"+Z2)}Yi(W0,"onAnimationEnd");Yi(j0,"onAnimationIteration");Yi(Z0,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(G0,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Sd(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,jm(a,t,void 0,e),e.currentTarget=null}function Y0(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],h=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var x=a.length-1;0<=x;x--){var y=a[x],E=y.instance,v=y.currentTarget;if(y=y.listener,E!==d&&h.isPropagationStopped())break e;Sd(h,y,v),d=E}else for(x=0;x<a.length;x++){if(y=a[x],E=y.instance,v=y.currentTarget,y=y.listener,E!==d&&h.isPropagationStopped())break e;Sd(h,y,v),d=E}}}if(Ul)throw e=Uc,Ul=!1,Uc=null,e}function Tt(e,t){var i=t[qc];i===void 0&&(i=t[qc]=new Set);var a=e+"__bubble";i.has(a)||(K0(t,e,2,!1),i.add(a))}function lc(e,t,i){var a=0;t&&(a|=4),K0(i,e,a,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Ca(e){if(!e[dl]){e[dl]=!0,n0.forEach(function(i){i!=="selectionchange"&&(G2.has(i)||lc(i,!1,e),lc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,lc("selectionchange",!1,t))}}function K0(e,t,i,a){switch(P0(t)){case 1:var h=o2;break;case 4:h=a2;break;default:h=jf}i=h.bind(null,t,i,e),h=void 0,!zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),a?h!==void 0?e.addEventListener(t,i,{capture:!0,passive:h}):e.addEventListener(t,i,!0):h!==void 0?e.addEventListener(t,i,{passive:h}):e.addEventListener(t,i,!1)}function uc(e,t,i,a,h){var d=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var y=a.stateNode.containerInfo;if(y===h||y.nodeType===8&&y.parentNode===h)break;if(x===4)for(x=a.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;x=x.return}for(;y!==null;){if(x=ds(y),x===null)return;if(E=x.tag,E===5||E===6){a=d=x;continue e}y=y.parentNode}}a=a.return}_0(function(){var v=d,b=Uf(i),N=[];e:{var k=X0.get(e);if(k!==void 0){var W=Gf,H=e;switch(e){case"keypress":if(Il(i)===0)break e;case"keydown":case"keyup":W=E2;break;case"focusin":H="focus",W=nc;break;case"focusout":H="blur",W=nc;break;case"beforeblur":case"afterblur":W=nc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=S2;break;case W0:case j0:case Z0:W=d2;break;case G0:W=I2;break;case"scroll":W=l2;break;case"wheel":W=O2;break;case"copy":case"cut":case"paste":W=g2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=gd}var V=(t&4)!==0,q=!V&&e==="scroll",F=V?k!==null?k+"Capture":null:k;V=[];for(var D=v,M;D!==null;){M=D;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,F!==null&&(G=xa(D,F),G!=null&&V.push(Aa(D,G,M)))),q)break;D=D.return}0<V.length&&(k=new W(k,H,null,i,b),N.push({event:k,listeners:V}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",k&&i!==Bc&&(H=i.relatedTarget||i.fromElement)&&(ds(H)||H[fi]))break e;if((W||k)&&(k=b.window===b?b:(k=b.ownerDocument)?k.defaultView||k.parentWindow:window,W?(H=i.relatedTarget||i.toElement,W=v,H=H?ds(H):null,H!==null&&(q=Is(H),H!==q||H.tag!==5&&H.tag!==6)&&(H=null)):(W=null,H=v),W!==H)){if(V=dd,G="onMouseLeave",F="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(V=gd,G="onPointerLeave",F="onPointerEnter",D="pointer"),q=W==null?k:Zs(W),M=H==null?k:Zs(H),k=new V(G,D+"leave",W,i,b),k.target=q,k.relatedTarget=M,G=null,ds(b)===v&&(V=new V(F,D+"enter",H,i,b),V.target=M,V.relatedTarget=q,G=V),q=G,W&&H)t:{for(V=W,F=H,D=0,M=V;M;M=Fs(M))D++;for(M=0,G=F;G;G=Fs(G))M++;for(;0<D-M;)V=Fs(V),D--;for(;0<M-D;)F=Fs(F),M--;for(;D--;){if(V===F||F!==null&&V===F.alternate)break t;V=Fs(V),F=Fs(F)}V=null}else V=null;W!==null&&Td(N,k,W,V,!1),H!==null&&q!==null&&Td(N,q,H,V,!0)}}e:{if(k=v?Zs(v):window,W=k.nodeName&&k.nodeName.toLowerCase(),W==="select"||W==="input"&&k.type==="file")var ue=k2;else if(_d(k))if(F0)ue=U2;else{ue=F2;var le=B2}else(W=k.nodeName)&&W.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(ue=z2);if(ue&&(ue=ue(e,v))){B0(N,ue,i,b);break e}le&&le(e,k,v),e==="focusout"&&(le=k._wrapperState)&&le.controlled&&k.type==="number"&&Pc(k,"number",k.value)}switch(le=v?Zs(v):window,e){case"focusin":(_d(le)||le.contentEditable==="true")&&(Ws=le,jc=v,la=null);break;case"focusout":la=jc=Ws=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Cd(N,i,b);break;case"selectionchange":if(W2)break;case"keydown":case"keyup":Cd(N,i,b)}var Y;if(Yf)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Vs?D0(e,i)&&(ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ge="onCompositionStart");ge&&(M0&&i.locale!=="ko"&&(Vs||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Vs&&(Y=L0()):(Mi=b,Zf="value"in Mi?Mi.value:Mi.textContent,Vs=!0)),le=Zl(v,ge),0<le.length&&(ge=new pd(ge,e,null,i,b),N.push({event:ge,listeners:le}),Y?ge.data=Y:(Y=k0(i),Y!==null&&(ge.data=Y)))),(Y=R2?P2(e,i):L2(e,i))&&(v=Zl(v,"onBeforeInput"),0<v.length&&(b=new pd("onBeforeInput","beforeinput",null,i,b),N.push({event:b,listeners:v}),b.data=Y))}Y0(N,t)})}function Aa(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Zl(e,t){for(var i=t+"Capture",a=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=xa(e,i),d!=null&&a.unshift(Aa(e,d,h)),d=xa(e,t),d!=null&&a.push(Aa(e,d,h))),e=e.return}return a}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Td(e,t,i,a,h){for(var d=t._reactName,x=[];i!==null&&i!==a;){var y=i,E=y.alternate,v=y.stateNode;if(E!==null&&E===a)break;y.tag===5&&v!==null&&(y=v,h?(E=xa(i,d),E!=null&&x.unshift(Aa(i,E,y))):h||(E=xa(i,d),E!=null&&x.push(Aa(i,E,y)))),i=i.return}x.length!==0&&e.push({event:t,listeners:x})}var X2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function Id(e){return(typeof e=="string"?e:""+e).replace(X2,`
`).replace(Y2,"")}function pl(e,t,i){if(t=Id(t),Id(e)!==t&&i)throw Error(pe(425))}function Gl(){}var Gc=null,Xc=null;function Yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,Nd=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nd<"u"?function(e){return Nd.resolve(null).then(e).catch(Q2)}:Kc;function Q2(e){setTimeout(function(){throw e})}function cc(e,t){var i=t,a=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(a===0){e.removeChild(h),ya(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=h}while(i);ya(t)}function Ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Od(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var xo=Math.random().toString(36).slice(2),Zr="__reactFiber$"+xo,Sa="__reactProps$"+xo,fi="__reactContainer$"+xo,qc="__reactEvents$"+xo,J2="__reactListeners$"+xo,$2="__reactHandles$"+xo;function ds(e){var t=e[Zr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[fi]||i[Zr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Od(e);e!==null;){if(i=e[Zr])return i;e=Od(e)}return t}e=i,i=e.parentNode}return null}function Ba(e){return e=e[Zr]||e[fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function _u(e){return e[Sa]||null}var Qc=[],Gs=-1;function Ki(e){return{current:e}}function Nt(e){0>Gs||(e.current=Qc[Gs],Qc[Gs]=null,Gs--)}function Et(e,t){Gs++,Qc[Gs]=e.current,e.current=t}var Xi={},An=Ki(Xi),Un=Ki(!1),ys=Xi;function oo(e,t){var i=e.type.contextTypes;if(!i)return Xi;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function Hn(e){return e=e.childContextTypes,e!=null}function Xl(){Nt(Un),Nt(An)}function bd(e,t,i){if(An.current!==Xi)throw Error(pe(168));Et(An,t),Et(Un,i)}function q0(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var h in a)if(!(h in t))throw Error(pe(108,Bm(e)||"Unknown",h));return Dt({},i,a)}function Yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xi,ys=An.current,Et(An,e),Et(Un,Un.current),!0}function Rd(e,t,i){var a=e.stateNode;if(!a)throw Error(pe(169));i?(e=q0(e,t,ys),a.__reactInternalMemoizedMergedChildContext=e,Nt(Un),Nt(An),Et(An,e)):Nt(Un),Et(Un,i)}var oi=null,wu=!1,fc=!1;function Q0(e){oi===null?oi=[e]:oi.push(e)}function ex(e){wu=!0,Q0(e)}function qi(){if(!fc&&oi!==null){fc=!0;var e=0,t=dt;try{var i=oi;for(dt=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}oi=null,wu=!1}catch(h){throw oi!==null&&(oi=oi.slice(e+1)),E0(Hf,qi),h}finally{dt=t,fc=!1}}return null}var Xs=[],Ys=0,Kl=null,ql=0,hr=[],dr=0,vs=null,ai=1,li="";function fs(e,t){Xs[Ys++]=ql,Xs[Ys++]=Kl,Kl=e,ql=t}function J0(e,t,i){hr[dr++]=ai,hr[dr++]=li,hr[dr++]=vs,vs=e;var a=ai;e=li;var h=32-br(a)-1;a&=~(1<<h),i+=1;var d=32-br(t)+h;if(30<d){var x=h-h%5;d=(a&(1<<x)-1).toString(32),a>>=x,h-=x,ai=1<<32-br(t)+h|i<<h|a,li=d+e}else ai=1<<d|i<<h|a,li=e}function qf(e){e.return!==null&&(fs(e,1),J0(e,1,0))}function Qf(e){for(;e===Kl;)Kl=Xs[--Ys],Xs[Ys]=null,ql=Xs[--Ys],Xs[Ys]=null;for(;e===vs;)vs=hr[--dr],hr[dr]=null,li=hr[--dr],hr[dr]=null,ai=hr[--dr],hr[dr]=null}var $n=null,Jn=null,bt=!1,Or=null;function $0(e,t){var i=pr(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Pd(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$n=e,Jn=Ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$n=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=vs!==null?{id:ai,overflow:li}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=pr(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,$n=e,Jn=null,!0):!1;default:return!1}}function Jc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $c(e){if(bt){var t=Jn;if(t){var i=t;if(!Pd(e,t)){if(Jc(e))throw Error(pe(418));t=Ui(i.nextSibling);var a=$n;t&&Pd(e,t)?$0(a,i):(e.flags=e.flags&-4097|2,bt=!1,$n=e)}}else{if(Jc(e))throw Error(pe(418));e.flags=e.flags&-4097|2,bt=!1,$n=e}}}function Ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$n=e}function gl(e){if(e!==$n)return!1;if(!bt)return Ld(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yc(e.type,e.memoizedProps)),t&&(t=Jn)){if(Jc(e))throw ep(),Error(pe(418));for(;t;)$0(e,t),t=Ui(t.nextSibling)}if(Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Jn=Ui(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=$n?Ui(e.stateNode.nextSibling):null;return!0}function ep(){for(var e=Jn;e;)e=Ui(e.nextSibling)}function ao(){Jn=$n=null,bt=!1}function Jf(e){Or===null?Or=[e]:Or.push(e)}var tx=pi.ReactCurrentBatchConfig;function Ko(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(pe(309));var a=i.stateNode}if(!a)throw Error(pe(147,e));var h=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(x){var y=h.refs;x===null?delete y[d]:y[d]=x},t._stringRef=d,t)}if(typeof e!="string")throw Error(pe(284));if(!i._owner)throw Error(pe(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Md(e){var t=e._init;return t(e._payload)}function tp(e){function t(F,D){if(e){var M=F.deletions;M===null?(F.deletions=[D],F.flags|=16):M.push(D)}}function i(F,D){if(!e)return null;for(;D!==null;)t(F,D),D=D.sibling;return null}function a(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function h(F,D){return F=ji(F,D),F.index=0,F.sibling=null,F}function d(F,D,M){return F.index=M,e?(M=F.alternate,M!==null?(M=M.index,M<D?(F.flags|=2,D):M):(F.flags|=2,D)):(F.flags|=1048576,D)}function x(F){return e&&F.alternate===null&&(F.flags|=2),F}function y(F,D,M,G){return D===null||D.tag!==6?(D=_c(M,F.mode,G),D.return=F,D):(D=h(D,M),D.return=F,D)}function E(F,D,M,G){var ue=M.type;return ue===Hs?b(F,D,M.props.children,G,M.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===bi&&Md(ue)===D.type)?(G=h(D,M.props),G.ref=Ko(F,D,M),G.return=F,G):(G=Ml(M.type,M.key,M.props,null,F.mode,G),G.ref=Ko(F,D,M),G.return=F,G)}function v(F,D,M,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=wc(M,F.mode,G),D.return=F,D):(D=h(D,M.children||[]),D.return=F,D)}function b(F,D,M,G,ue){return D===null||D.tag!==7?(D=_s(M,F.mode,G,ue),D.return=F,D):(D=h(D,M),D.return=F,D)}function N(F,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return D=_c(""+D,F.mode,M),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case sl:return M=Ml(D.type,D.key,D.props,null,F.mode,M),M.ref=Ko(F,null,D),M.return=F,M;case Us:return D=wc(D,F.mode,M),D.return=F,D;case bi:var G=D._init;return N(F,G(D._payload),M)}if(ea(D)||jo(D))return D=_s(D,F.mode,M,null),D.return=F,D;ml(F,D)}return null}function k(F,D,M,G){var ue=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:y(F,D,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case sl:return M.key===ue?E(F,D,M,G):null;case Us:return M.key===ue?v(F,D,M,G):null;case bi:return ue=M._init,k(F,D,ue(M._payload),G)}if(ea(M)||jo(M))return ue!==null?null:b(F,D,M,G,null);ml(F,M)}return null}function W(F,D,M,G,ue){if(typeof G=="string"&&G!==""||typeof G=="number")return F=F.get(M)||null,y(D,F,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case sl:return F=F.get(G.key===null?M:G.key)||null,E(D,F,G,ue);case Us:return F=F.get(G.key===null?M:G.key)||null,v(D,F,G,ue);case bi:var le=G._init;return W(F,D,M,le(G._payload),ue)}if(ea(G)||jo(G))return F=F.get(M)||null,b(D,F,G,ue,null);ml(D,G)}return null}function H(F,D,M,G){for(var ue=null,le=null,Y=D,ge=D=0,re=null;Y!==null&&ge<M.length;ge++){Y.index>ge?(re=Y,Y=null):re=Y.sibling;var De=k(F,Y,M[ge],G);if(De===null){Y===null&&(Y=re);break}e&&Y&&De.alternate===null&&t(F,Y),D=d(De,D,ge),le===null?ue=De:le.sibling=De,le=De,Y=re}if(ge===M.length)return i(F,Y),bt&&fs(F,ge),ue;if(Y===null){for(;ge<M.length;ge++)Y=N(F,M[ge],G),Y!==null&&(D=d(Y,D,ge),le===null?ue=Y:le.sibling=Y,le=Y);return bt&&fs(F,ge),ue}for(Y=a(F,Y);ge<M.length;ge++)re=W(Y,F,ge,M[ge],G),re!==null&&(e&&re.alternate!==null&&Y.delete(re.key===null?ge:re.key),D=d(re,D,ge),le===null?ue=re:le.sibling=re,le=re);return e&&Y.forEach(function(Fe){return t(F,Fe)}),bt&&fs(F,ge),ue}function V(F,D,M,G){var ue=jo(M);if(typeof ue!="function")throw Error(pe(150));if(M=ue.call(M),M==null)throw Error(pe(151));for(var le=ue=null,Y=D,ge=D=0,re=null,De=M.next();Y!==null&&!De.done;ge++,De=M.next()){Y.index>ge?(re=Y,Y=null):re=Y.sibling;var Fe=k(F,Y,De.value,G);if(Fe===null){Y===null&&(Y=re);break}e&&Y&&Fe.alternate===null&&t(F,Y),D=d(Fe,D,ge),le===null?ue=Fe:le.sibling=Fe,le=Fe,Y=re}if(De.done)return i(F,Y),bt&&fs(F,ge),ue;if(Y===null){for(;!De.done;ge++,De=M.next())De=N(F,De.value,G),De!==null&&(D=d(De,D,ge),le===null?ue=De:le.sibling=De,le=De);return bt&&fs(F,ge),ue}for(Y=a(F,Y);!De.done;ge++,De=M.next())De=W(Y,F,ge,De.value,G),De!==null&&(e&&De.alternate!==null&&Y.delete(De.key===null?ge:De.key),D=d(De,D,ge),le===null?ue=De:le.sibling=De,le=De);return e&&Y.forEach(function(we){return t(F,we)}),bt&&fs(F,ge),ue}function q(F,D,M,G){if(typeof M=="object"&&M!==null&&M.type===Hs&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case sl:e:{for(var ue=M.key,le=D;le!==null;){if(le.key===ue){if(ue=M.type,ue===Hs){if(le.tag===7){i(F,le.sibling),D=h(le,M.props.children),D.return=F,F=D;break e}}else if(le.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===bi&&Md(ue)===le.type){i(F,le.sibling),D=h(le,M.props),D.ref=Ko(F,le,M),D.return=F,F=D;break e}i(F,le);break}else t(F,le);le=le.sibling}M.type===Hs?(D=_s(M.props.children,F.mode,G,M.key),D.return=F,F=D):(G=Ml(M.type,M.key,M.props,null,F.mode,G),G.ref=Ko(F,D,M),G.return=F,F=G)}return x(F);case Us:e:{for(le=M.key;D!==null;){if(D.key===le)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){i(F,D.sibling),D=h(D,M.children||[]),D.return=F,F=D;break e}else{i(F,D);break}else t(F,D);D=D.sibling}D=wc(M,F.mode,G),D.return=F,F=D}return x(F);case bi:return le=M._init,q(F,D,le(M._payload),G)}if(ea(M))return H(F,D,M,G);if(jo(M))return V(F,D,M,G);ml(F,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,D!==null&&D.tag===6?(i(F,D.sibling),D=h(D,M),D.return=F,F=D):(i(F,D),D=_c(M,F.mode,G),D.return=F,F=D),x(F)):i(F,D)}return q}var lo=tp(!0),np=tp(!1),Ql=Ki(null),Jl=null,Ks=null,$f=null;function eh(){$f=Ks=Jl=null}function th(e){var t=Ql.current;Nt(Ql),e._currentValue=t}function ef(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function ro(e,t){Jl=e,$f=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zn=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if($f!==e)if(e={context:e,memoizedValue:t,next:null},Ks===null){if(Jl===null)throw Error(pe(308));Ks=e,Jl.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return t}var ps=null;function nh(e){ps===null?ps=[e]:ps.push(e)}function rp(e,t,i,a){var h=t.interleaved;return h===null?(i.next=i,nh(t)):(i.next=h.next,h.next=i),t.interleaved=i,hi(e,a)}function hi(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ri=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,st&2){var h=a.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),a.pending=t,hi(e,i)}return h=a.interleaved,h===null?(t.next=t,nh(a)):(t.next=h.next,h.next=t),a.interleaved=t,hi(e,i)}function Nl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Vf(e,i)}}function Dd(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var x={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=x:d=d.next=x,i=i.next}while(i!==null);d===null?h=d=t:d=d.next=t}else h=d=t;i={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function $l(e,t,i,a){var h=e.updateQueue;Ri=!1;var d=h.firstBaseUpdate,x=h.lastBaseUpdate,y=h.shared.pending;if(y!==null){h.shared.pending=null;var E=y,v=E.next;E.next=null,x===null?d=v:x.next=v,x=E;var b=e.alternate;b!==null&&(b=b.updateQueue,y=b.lastBaseUpdate,y!==x&&(y===null?b.firstBaseUpdate=v:y.next=v,b.lastBaseUpdate=E))}if(d!==null){var N=h.baseState;x=0,b=v=E=null,y=d;do{var k=y.lane,W=y.eventTime;if((a&k)===k){b!==null&&(b=b.next={eventTime:W,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var H=e,V=y;switch(k=t,W=i,V.tag){case 1:if(H=V.payload,typeof H=="function"){N=H.call(W,N,k);break e}N=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=V.payload,k=typeof H=="function"?H.call(W,N,k):H,k==null)break e;N=Dt({},N,k);break e;case 2:Ri=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,k=h.effects,k===null?h.effects=[y]:k.push(y))}else W={eventTime:W,lane:k,tag:y.tag,payload:y.payload,callback:y.callback,next:null},b===null?(v=b=W,E=N):b=b.next=W,x|=k;if(y=y.next,y===null){if(y=h.shared.pending,y===null)break;k=y,y=k.next,k.next=null,h.lastBaseUpdate=k,h.shared.pending=null}}while(!0);if(b===null&&(E=N),h.baseState=E,h.firstBaseUpdate=v,h.lastBaseUpdate=b,t=h.shared.interleaved,t!==null){h=t;do x|=h.lane,h=h.next;while(h!==t)}else d===null&&(h.shared.lanes=0);Cs|=x,e.lanes=x,e.memoizedState=N}}function kd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],h=a.callback;if(h!==null){if(a.callback=null,a=i,typeof h!="function")throw Error(pe(191,h));h.call(a)}}}var Fa={},Xr=Ki(Fa),Ta=Ki(Fa),Ia=Ki(Fa);function gs(e){if(e===Fa)throw Error(pe(174));return e}function ih(e,t){switch(Et(Ia,t),Et(Ta,e),Et(Xr,Fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mc(t,e)}Nt(Xr),Et(Xr,t)}function uo(){Nt(Xr),Nt(Ta),Nt(Ia)}function sp(e){gs(Ia.current);var t=gs(Xr.current),i=Mc(t,e.type);t!==i&&(Et(Ta,e),Et(Xr,i))}function sh(e){Ta.current===e&&(Nt(Xr),Nt(Ta))}var Lt=Ki(0);function eu(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hc=[];function oh(){for(var e=0;e<hc.length;e++)hc[e]._workInProgressVersionPrimary=null;hc.length=0}var Ol=pi.ReactCurrentDispatcher,dc=pi.ReactCurrentBatchConfig,Es=0,Mt=null,Jt=null,cn=null,tu=!1,ua=!1,Na=0,nx=0;function yn(){throw Error(pe(321))}function ah(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Pr(e[i],t[i]))return!1;return!0}function lh(e,t,i,a,h,d){if(Es=d,Mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ol.current=e===null||e.memoizedState===null?ox:ax,e=i(a,h),ua){d=0;do{if(ua=!1,Na=0,25<=d)throw Error(pe(301));d+=1,cn=Jt=null,t.updateQueue=null,Ol.current=lx,e=i(a,h)}while(ua)}if(Ol.current=nu,t=Jt!==null&&Jt.next!==null,Es=0,cn=Jt=Mt=null,tu=!1,t)throw Error(pe(300));return e}function uh(){var e=Na!==0;return Na=0,e}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Mt.memoizedState=cn=e:cn=cn.next=e,cn}function xr(){if(Jt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var t=cn===null?Mt.memoizedState:cn.next;if(t!==null)cn=t,Jt=e;else{if(e===null)throw Error(pe(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},cn===null?Mt.memoizedState=cn=e:cn=cn.next=e}return cn}function Oa(e,t){return typeof t=="function"?t(e):t}function pc(e){var t=xr(),i=t.queue;if(i===null)throw Error(pe(311));i.lastRenderedReducer=e;var a=Jt,h=a.baseQueue,d=i.pending;if(d!==null){if(h!==null){var x=h.next;h.next=d.next,d.next=x}a.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,a=a.baseState;var y=x=null,E=null,v=d;do{var b=v.lane;if((Es&b)===b)E!==null&&(E=E.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),a=v.hasEagerState?v.eagerState:e(a,v.action);else{var N={lane:b,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};E===null?(y=E=N,x=a):E=E.next=N,Mt.lanes|=b,Cs|=b}v=v.next}while(v!==null&&v!==d);E===null?x=a:E.next=y,Pr(a,t.memoizedState)||(zn=!0),t.memoizedState=a,t.baseState=x,t.baseQueue=E,i.lastRenderedState=a}if(e=i.interleaved,e!==null){h=e;do d=h.lane,Mt.lanes|=d,Cs|=d,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function gc(e){var t=xr(),i=t.queue;if(i===null)throw Error(pe(311));i.lastRenderedReducer=e;var a=i.dispatch,h=i.pending,d=t.memoizedState;if(h!==null){i.pending=null;var x=h=h.next;do d=e(d,x.action),x=x.next;while(x!==h);Pr(d,t.memoizedState)||(zn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,a]}function op(){}function ap(e,t){var i=Mt,a=xr(),h=t(),d=!Pr(a.memoizedState,h);if(d&&(a.memoizedState=h,zn=!0),a=a.queue,ch(cp.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||cn!==null&&cn.memoizedState.tag&1){if(i.flags|=2048,ba(9,up.bind(null,i,a,h,t),void 0,null),fn===null)throw Error(pe(349));Es&30||lp(i,t,h)}return h}function lp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function up(e,t,i,a){t.value=i,t.getSnapshot=a,fp(t)&&hp(e)}function cp(e,t,i){return i(function(){fp(t)&&hp(e)})}function fp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Pr(e,i)}catch{return!0}}function hp(e){var t=hi(e,1);t!==null&&Rr(t,e,1,-1)}function Bd(e){var t=jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t.queue=e,e=e.dispatch=sx.bind(null,Mt,e),[t.memoizedState,e]}function ba(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function dp(){return xr().memoizedState}function bl(e,t,i,a){var h=jr();Mt.flags|=e,h.memoizedState=ba(1|t,i,void 0,a===void 0?null:a)}function yu(e,t,i,a){var h=xr();a=a===void 0?null:a;var d=void 0;if(Jt!==null){var x=Jt.memoizedState;if(d=x.destroy,a!==null&&ah(a,x.deps)){h.memoizedState=ba(t,i,d,a);return}}Mt.flags|=e,h.memoizedState=ba(1|t,i,d,a)}function Fd(e,t){return bl(8390656,8,e,t)}function ch(e,t){return yu(2048,8,e,t)}function pp(e,t){return yu(4,2,e,t)}function gp(e,t){return yu(4,4,e,t)}function mp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xp(e,t,i){return i=i!=null?i.concat([e]):null,yu(4,4,mp.bind(null,t,e),i)}function fh(){}function _p(e,t){var i=xr();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&ah(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function wp(e,t){var i=xr();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&ah(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function yp(e,t,i){return Es&21?(Pr(i,t)||(i=S0(),Mt.lanes|=i,Cs|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zn=!0),e.memoizedState=i)}function rx(e,t){var i=dt;dt=i!==0&&4>i?i:4,e(!0);var a=dc.transition;dc.transition={};try{e(!1),t()}finally{dt=i,dc.transition=a}}function vp(){return xr().memoizedState}function ix(e,t,i){var a=Wi(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Ep(e))Cp(t,i);else if(i=rp(e,t,i,a),i!==null){var h=Ln();Rr(i,e,a,h),Ap(i,t,a)}}function sx(e,t,i){var a=Wi(e),h={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ep(e))Cp(t,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var x=t.lastRenderedState,y=d(x,i);if(h.hasEagerState=!0,h.eagerState=y,Pr(y,x)){var E=t.interleaved;E===null?(h.next=h,nh(t)):(h.next=E.next,E.next=h),t.interleaved=h;return}}catch{}finally{}i=rp(e,t,h,a),i!==null&&(h=Ln(),Rr(i,e,a,h),Ap(i,t,a))}}function Ep(e){var t=e.alternate;return e===Mt||t!==null&&t===Mt}function Cp(e,t){ua=tu=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ap(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Vf(e,i)}}var nu={readContext:mr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},ox={readContext:mr,useCallback:function(e,t){return jr().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:Fd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,bl(4194308,4,mp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return bl(4,2,e,t)},useMemo:function(e,t){var i=jr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=jr();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ix.bind(null,Mt,e),[a.memoizedState,e]},useRef:function(e){var t=jr();return e={current:e},t.memoizedState=e},useState:Bd,useDebugValue:fh,useDeferredValue:function(e){return jr().memoizedState=e},useTransition:function(){var e=Bd(!1),t=e[0];return e=rx.bind(null,e[1]),jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Mt,h=jr();if(bt){if(i===void 0)throw Error(pe(407));i=i()}else{if(i=t(),fn===null)throw Error(pe(349));Es&30||lp(a,t,i)}h.memoizedState=i;var d={value:i,getSnapshot:t};return h.queue=d,Fd(cp.bind(null,a,d,e),[e]),a.flags|=2048,ba(9,up.bind(null,a,d,i,t),void 0,null),i},useId:function(){var e=jr(),t=fn.identifierPrefix;if(bt){var i=li,a=ai;i=(a&~(1<<32-br(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Na++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=nx++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ax={readContext:mr,useCallback:_p,useContext:mr,useEffect:ch,useImperativeHandle:xp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:wp,useReducer:pc,useRef:dp,useState:function(){return pc(Oa)},useDebugValue:fh,useDeferredValue:function(e){var t=xr();return yp(t,Jt.memoizedState,e)},useTransition:function(){var e=pc(Oa)[0],t=xr().memoizedState;return[e,t]},useMutableSource:op,useSyncExternalStore:ap,useId:vp,unstable_isNewReconciler:!1},lx={readContext:mr,useCallback:_p,useContext:mr,useEffect:ch,useImperativeHandle:xp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:wp,useReducer:gc,useRef:dp,useState:function(){return gc(Oa)},useDebugValue:fh,useDeferredValue:function(e){var t=xr();return Jt===null?t.memoizedState=e:yp(t,Jt.memoizedState,e)},useTransition:function(){var e=gc(Oa)[0],t=xr().memoizedState;return[e,t]},useMutableSource:op,useSyncExternalStore:ap,useId:vp,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function tf(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:Dt({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var vu={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Ln(),h=Wi(e),d=ui(a,h);d.payload=t,i!=null&&(d.callback=i),t=Hi(e,d,h),t!==null&&(Rr(t,e,h,a),Nl(t,e,h))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Ln(),h=Wi(e),d=ui(a,h);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=Hi(e,d,h),t!==null&&(Rr(t,e,h,a),Nl(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ln(),a=Wi(e),h=ui(i,a);h.tag=2,t!=null&&(h.callback=t),t=Hi(e,h,a),t!==null&&(Rr(t,e,a,i),Nl(t,e,a))}};function zd(e,t,i,a,h,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,x):t.prototype&&t.prototype.isPureReactComponent?!Ea(i,a)||!Ea(h,d):!0}function Sp(e,t,i){var a=!1,h=Xi,d=t.contextType;return typeof d=="object"&&d!==null?d=mr(d):(h=Hn(t)?ys:An.current,a=t.contextTypes,d=(a=a!=null)?oo(e,h):Xi),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vu,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),t}function Ud(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&vu.enqueueReplaceState(t,t.state,null)}function nf(e,t,i,a){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},rh(e);var d=t.contextType;typeof d=="object"&&d!==null?h.context=mr(d):(d=Hn(t)?ys:An.current,h.context=oo(e,d)),h.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(tf(e,t,d,i),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&vu.enqueueReplaceState(h,h.state,null),$l(e,i,h,a),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var i="",a=t;do i+=km(a),a=a.return;while(a);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:h,digest:null}}function mc(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function rf(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var ux=typeof WeakMap=="function"?WeakMap:Map;function Tp(e,t,i){i=ui(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){iu||(iu=!0,pf=a),rf(e,t)},i}function Ip(e,t,i){i=ui(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var h=t.value;i.payload=function(){return a(h)},i.callback=function(){rf(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){rf(e,t),typeof a!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),i}function Hd(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new ux;var h=new Set;a.set(t,h)}else h=a.get(t),h===void 0&&(h=new Set,a.set(t,h));h.has(i)||(h.add(i),e=Cx.bind(null,e,t,i),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wd(e,t,i,a,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=ui(-1,1),t.tag=2,Hi(i,t,1))),i.lanes|=1),e)}var cx=pi.ReactCurrentOwner,zn=!1;function Pn(e,t,i,a){t.child=e===null?np(t,null,i,a):lo(t,e.child,i,a)}function jd(e,t,i,a,h){i=i.render;var d=t.ref;return ro(t,h),a=lh(e,t,i,a,d,h),i=uh(),e!==null&&!zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,di(e,t,h)):(bt&&i&&qf(t),t.flags|=1,Pn(e,t,a,h),t.child)}function Zd(e,t,i,a,h){if(e===null){var d=i.type;return typeof d=="function"&&!wh(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,Np(e,t,d,a,h)):(e=Ml(i.type,null,a,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&h)){var x=d.memoizedProps;if(i=i.compare,i=i!==null?i:Ea,i(x,a)&&e.ref===t.ref)return di(e,t,h)}return t.flags|=1,e=ji(d,a),e.ref=t.ref,e.return=t,t.child=e}function Np(e,t,i,a,h){if(e!==null){var d=e.memoizedProps;if(Ea(d,a)&&e.ref===t.ref)if(zn=!1,t.pendingProps=a=d,(e.lanes&h)!==0)e.flags&131072&&(zn=!0);else return t.lanes=e.lanes,di(e,t,h)}return sf(e,t,i,a,h)}function Op(e,t,i){var a=t.pendingProps,h=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Qs,Qn),Qn|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Et(Qs,Qn),Qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,Et(Qs,Qn),Qn|=a}else d!==null?(a=d.baseLanes|i,t.memoizedState=null):a=i,Et(Qs,Qn),Qn|=a;return Pn(e,t,h,i),t.child}function bp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function sf(e,t,i,a,h){var d=Hn(i)?ys:An.current;return d=oo(t,d),ro(t,h),i=lh(e,t,i,a,d,h),a=uh(),e!==null&&!zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,di(e,t,h)):(bt&&a&&qf(t),t.flags|=1,Pn(e,t,i,h),t.child)}function Gd(e,t,i,a,h){if(Hn(i)){var d=!0;Yl(t)}else d=!1;if(ro(t,h),t.stateNode===null)Rl(e,t),Sp(t,i,a),nf(t,i,a,h),a=!0;else if(e===null){var x=t.stateNode,y=t.memoizedProps;x.props=y;var E=x.context,v=i.contextType;typeof v=="object"&&v!==null?v=mr(v):(v=Hn(i)?ys:An.current,v=oo(t,v));var b=i.getDerivedStateFromProps,N=typeof b=="function"||typeof x.getSnapshotBeforeUpdate=="function";N||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==a||E!==v)&&Ud(t,x,a,v),Ri=!1;var k=t.memoizedState;x.state=k,$l(t,a,x,h),E=t.memoizedState,y!==a||k!==E||Un.current||Ri?(typeof b=="function"&&(tf(t,i,b,a),E=t.memoizedState),(y=Ri||zd(t,i,y,a,k,E,v))?(N||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=E),x.props=a,x.state=E,x.context=v,a=y):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{x=t.stateNode,ip(e,t),y=t.memoizedProps,v=t.type===t.elementType?y:Ir(t.type,y),x.props=v,N=t.pendingProps,k=x.context,E=i.contextType,typeof E=="object"&&E!==null?E=mr(E):(E=Hn(i)?ys:An.current,E=oo(t,E));var W=i.getDerivedStateFromProps;(b=typeof W=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==N||k!==E)&&Ud(t,x,a,E),Ri=!1,k=t.memoizedState,x.state=k,$l(t,a,x,h);var H=t.memoizedState;y!==N||k!==H||Un.current||Ri?(typeof W=="function"&&(tf(t,i,W,a),H=t.memoizedState),(v=Ri||zd(t,i,v,a,k,H,E)||!1)?(b||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(a,H,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(a,H,E)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),x.props=a,x.state=H,x.context=E,a=v):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),a=!1)}return of(e,t,i,a,d,h)}function of(e,t,i,a,h,d){bp(e,t);var x=(t.flags&128)!==0;if(!a&&!x)return h&&Rd(t,i,!1),di(e,t,d);a=t.stateNode,cx.current=t;var y=x&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&x?(t.child=lo(t,e.child,null,d),t.child=lo(t,null,y,d)):Pn(e,t,y,d),t.memoizedState=a.state,h&&Rd(t,i,!0),t.child}function Rp(e){var t=e.stateNode;t.pendingContext?bd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bd(e,t.context,!1),ih(e,t.containerInfo)}function Xd(e,t,i,a,h){return ao(),Jf(h),t.flags|=256,Pn(e,t,i,a),t.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pp(e,t,i){var a=t.pendingProps,h=Lt.current,d=!1,x=(t.flags&128)!==0,y;if((y=x)||(y=e!==null&&e.memoizedState===null?!1:(h&2)!==0),y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Et(Lt,h&1),e===null)return $c(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(x=a.children,e=a.fallback,d?(a=t.mode,d=t.child,x={mode:"hidden",children:x},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=Au(x,a,0,null),e=_s(e,a,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=lf(i),t.memoizedState=af,e):hh(t,x));if(h=e.memoizedState,h!==null&&(y=h.dehydrated,y!==null))return fx(e,t,x,a,y,h,i);if(d){d=a.fallback,x=t.mode,h=e.child,y=h.sibling;var E={mode:"hidden",children:a.children};return!(x&1)&&t.child!==h?(a=t.child,a.childLanes=0,a.pendingProps=E,t.deletions=null):(a=ji(h,E),a.subtreeFlags=h.subtreeFlags&14680064),y!==null?d=ji(y,d):(d=_s(d,x,i,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,x=e.child.memoizedState,x=x===null?lf(i):{baseLanes:x.baseLanes|i,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~i,t.memoizedState=af,a}return d=e.child,e=d.sibling,a=ji(d,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function hh(e,t){return t=Au({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xl(e,t,i,a){return a!==null&&Jf(a),lo(t,e.child,null,i),e=hh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fx(e,t,i,a,h,d,x){if(i)return t.flags&256?(t.flags&=-257,a=mc(Error(pe(422))),xl(e,t,x,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,h=t.mode,a=Au({mode:"visible",children:a.children},h,0,null),d=_s(d,h,x,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,t.mode&1&&lo(t,e.child,null,x),t.child.memoizedState=lf(x),t.memoizedState=af,d);if(!(t.mode&1))return xl(e,t,x,null);if(h.data==="$!"){if(a=h.nextSibling&&h.nextSibling.dataset,a)var y=a.dgst;return a=y,d=Error(pe(419)),a=mc(d,a,void 0),xl(e,t,x,a)}if(y=(x&e.childLanes)!==0,zn||y){if(a=fn,a!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(a.suspendedLanes|x)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,hi(e,h),Rr(a,e,h,-1))}return _h(),a=mc(Error(pe(421))),xl(e,t,x,a)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Ax.bind(null,e),h._reactRetry=t,null):(e=d.treeContext,Jn=Ui(h.nextSibling),$n=t,bt=!0,Or=null,e!==null&&(hr[dr++]=ai,hr[dr++]=li,hr[dr++]=vs,ai=e.id,li=e.overflow,vs=t),t=hh(t,a.children),t.flags|=4096,t)}function Yd(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ef(e.return,t,i)}function xc(e,t,i,a,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:h}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=h)}function Lp(e,t,i){var a=t.pendingProps,h=a.revealOrder,d=a.tail;if(Pn(e,t,a.children,i),a=Lt.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yd(e,i,t);else if(e.tag===19)Yd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Et(Lt,a),!(t.mode&1))t.memoizedState=null;else switch(h){case"forwards":for(i=t.child,h=null;i!==null;)e=i.alternate,e!==null&&eu(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=t.child,t.child=null):(h=i.sibling,i.sibling=null),xc(t,!1,h,i,d);break;case"backwards":for(i=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&eu(e)===null){t.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}xc(t,!0,i,null,d);break;case"together":xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function di(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Cs|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,i=ji(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ji(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function hx(e,t,i){switch(t.tag){case 3:Rp(t),ao();break;case 5:sp(t);break;case 1:Hn(t.type)&&Yl(t);break;case 4:ih(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,h=t.memoizedProps.value;Et(Ql,a._currentValue),a._currentValue=h;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Et(Lt,Lt.current&1),t.flags|=128,null):i&t.child.childLanes?Pp(e,t,i):(Et(Lt,Lt.current&1),e=di(e,t,i),e!==null?e.sibling:null);Et(Lt,Lt.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return Lp(e,t,i);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Et(Lt,Lt.current),a)break;return null;case 22:case 23:return t.lanes=0,Op(e,t,i)}return di(e,t,i)}var Mp,uf,Dp,kp;Mp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};uf=function(){};Dp=function(e,t,i,a){var h=e.memoizedProps;if(h!==a){e=t.stateNode,gs(Xr.current);var d=null;switch(i){case"input":h=bc(e,h),a=bc(e,a),d=[];break;case"select":h=Dt({},h,{value:void 0}),a=Dt({},a,{value:void 0}),d=[];break;case"textarea":h=Lc(e,h),a=Lc(e,a),d=[];break;default:typeof h.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Gl)}Dc(i,a);var x;i=null;for(v in h)if(!a.hasOwnProperty(v)&&h.hasOwnProperty(v)&&h[v]!=null)if(v==="style"){var y=h[v];for(x in y)y.hasOwnProperty(x)&&(i||(i={}),i[x]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(ga.hasOwnProperty(v)?d||(d=[]):(d=d||[]).push(v,null));for(v in a){var E=a[v];if(y=h!=null?h[v]:void 0,a.hasOwnProperty(v)&&E!==y&&(E!=null||y!=null))if(v==="style")if(y){for(x in y)!y.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(i||(i={}),i[x]="");for(x in E)E.hasOwnProperty(x)&&y[x]!==E[x]&&(i||(i={}),i[x]=E[x])}else i||(d||(d=[]),d.push(v,i)),i=E;else v==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,y=y?y.__html:void 0,E!=null&&y!==E&&(d=d||[]).push(v,E)):v==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(v,""+E):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(ga.hasOwnProperty(v)?(E!=null&&v==="onScroll"&&Tt("scroll",e),d||y===E||(d=[])):(d=d||[]).push(v,E))}i&&(d=d||[]).push("style",i);var v=d;(t.updateQueue=v)&&(t.flags|=4)}};kp=function(e,t,i,a){i!==a&&(t.flags|=4)};function qo(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,a|=h.subtreeFlags&14680064,a|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function dx(e,t,i){var a=t.pendingProps;switch(Qf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(t),null;case 1:return Hn(t.type)&&Xl(),vn(t),null;case 3:return a=t.stateNode,uo(),Nt(Un),Nt(An),oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Or!==null&&(xf(Or),Or=null))),uf(e,t),vn(t),null;case 5:sh(t);var h=gs(Ia.current);if(i=t.type,e!==null&&t.stateNode!=null)Dp(e,t,i,a,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(pe(166));return vn(t),null}if(e=gs(Xr.current),gl(t)){a=t.stateNode,i=t.type;var d=t.memoizedProps;switch(a[Zr]=t,a[Sa]=d,e=(t.mode&1)!==0,i){case"dialog":Tt("cancel",a),Tt("close",a);break;case"iframe":case"object":case"embed":Tt("load",a);break;case"video":case"audio":for(h=0;h<na.length;h++)Tt(na[h],a);break;case"source":Tt("error",a);break;case"img":case"image":case"link":Tt("error",a),Tt("load",a);break;case"details":Tt("toggle",a);break;case"input":rd(a,d),Tt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Tt("invalid",a);break;case"textarea":sd(a,d),Tt("invalid",a)}Dc(i,d),h=null;for(var x in d)if(d.hasOwnProperty(x)){var y=d[x];x==="children"?typeof y=="string"?a.textContent!==y&&(d.suppressHydrationWarning!==!0&&pl(a.textContent,y,e),h=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&pl(a.textContent,y,e),h=["children",""+y]):ga.hasOwnProperty(x)&&y!=null&&x==="onScroll"&&Tt("scroll",a)}switch(i){case"input":ol(a),id(a,d,!0);break;case"textarea":ol(a),od(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Gl)}a=h,t.updateQueue=a,a!==null&&(t.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=c0(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=x.createElement(i,{is:a.is}):(e=x.createElement(i),i==="select"&&(x=e,a.multiple?x.multiple=!0:a.size&&(x.size=a.size))):e=x.createElementNS(e,i),e[Zr]=t,e[Sa]=a,Mp(e,t,!1,!1),t.stateNode=e;e:{switch(x=kc(i,a),i){case"dialog":Tt("cancel",e),Tt("close",e),h=a;break;case"iframe":case"object":case"embed":Tt("load",e),h=a;break;case"video":case"audio":for(h=0;h<na.length;h++)Tt(na[h],e);h=a;break;case"source":Tt("error",e),h=a;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),h=a;break;case"details":Tt("toggle",e),h=a;break;case"input":rd(e,a),h=bc(e,a),Tt("invalid",e);break;case"option":h=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},h=Dt({},a,{value:void 0}),Tt("invalid",e);break;case"textarea":sd(e,a),h=Lc(e,a),Tt("invalid",e);break;default:h=a}Dc(i,h),y=h;for(d in y)if(y.hasOwnProperty(d)){var E=y[d];d==="style"?d0(e,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&f0(e,E)):d==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&ma(e,E):typeof E=="number"&&ma(e,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ga.hasOwnProperty(d)?E!=null&&d==="onScroll"&&Tt("scroll",e):E!=null&&kf(e,d,E,x))}switch(i){case"input":ol(e),id(e,a,!1);break;case"textarea":ol(e),od(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Gi(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?$s(e,!!a.multiple,d,!1):a.defaultValue!=null&&$s(e,!!a.multiple,a.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Gl)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vn(t),null;case 6:if(e&&t.stateNode!=null)kp(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(pe(166));if(i=gs(Ia.current),gs(Xr.current),gl(t)){if(a=t.stateNode,i=t.memoizedProps,a[Zr]=t,(d=a.nodeValue!==i)&&(e=$n,e!==null))switch(e.tag){case 3:pl(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pl(a.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Zr]=t,t.stateNode=a}return vn(t),null;case 13:if(Nt(Lt),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&Jn!==null&&t.mode&1&&!(t.flags&128))ep(),ao(),t.flags|=98560,d=!1;else if(d=gl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(pe(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(pe(317));d[Zr]=t}else ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vn(t),d=!1}else Or!==null&&(xf(Or),Or=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Lt.current&1?$t===0&&($t=3):_h())),t.updateQueue!==null&&(t.flags|=4),vn(t),null);case 4:return uo(),uf(e,t),e===null&&Ca(t.stateNode.containerInfo),vn(t),null;case 10:return th(t.type._context),vn(t),null;case 17:return Hn(t.type)&&Xl(),vn(t),null;case 19:if(Nt(Lt),d=t.memoizedState,d===null)return vn(t),null;if(a=(t.flags&128)!==0,x=d.rendering,x===null)if(a)qo(d,!1);else{if($t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(x=eu(e),x!==null){for(t.flags|=128,qo(d,!1),a=x.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)d=i,e=a,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Et(Lt,Lt.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ht()>fo&&(t.flags|=128,a=!0,qo(d,!1),t.lanes=4194304)}else{if(!a)if(e=eu(x),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),qo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!bt)return vn(t),null}else 2*Ht()-d.renderingStartTime>fo&&i!==1073741824&&(t.flags|=128,a=!0,qo(d,!1),t.lanes=4194304);d.isBackwards?(x.sibling=t.child,t.child=x):(i=d.last,i!==null?i.sibling=x:t.child=x,d.last=x)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ht(),t.sibling=null,i=Lt.current,Et(Lt,a?i&1|2:i&1),t):(vn(t),null);case 22:case 23:return xh(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Qn&1073741824&&(vn(t),t.subtreeFlags&6&&(t.flags|=8192)):vn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function px(e,t){switch(Qf(t),t.tag){case 1:return Hn(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),Nt(Un),Nt(An),oh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sh(t),null;case 13:if(Nt(Lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nt(Lt),null;case 4:return uo(),null;case 10:return th(t.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var _l=!1,En=!1,gx=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function qs(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ft(e,t,a)}else i.current=null}function cf(e,t,i){try{i()}catch(a){Ft(e,t,a)}}var Kd=!1;function mx(e,t){if(Gc=Wl,e=H0(),Kf(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var h=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var x=0,y=-1,E=-1,v=0,b=0,N=e,k=null;t:for(;;){for(var W;N!==i||h!==0&&N.nodeType!==3||(y=x+h),N!==d||a!==0&&N.nodeType!==3||(E=x+a),N.nodeType===3&&(x+=N.nodeValue.length),(W=N.firstChild)!==null;)k=N,N=W;for(;;){if(N===e)break t;if(k===i&&++v===h&&(y=x),k===d&&++b===a&&(E=x),(W=N.nextSibling)!==null)break;N=k,k=N.parentNode}N=W}i=y===-1||E===-1?null:{start:y,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xc={focusedElem:e,selectionRange:i},Wl=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var H=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var V=H.memoizedProps,q=H.memoizedState,F=t.stateNode,D=F.getSnapshotBeforeUpdate(t.elementType===t.type?V:Ir(t.type,V),q);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(G){Ft(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return H=Kd,Kd=!1,H}function ca(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&cf(t,i,d)}h=h.next}while(h!==a)}}function Eu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function ff(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Bp(e){var t=e.alternate;t!==null&&(e.alternate=null,Bp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[Sa],delete t[qc],delete t[J2],delete t[$2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fp(e){return e.tag===5||e.tag===3||e.tag===4}function qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hf(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Gl));else if(a!==4&&(e=e.child,e!==null))for(hf(e,t,i),e=e.sibling;e!==null;)hf(e,t,i),e=e.sibling}function df(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(df(e,t,i),e=e.sibling;e!==null;)df(e,t,i),e=e.sibling}var dn=null,Nr=!1;function Oi(e,t,i){for(i=i.child;i!==null;)zp(e,t,i),i=i.sibling}function zp(e,t,i){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(pu,i)}catch{}switch(i.tag){case 5:En||qs(i,t);case 6:var a=dn,h=Nr;dn=null,Oi(e,t,i),dn=a,Nr=h,dn!==null&&(Nr?(e=dn,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):dn.removeChild(i.stateNode));break;case 18:dn!==null&&(Nr?(e=dn,i=i.stateNode,e.nodeType===8?cc(e.parentNode,i):e.nodeType===1&&cc(e,i),ya(e)):cc(dn,i.stateNode));break;case 4:a=dn,h=Nr,dn=i.stateNode.containerInfo,Nr=!0,Oi(e,t,i),dn=a,Nr=h;break;case 0:case 11:case 14:case 15:if(!En&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){h=a=a.next;do{var d=h,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&cf(i,t,x),h=h.next}while(h!==a)}Oi(e,t,i);break;case 1:if(!En&&(qs(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(y){Ft(i,t,y)}Oi(e,t,i);break;case 21:Oi(e,t,i);break;case 22:i.mode&1?(En=(a=En)||i.memoizedState!==null,Oi(e,t,i),En=a):Oi(e,t,i);break;default:Oi(e,t,i)}}function Qd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new gx),t.forEach(function(a){var h=Sx.bind(null,e,a);i.has(a)||(i.add(a),a.then(h,h))})}}function Tr(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var h=i[a];try{var d=e,x=t,y=x;e:for(;y!==null;){switch(y.tag){case 5:dn=y.stateNode,Nr=!1;break e;case 3:dn=y.stateNode.containerInfo,Nr=!0;break e;case 4:dn=y.stateNode.containerInfo,Nr=!0;break e}y=y.return}if(dn===null)throw Error(pe(160));zp(d,x,h),dn=null,Nr=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(v){Ft(h,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tr(t,e),Vr(e),a&4){try{ca(3,e,e.return),Eu(3,e)}catch(V){Ft(e,e.return,V)}try{ca(5,e,e.return)}catch(V){Ft(e,e.return,V)}}break;case 1:Tr(t,e),Vr(e),a&512&&i!==null&&qs(i,i.return);break;case 5:if(Tr(t,e),Vr(e),a&512&&i!==null&&qs(i,i.return),e.flags&32){var h=e.stateNode;try{ma(h,"")}catch(V){Ft(e,e.return,V)}}if(a&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,x=i!==null?i.memoizedProps:d,y=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&l0(h,d),kc(y,x);var v=kc(y,d);for(x=0;x<E.length;x+=2){var b=E[x],N=E[x+1];b==="style"?d0(h,N):b==="dangerouslySetInnerHTML"?f0(h,N):b==="children"?ma(h,N):kf(h,b,N,v)}switch(y){case"input":Rc(h,d);break;case"textarea":u0(h,d);break;case"select":var k=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?$s(h,!!d.multiple,W,!1):k!==!!d.multiple&&(d.defaultValue!=null?$s(h,!!d.multiple,d.defaultValue,!0):$s(h,!!d.multiple,d.multiple?[]:"",!1))}h[Sa]=d}catch(V){Ft(e,e.return,V)}}break;case 6:if(Tr(t,e),Vr(e),a&4){if(e.stateNode===null)throw Error(pe(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(V){Ft(e,e.return,V)}}break;case 3:if(Tr(t,e),Vr(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(V){Ft(e,e.return,V)}break;case 4:Tr(t,e),Vr(e);break;case 13:Tr(t,e),Vr(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(gh=Ht())),a&4&&Qd(e);break;case 22:if(b=i!==null&&i.memoizedState!==null,e.mode&1?(En=(v=En)||b,Tr(t,e),En=v):Tr(t,e),Vr(e),a&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!b&&e.mode&1)for(Ce=e,b=e.child;b!==null;){for(N=Ce=b;Ce!==null;){switch(k=Ce,W=k.child,k.tag){case 0:case 11:case 14:case 15:ca(4,k,k.return);break;case 1:qs(k,k.return);var H=k.stateNode;if(typeof H.componentWillUnmount=="function"){a=k,i=k.return;try{t=a,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(V){Ft(a,i,V)}}break;case 5:qs(k,k.return);break;case 22:if(k.memoizedState!==null){$d(N);continue}}W!==null?(W.return=k,Ce=W):$d(N)}b=b.sibling}e:for(b=null,N=e;;){if(N.tag===5){if(b===null){b=N;try{h=N.stateNode,v?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=N.stateNode,E=N.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,y.style.display=h0("display",x))}catch(V){Ft(e,e.return,V)}}}else if(N.tag===6){if(b===null)try{N.stateNode.nodeValue=v?"":N.memoizedProps}catch(V){Ft(e,e.return,V)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;b===N&&(b=null),N=N.return}b===N&&(b=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Tr(t,e),Vr(e),a&4&&Qd(e);break;case 21:break;default:Tr(t,e),Vr(e)}}function Vr(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Fp(i)){var a=i;break e}i=i.return}throw Error(pe(160))}switch(a.tag){case 5:var h=a.stateNode;a.flags&32&&(ma(h,""),a.flags&=-33);var d=qd(e);df(e,d,h);break;case 3:case 4:var x=a.stateNode.containerInfo,y=qd(e);hf(e,y,x);break;default:throw Error(pe(161))}}catch(E){Ft(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xx(e,t,i){Ce=e,Hp(e)}function Hp(e,t,i){for(var a=(e.mode&1)!==0;Ce!==null;){var h=Ce,d=h.child;if(h.tag===22&&a){var x=h.memoizedState!==null||_l;if(!x){var y=h.alternate,E=y!==null&&y.memoizedState!==null||En;y=_l;var v=En;if(_l=x,(En=E)&&!v)for(Ce=h;Ce!==null;)x=Ce,E=x.child,x.tag===22&&x.memoizedState!==null?e1(h):E!==null?(E.return=x,Ce=E):e1(h);for(;d!==null;)Ce=d,Hp(d),d=d.sibling;Ce=h,_l=y,En=v}Jd(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,Ce=d):Jd(e)}}function Jd(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:En||Eu(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!En)if(i===null)a.componentDidMount();else{var h=t.elementType===t.type?i.memoizedProps:Ir(t.type,i.memoizedProps);a.componentDidUpdate(h,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&kd(t,d,a);break;case 3:var x=t.updateQueue;if(x!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}kd(t,x,i)}break;case 5:var y=t.stateNode;if(i===null&&t.flags&4){i=y;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var b=v.memoizedState;if(b!==null){var N=b.dehydrated;N!==null&&ya(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}En||t.flags&512&&ff(t)}catch(k){Ft(t,t.return,k)}}if(t===e){Ce=null;break}if(i=t.sibling,i!==null){i.return=t.return,Ce=i;break}Ce=t.return}}function $d(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Ce=i;break}Ce=t.return}}function e1(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Eu(4,t)}catch(E){Ft(t,i,E)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var h=t.return;try{a.componentDidMount()}catch(E){Ft(t,h,E)}}var d=t.return;try{ff(t)}catch(E){Ft(t,d,E)}break;case 5:var x=t.return;try{ff(t)}catch(E){Ft(t,x,E)}}}catch(E){Ft(t,t.return,E)}if(t===e){Ce=null;break}var y=t.sibling;if(y!==null){y.return=t.return,Ce=y;break}Ce=t.return}}var _x=Math.ceil,ru=pi.ReactCurrentDispatcher,dh=pi.ReactCurrentOwner,gr=pi.ReactCurrentBatchConfig,st=0,fn=null,Gt=null,pn=0,Qn=0,Qs=Ki(0),$t=0,Ra=null,Cs=0,Cu=0,ph=0,fa=null,Fn=null,gh=0,fo=1/0,si=null,iu=!1,pf=null,Vi=null,wl=!1,Di=null,su=0,ha=0,gf=null,Pl=-1,Ll=0;function Ln(){return st&6?Ht():Pl!==-1?Pl:Pl=Ht()}function Wi(e){return e.mode&1?st&2&&pn!==0?pn&-pn:tx.transition!==null?(Ll===0&&(Ll=S0()),Ll):(e=dt,e!==0||(e=window.event,e=e===void 0?16:P0(e.type)),e):1}function Rr(e,t,i,a){if(50<ha)throw ha=0,gf=null,Error(pe(185));Da(e,i,a),(!(st&2)||e!==fn)&&(e===fn&&(!(st&2)&&(Cu|=i),$t===4&&Li(e,pn)),Vn(e,a),i===1&&st===0&&!(t.mode&1)&&(fo=Ht()+500,wu&&qi()))}function Vn(e,t){var i=e.callbackNode;t2(e,t);var a=Vl(e,e===fn?pn:0);if(a===0)i!==null&&ud(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&ud(i),t===1)e.tag===0?ex(t1.bind(null,e)):Q0(t1.bind(null,e)),q2(function(){!(st&6)&&qi()}),i=null;else{switch(T0(a)){case 1:i=Hf;break;case 4:i=C0;break;case 16:i=Hl;break;case 536870912:i=A0;break;default:i=Hl}i=Kp(i,Vp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Vp(e,t){if(Pl=-1,Ll=0,st&6)throw Error(pe(327));var i=e.callbackNode;if(io()&&e.callbackNode!==i)return null;var a=Vl(e,e===fn?pn:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=ou(e,a);else{t=a;var h=st;st|=2;var d=jp();(fn!==e||pn!==t)&&(si=null,fo=Ht()+500,xs(e,t));do try{vx();break}catch(y){Wp(e,y)}while(!0);eh(),ru.current=d,st=h,Gt!==null?t=0:(fn=null,pn=0,t=$t)}if(t!==0){if(t===2&&(h=Hc(e),h!==0&&(a=h,t=mf(e,h))),t===1)throw i=Ra,xs(e,0),Li(e,a),Vn(e,Ht()),i;if(t===6)Li(e,a);else{if(h=e.current.alternate,!(a&30)&&!wx(h)&&(t=ou(e,a),t===2&&(d=Hc(e),d!==0&&(a=d,t=mf(e,d))),t===1))throw i=Ra,xs(e,0),Li(e,a),Vn(e,Ht()),i;switch(e.finishedWork=h,e.finishedLanes=a,t){case 0:case 1:throw Error(pe(345));case 2:hs(e,Fn,si);break;case 3:if(Li(e,a),(a&130023424)===a&&(t=gh+500-Ht(),10<t)){if(Vl(e,0)!==0)break;if(h=e.suspendedLanes,(h&a)!==a){Ln(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Kc(hs.bind(null,e,Fn,si),t);break}hs(e,Fn,si);break;case 4:if(Li(e,a),(a&4194240)===a)break;for(t=e.eventTimes,h=-1;0<a;){var x=31-br(a);d=1<<x,x=t[x],x>h&&(h=x),a&=~d}if(a=h,a=Ht()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*_x(a/1960))-a,10<a){e.timeoutHandle=Kc(hs.bind(null,e,Fn,si),a);break}hs(e,Fn,si);break;case 5:hs(e,Fn,si);break;default:throw Error(pe(329))}}}return Vn(e,Ht()),e.callbackNode===i?Vp.bind(null,e):null}function mf(e,t){var i=fa;return e.current.memoizedState.isDehydrated&&(xs(e,t).flags|=256),e=ou(e,t),e!==2&&(t=Fn,Fn=i,t!==null&&xf(t)),e}function xf(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function wx(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var h=i[a],d=h.getSnapshot;h=h.value;try{if(!Pr(d(),h))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Li(e,t){for(t&=~ph,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-br(t),a=1<<i;e[i]=-1,t&=~a}}function t1(e){if(st&6)throw Error(pe(327));io();var t=Vl(e,0);if(!(t&1))return Vn(e,Ht()),null;var i=ou(e,t);if(e.tag!==0&&i===2){var a=Hc(e);a!==0&&(t=a,i=mf(e,a))}if(i===1)throw i=Ra,xs(e,0),Li(e,t),Vn(e,Ht()),i;if(i===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,Fn,si),Vn(e,Ht()),null}function mh(e,t){var i=st;st|=1;try{return e(t)}finally{st=i,st===0&&(fo=Ht()+500,wu&&qi())}}function As(e){Di!==null&&Di.tag===0&&!(st&6)&&io();var t=st;st|=1;var i=gr.transition,a=dt;try{if(gr.transition=null,dt=1,e)return e()}finally{dt=a,gr.transition=i,st=t,!(st&6)&&qi()}}function xh(){Qn=Qs.current,Nt(Qs)}function xs(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,K2(i)),Gt!==null)for(i=Gt.return;i!==null;){var a=i;switch(Qf(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Xl();break;case 3:uo(),Nt(Un),Nt(An),oh();break;case 5:sh(a);break;case 4:uo();break;case 13:Nt(Lt);break;case 19:Nt(Lt);break;case 10:th(a.type._context);break;case 22:case 23:xh()}i=i.return}if(fn=e,Gt=e=ji(e.current,null),pn=Qn=t,$t=0,Ra=null,ph=Cu=Cs=0,Fn=fa=null,ps!==null){for(t=0;t<ps.length;t++)if(i=ps[t],a=i.interleaved,a!==null){i.interleaved=null;var h=a.next,d=i.pending;if(d!==null){var x=d.next;d.next=h,a.next=x}i.pending=a}ps=null}return e}function Wp(e,t){do{var i=Gt;try{if(eh(),Ol.current=nu,tu){for(var a=Mt.memoizedState;a!==null;){var h=a.queue;h!==null&&(h.pending=null),a=a.next}tu=!1}if(Es=0,cn=Jt=Mt=null,ua=!1,Na=0,dh.current=null,i===null||i.return===null){$t=1,Ra=t,Gt=null;break}e:{var d=e,x=i.return,y=i,E=t;if(t=pn,y.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var v=E,b=y,N=b.tag;if(!(b.mode&1)&&(N===0||N===11||N===15)){var k=b.alternate;k?(b.updateQueue=k.updateQueue,b.memoizedState=k.memoizedState,b.lanes=k.lanes):(b.updateQueue=null,b.memoizedState=null)}var W=Vd(x);if(W!==null){W.flags&=-257,Wd(W,x,y,d,t),W.mode&1&&Hd(d,v,t),t=W,E=v;var H=t.updateQueue;if(H===null){var V=new Set;V.add(E),t.updateQueue=V}else H.add(E);break e}else{if(!(t&1)){Hd(d,v,t),_h();break e}E=Error(pe(426))}}else if(bt&&y.mode&1){var q=Vd(x);if(q!==null){!(q.flags&65536)&&(q.flags|=256),Wd(q,x,y,d,t),Jf(co(E,y));break e}}d=E=co(E,y),$t!==4&&($t=2),fa===null?fa=[d]:fa.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var F=Tp(d,E,t);Dd(d,F);break e;case 1:y=E;var D=d.type,M=d.stateNode;if(!(d.flags&128)&&(typeof D.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Vi===null||!Vi.has(M)))){d.flags|=65536,t&=-t,d.lanes|=t;var G=Ip(d,y,t);Dd(d,G);break e}}d=d.return}while(d!==null)}Gp(i)}catch(ue){t=ue,Gt===i&&i!==null&&(Gt=i=i.return);continue}break}while(!0)}function jp(){var e=ru.current;return ru.current=nu,e===null?nu:e}function _h(){($t===0||$t===3||$t===2)&&($t=4),fn===null||!(Cs&268435455)&&!(Cu&268435455)||Li(fn,pn)}function ou(e,t){var i=st;st|=2;var a=jp();(fn!==e||pn!==t)&&(si=null,xs(e,t));do try{yx();break}catch(h){Wp(e,h)}while(!0);if(eh(),st=i,ru.current=a,Gt!==null)throw Error(pe(261));return fn=null,pn=0,$t}function yx(){for(;Gt!==null;)Zp(Gt)}function vx(){for(;Gt!==null&&!Gm();)Zp(Gt)}function Zp(e){var t=Yp(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,t===null?Gp(e):Gt=t,dh.current=null}function Gp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=px(i,t),i!==null){i.flags&=32767,Gt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$t=6,Gt=null;return}}else if(i=dx(i,t,Qn),i!==null){Gt=i;return}if(t=t.sibling,t!==null){Gt=t;return}Gt=t=e}while(t!==null);$t===0&&($t=5)}function hs(e,t,i){var a=dt,h=gr.transition;try{gr.transition=null,dt=1,Ex(e,t,i,a)}finally{gr.transition=h,dt=a}return null}function Ex(e,t,i,a){do io();while(Di!==null);if(st&6)throw Error(pe(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(n2(e,d),e===fn&&(Gt=fn=null,pn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||wl||(wl=!0,Kp(Hl,function(){return io(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=gr.transition,gr.transition=null;var x=dt;dt=1;var y=st;st|=4,dh.current=null,mx(e,i),Up(i,e),V2(Xc),Wl=!!Gc,Xc=Gc=null,e.current=i,xx(i),Xm(),st=y,dt=x,gr.transition=d}else e.current=i;if(wl&&(wl=!1,Di=e,su=h),d=e.pendingLanes,d===0&&(Vi=null),qm(i.stateNode),Vn(e,Ht()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)h=t[i],a(h.value,{componentStack:h.stack,digest:h.digest});if(iu)throw iu=!1,e=pf,pf=null,e;return su&1&&e.tag!==0&&io(),d=e.pendingLanes,d&1?e===gf?ha++:(ha=0,gf=e):ha=0,qi(),null}function io(){if(Di!==null){var e=T0(su),t=gr.transition,i=dt;try{if(gr.transition=null,dt=16>e?16:e,Di===null)var a=!1;else{if(e=Di,Di=null,su=0,st&6)throw Error(pe(331));var h=st;for(st|=4,Ce=e.current;Ce!==null;){var d=Ce,x=d.child;if(Ce.flags&16){var y=d.deletions;if(y!==null){for(var E=0;E<y.length;E++){var v=y[E];for(Ce=v;Ce!==null;){var b=Ce;switch(b.tag){case 0:case 11:case 15:ca(8,b,d)}var N=b.child;if(N!==null)N.return=b,Ce=N;else for(;Ce!==null;){b=Ce;var k=b.sibling,W=b.return;if(Bp(b),b===v){Ce=null;break}if(k!==null){k.return=W,Ce=k;break}Ce=W}}}var H=d.alternate;if(H!==null){var V=H.child;if(V!==null){H.child=null;do{var q=V.sibling;V.sibling=null,V=q}while(V!==null)}}Ce=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,Ce=x;else e:for(;Ce!==null;){if(d=Ce,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ca(9,d,d.return)}var F=d.sibling;if(F!==null){F.return=d.return,Ce=F;break e}Ce=d.return}}var D=e.current;for(Ce=D;Ce!==null;){x=Ce;var M=x.child;if(x.subtreeFlags&2064&&M!==null)M.return=x,Ce=M;else e:for(x=D;Ce!==null;){if(y=Ce,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:Eu(9,y)}}catch(ue){Ft(y,y.return,ue)}if(y===x){Ce=null;break e}var G=y.sibling;if(G!==null){G.return=y.return,Ce=G;break e}Ce=y.return}}if(st=h,qi(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(pu,e)}catch{}a=!0}return a}finally{dt=i,gr.transition=t}}return!1}function n1(e,t,i){t=co(i,t),t=Tp(e,t,1),e=Hi(e,t,1),t=Ln(),e!==null&&(Da(e,1,t),Vn(e,t))}function Ft(e,t,i){if(e.tag===3)n1(e,e,i);else for(;t!==null;){if(t.tag===3){n1(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Vi===null||!Vi.has(a))){e=co(i,e),e=Ip(t,e,1),t=Hi(t,e,1),e=Ln(),t!==null&&(Da(t,1,e),Vn(t,e));break}}t=t.return}}function Cx(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Ln(),e.pingedLanes|=e.suspendedLanes&i,fn===e&&(pn&i)===i&&($t===4||$t===3&&(pn&130023424)===pn&&500>Ht()-gh?xs(e,0):ph|=i),Vn(e,t)}function Xp(e,t){t===0&&(e.mode&1?(t=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):t=1);var i=Ln();e=hi(e,t),e!==null&&(Da(e,t,i),Vn(e,i))}function Ax(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Xp(e,i)}function Sx(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(pe(314))}a!==null&&a.delete(t),Xp(e,i)}var Yp;Yp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Un.current)zn=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return zn=!1,hx(e,t,i);zn=!!(e.flags&131072)}else zn=!1,bt&&t.flags&1048576&&J0(t,ql,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Rl(e,t),e=t.pendingProps;var h=oo(t,An.current);ro(t,i),h=lh(null,t,a,e,h,i);var d=uh();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(a)?(d=!0,Yl(t)):d=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,rh(t),h.updater=vu,t.stateNode=h,h._reactInternals=t,nf(t,a,e,i),t=of(null,t,a,!0,d,i)):(t.tag=0,bt&&d&&qf(t),Pn(null,t,h,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Rl(e,t),e=t.pendingProps,h=a._init,a=h(a._payload),t.type=a,h=t.tag=Ix(a),e=Ir(a,e),h){case 0:t=sf(null,t,a,e,i);break e;case 1:t=Gd(null,t,a,e,i);break e;case 11:t=jd(null,t,a,e,i);break e;case 14:t=Zd(null,t,a,Ir(a.type,e),i);break e}throw Error(pe(306,a,""))}return t;case 0:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Ir(a,h),sf(e,t,a,h,i);case 1:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Ir(a,h),Gd(e,t,a,h,i);case 3:e:{if(Rp(t),e===null)throw Error(pe(387));a=t.pendingProps,d=t.memoizedState,h=d.element,ip(e,t),$l(t,a,null,i);var x=t.memoizedState;if(a=x.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){h=co(Error(pe(423)),t),t=Xd(e,t,a,i,h);break e}else if(a!==h){h=co(Error(pe(424)),t),t=Xd(e,t,a,i,h);break e}else for(Jn=Ui(t.stateNode.containerInfo.firstChild),$n=t,bt=!0,Or=null,i=np(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ao(),a===h){t=di(e,t,i);break e}Pn(e,t,a,i)}t=t.child}return t;case 5:return sp(t),e===null&&$c(t),a=t.type,h=t.pendingProps,d=e!==null?e.memoizedProps:null,x=h.children,Yc(a,h)?x=null:d!==null&&Yc(a,d)&&(t.flags|=32),bp(e,t),Pn(e,t,x,i),t.child;case 6:return e===null&&$c(t),null;case 13:return Pp(e,t,i);case 4:return ih(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=lo(t,null,a,i):Pn(e,t,a,i),t.child;case 11:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Ir(a,h),jd(e,t,a,h,i);case 7:return Pn(e,t,t.pendingProps,i),t.child;case 8:return Pn(e,t,t.pendingProps.children,i),t.child;case 12:return Pn(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,h=t.pendingProps,d=t.memoizedProps,x=h.value,Et(Ql,a._currentValue),a._currentValue=x,d!==null)if(Pr(d.value,x)){if(d.children===h.children&&!Un.current){t=di(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){x=d.child;for(var E=y.firstContext;E!==null;){if(E.context===a){if(d.tag===1){E=ui(-1,i&-i),E.tag=2;var v=d.updateQueue;if(v!==null){v=v.shared;var b=v.pending;b===null?E.next=E:(E.next=b.next,b.next=E),v.pending=E}}d.lanes|=i,E=d.alternate,E!==null&&(E.lanes|=i),ef(d.return,i,t),y.lanes|=i;break}E=E.next}}else if(d.tag===10)x=d.type===t.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(pe(341));x.lanes|=i,y=x.alternate,y!==null&&(y.lanes|=i),ef(x,i,t),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}Pn(e,t,h.children,i),t=t.child}return t;case 9:return h=t.type,a=t.pendingProps.children,ro(t,i),h=mr(h),a=a(h),t.flags|=1,Pn(e,t,a,i),t.child;case 14:return a=t.type,h=Ir(a,t.pendingProps),h=Ir(a.type,h),Zd(e,t,a,h,i);case 15:return Np(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:Ir(a,h),Rl(e,t),t.tag=1,Hn(a)?(e=!0,Yl(t)):e=!1,ro(t,i),Sp(t,a,h),nf(t,a,h,i),of(null,t,a,!0,e,i);case 19:return Lp(e,t,i);case 22:return Op(e,t,i)}throw Error(pe(156,t.tag))};function Kp(e,t){return E0(e,t)}function Tx(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,i,a){return new Tx(e,t,i,a)}function wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ix(e){if(typeof e=="function")return wh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ff)return 11;if(e===zf)return 14}return 2}function ji(e,t){var i=e.alternate;return i===null?(i=pr(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ml(e,t,i,a,h,d){var x=2;if(a=e,typeof e=="function")wh(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case Hs:return _s(i.children,h,d,t);case Bf:x=8,h|=8;break;case Tc:return e=pr(12,i,t,h|2),e.elementType=Tc,e.lanes=d,e;case Ic:return e=pr(13,i,t,h),e.elementType=Ic,e.lanes=d,e;case Nc:return e=pr(19,i,t,h),e.elementType=Nc,e.lanes=d,e;case s0:return Au(i,h,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r0:x=10;break e;case i0:x=9;break e;case Ff:x=11;break e;case zf:x=14;break e;case bi:x=16,a=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=pr(x,i,t,h),t.elementType=e,t.type=a,t.lanes=d,t}function _s(e,t,i,a){return e=pr(7,e,a,t),e.lanes=i,e}function Au(e,t,i,a){return e=pr(22,e,a,t),e.elementType=s0,e.lanes=i,e.stateNode={isHidden:!1},e}function _c(e,t,i){return e=pr(6,e,null,t),e.lanes=i,e}function wc(e,t,i){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nx(e,t,i,a,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=a,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function yh(e,t,i,a,h,d,x,y,E){return e=new Nx(e,t,i,y,E),t===1?(t=1,d===!0&&(t|=8)):t=0,d=pr(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},rh(d),e}function Ox(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function qp(e){if(!e)return Xi;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var i=e.type;if(Hn(i))return q0(e,i,t)}return t}function Qp(e,t,i,a,h,d,x,y,E){return e=yh(i,a,!0,e,h,d,x,y,E),e.context=qp(null),i=e.current,a=Ln(),h=Wi(i),d=ui(a,h),d.callback=t??null,Hi(i,d,h),e.current.lanes=h,Da(e,h,a),Vn(e,a),e}function Su(e,t,i,a){var h=t.current,d=Ln(),x=Wi(h);return i=qp(i),t.context===null?t.context=i:t.pendingContext=i,t=ui(d,x),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Hi(h,t,x),e!==null&&(Rr(e,h,x,d),Nl(e,h,x)),x}function au(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function vh(e,t){r1(e,t),(e=e.alternate)&&r1(e,t)}function bx(){return null}var Jp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eh(e){this._internalRoot=e}Tu.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Su(e,t,null,null)};Tu.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;As(function(){Su(null,e,null,null)}),t[fi]=null}};function Tu(e){this._internalRoot=e}Tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=O0();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Pi.length&&t!==0&&t<Pi[i].priority;i++);Pi.splice(i,0,e),i===0&&R0(e)}};function Ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i1(){}function Rx(e,t,i,a,h){if(h){if(typeof a=="function"){var d=a;a=function(){var v=au(x);d.call(v)}}var x=Qp(t,a,e,0,null,!1,!1,"",i1);return e._reactRootContainer=x,e[fi]=x.current,Ca(e.nodeType===8?e.parentNode:e),As(),x}for(;h=e.lastChild;)e.removeChild(h);if(typeof a=="function"){var y=a;a=function(){var v=au(E);y.call(v)}}var E=yh(e,0,!1,null,null,!1,!1,"",i1);return e._reactRootContainer=E,e[fi]=E.current,Ca(e.nodeType===8?e.parentNode:e),As(function(){Su(t,E,i,a)}),E}function Nu(e,t,i,a,h){var d=i._reactRootContainer;if(d){var x=d;if(typeof h=="function"){var y=h;h=function(){var E=au(x);y.call(E)}}Su(t,x,e,h)}else x=Rx(i,t,e,h,a);return au(x)}I0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ta(t.pendingLanes);i!==0&&(Vf(t,i|1),Vn(t,Ht()),!(st&6)&&(fo=Ht()+500,qi()))}break;case 13:As(function(){var a=hi(e,1);if(a!==null){var h=Ln();Rr(a,e,1,h)}}),vh(e,1)}};Wf=function(e){if(e.tag===13){var t=hi(e,134217728);if(t!==null){var i=Ln();Rr(t,e,134217728,i)}vh(e,134217728)}};N0=function(e){if(e.tag===13){var t=Wi(e),i=hi(e,t);if(i!==null){var a=Ln();Rr(i,e,t,a)}vh(e,t)}};O0=function(){return dt};b0=function(e,t){var i=dt;try{return dt=e,t()}finally{dt=i}};Fc=function(e,t,i){switch(t){case"input":if(Rc(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var h=_u(a);if(!h)throw Error(pe(90));a0(a),Rc(a,h)}}}break;case"textarea":u0(e,i);break;case"select":t=i.value,t!=null&&$s(e,!!i.multiple,t,!1)}};m0=mh;x0=As;var Px={usingClientEntryPoint:!1,Events:[Ba,Zs,_u,p0,g0,mh]},Qo={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=y0(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{pu=yl.inject(Lx),Gr=yl}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;tr.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(t))throw Error(pe(200));return Ox(e,t,null,i)};tr.createRoot=function(e,t){if(!Ch(e))throw Error(pe(299));var i=!1,a="",h=Jp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=yh(e,1,!1,null,null,i,!1,a,h),e[fi]=t.current,Ca(e.nodeType===8?e.parentNode:e),new Eh(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=y0(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return As(e)};tr.hydrate=function(e,t,i){if(!Iu(t))throw Error(pe(200));return Nu(null,e,t,!0,i)};tr.hydrateRoot=function(e,t,i){if(!Ch(e))throw Error(pe(405));var a=i!=null&&i.hydratedSources||null,h=!1,d="",x=Jp;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),t=Qp(t,null,e,1,i??null,h,!1,d,x),e[fi]=t.current,Ca(e),a)for(e=0;e<a.length;e++)i=a[e],h=i._getVersion,h=h(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,h]:t.mutableSourceEagerHydrationData.push(i,h);return new Tu(t)};tr.render=function(e,t,i){if(!Iu(t))throw Error(pe(200));return Nu(null,e,t,!1,i)};tr.unmountComponentAtNode=function(e){if(!Iu(e))throw Error(pe(40));return e._reactRootContainer?(As(function(){Nu(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0):!1};tr.unstable_batchedUpdates=mh;tr.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Iu(i))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Nu(e,t,i,!1,a)};tr.version="18.3.1-next-f1338f8080-20240426";function $p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($p)}catch(e){console.error(e)}}$p(),$1.exports=tr;var eg=$1.exports,s1=eg;Ac.createRoot=s1.createRoot,Ac.hydrateRoot=s1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Pa.apply(this,arguments)}var ki;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ki||(ki={}));const o1="popstate";function Mx(e){e===void 0&&(e={});function t(a,h){let{pathname:d,search:x,hash:y}=a.location;return _f("",{pathname:d,search:x,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(a,h){return typeof h=="string"?h:lu(h)}return kx(t,i,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dx(){return Math.random().toString(36).substr(2,8)}function a1(e,t){return{usr:e.state,key:e.key,idx:t}}function _f(e,t,i,a){return i===void 0&&(i=null),Pa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_o(t):t,{state:i,key:t&&t.key||a||Dx()})}function lu(e){let{pathname:t="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function _o(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function kx(e,t,i,a){a===void 0&&(a={});let{window:h=document.defaultView,v5Compat:d=!1}=a,x=h.history,y=ki.Pop,E=null,v=b();v==null&&(v=0,x.replaceState(Pa({},x.state,{idx:v}),""));function b(){return(x.state||{idx:null}).idx}function N(){y=ki.Pop;let q=b(),F=q==null?null:q-v;v=q,E&&E({action:y,location:V.location,delta:F})}function k(q,F){y=ki.Push;let D=_f(V.location,q,F);v=b()+1;let M=a1(D,v),G=V.createHref(D);try{x.pushState(M,"",G)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;h.location.assign(G)}d&&E&&E({action:y,location:V.location,delta:1})}function W(q,F){y=ki.Replace;let D=_f(V.location,q,F);v=b();let M=a1(D,v),G=V.createHref(D);x.replaceState(M,"",G),d&&E&&E({action:y,location:V.location,delta:0})}function H(q){let F=h.location.origin!=="null"?h.location.origin:h.location.href,D=typeof q=="string"?q:lu(q);return D=D.replace(/ $/,"%20"),Xt(F,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,F)}let V={get action(){return y},get location(){return e(h,x)},listen(q){if(E)throw new Error("A history only accepts one active listener");return h.addEventListener(o1,N),E=q,()=>{h.removeEventListener(o1,N),E=null}},createHref(q){return t(h,q)},createURL:H,encodeLocation(q){let F=H(q);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:k,replace:W,go(q){return x.go(q)}};return V}var l1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(l1||(l1={}));function Bx(e,t,i){return i===void 0&&(i="/"),Fx(e,t,i)}function Fx(e,t,i,a){let h=typeof t=="string"?_o(t):t,d=Ah(h.pathname||"/",i);if(d==null)return null;let x=ng(e);zx(x);let y=null;for(let E=0;y==null&&E<x.length;++E){let v=Qx(d);y=Yx(x[E],v)}return y}function ng(e,t,i,a){t===void 0&&(t=[]),i===void 0&&(i=[]),a===void 0&&(a="");let h=(d,x,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};E.relativePath.startsWith("/")&&(Xt(E.relativePath.startsWith(a),'Absolute route path "'+E.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),E.relativePath=E.relativePath.slice(a.length));let v=Zi([a,E.relativePath]),b=i.concat(E);d.children&&d.children.length>0&&(Xt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),ng(d.children,t,b,v)),!(d.path==null&&!d.index)&&t.push({path:v,score:Gx(v,d.index),routesMeta:b})};return e.forEach((d,x)=>{var y;if(d.path===""||!((y=d.path)!=null&&y.includes("?")))h(d,x);else for(let E of rg(d.path))h(d,x,E)}),t}function rg(e){let t=e.split("/");if(t.length===0)return[];let[i,...a]=t,h=i.endsWith("?"),d=i.replace(/\?$/,"");if(a.length===0)return h?[d,""]:[d];let x=rg(a.join("/")),y=[];return y.push(...x.map(E=>E===""?d:[d,E].join("/"))),h&&y.push(...x),y.map(E=>e.startsWith("/")&&E===""?"/":E)}function zx(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:Xx(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const Ux=/^:[\w-]+$/,Hx=3,Vx=2,Wx=1,jx=10,Zx=-2,u1=e=>e==="*";function Gx(e,t){let i=e.split("/"),a=i.length;return i.some(u1)&&(a+=Zx),t&&(a+=Vx),i.filter(h=>!u1(h)).reduce((h,d)=>h+(Ux.test(d)?Hx:d===""?Wx:jx),a)}function Xx(e,t){return e.length===t.length&&e.slice(0,-1).every((a,h)=>a===t[h])?e[e.length-1]-t[t.length-1]:0}function Yx(e,t,i){let{routesMeta:a}=e,h={},d="/",x=[];for(let y=0;y<a.length;++y){let E=a[y],v=y===a.length-1,b=d==="/"?t:t.slice(d.length)||"/",N=Kx({path:E.relativePath,caseSensitive:E.caseSensitive,end:v},b),k=E.route;if(!N)return null;Object.assign(h,N.params),x.push({params:h,pathname:Zi([d,N.pathname]),pathnameBase:t_(Zi([d,N.pathnameBase])),route:k}),N.pathnameBase!=="/"&&(d=Zi([d,N.pathnameBase]))}return x}function Kx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=qx(e.path,e.caseSensitive,e.end),h=t.match(i);if(!h)return null;let d=h[0],x=d.replace(/(.)\/+$/,"$1"),y=h.slice(1);return{params:a.reduce((v,b,N)=>{let{paramName:k,isOptional:W}=b;if(k==="*"){let V=y[N]||"";x=d.slice(0,d.length-V.length).replace(/(.)\/+$/,"$1")}const H=y[N];return W&&!H?v[k]=void 0:v[k]=(H||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:x,pattern:e}}function qx(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),tg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],h="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,y,E)=>(a.push({paramName:y,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),h+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?h+="\\/*$":e!==""&&e!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,t?void 0:"i"),a]}function Qx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ah(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}function Jx(e,t){t===void 0&&(t="/");let{pathname:i,search:a="",hash:h=""}=typeof e=="string"?_o(e):e;return{pathname:i?i.startsWith("/")?i:$x(i,t):t,search:n_(a),hash:r_(h)}}function $x(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(h=>{h===".."?i.length>1&&i.pop():h!=="."&&i.push(h)}),i.length>1?i.join("/"):"/"}function yc(e,t,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e_(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function ig(e,t){let i=e_(e);return t?i.map((a,h)=>h===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function sg(e,t,i,a){a===void 0&&(a=!1);let h;typeof e=="string"?h=_o(e):(h=Pa({},e),Xt(!h.pathname||!h.pathname.includes("?"),yc("?","pathname","search",h)),Xt(!h.pathname||!h.pathname.includes("#"),yc("#","pathname","hash",h)),Xt(!h.search||!h.search.includes("#"),yc("#","search","hash",h)));let d=e===""||h.pathname==="",x=d?"/":h.pathname,y;if(x==null)y=i;else{let N=t.length-1;if(!a&&x.startsWith("..")){let k=x.split("/");for(;k[0]==="..";)k.shift(),N-=1;h.pathname=k.join("/")}y=N>=0?t[N]:"/"}let E=Jx(h,y),v=x&&x!=="/"&&x.endsWith("/"),b=(d||x===".")&&i.endsWith("/");return!E.pathname.endsWith("/")&&(v||b)&&(E.pathname+="/"),E}const Zi=e=>e.join("/").replace(/\/\/+/g,"/"),t_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function i_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const og=["post","put","patch","delete"];new Set(og);const s_=["get",...og];new Set(s_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},La.apply(this,arguments)}const Sh=ie.createContext(null),o_=ie.createContext(null),Ns=ie.createContext(null),Ou=ie.createContext(null),Os=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),ag=ie.createContext(null);function a_(e,t){let{relative:i}=t===void 0?{}:t;za()||Xt(!1);let{basename:a,navigator:h}=ie.useContext(Ns),{hash:d,pathname:x,search:y}=ug(e,{relative:i}),E=x;return a!=="/"&&(E=x==="/"?a:Zi([a,x])),h.createHref({pathname:E,search:y,hash:d})}function za(){return ie.useContext(Ou)!=null}function Ua(){return za()||Xt(!1),ie.useContext(Ou).location}function lg(e){ie.useContext(Ns).static||ie.useLayoutEffect(e)}function l_(){let{isDataRoute:e}=ie.useContext(Os);return e?v_():u_()}function u_(){za()||Xt(!1);let e=ie.useContext(Sh),{basename:t,future:i,navigator:a}=ie.useContext(Ns),{matches:h}=ie.useContext(Os),{pathname:d}=Ua(),x=JSON.stringify(ig(h,i.v7_relativeSplatPath)),y=ie.useRef(!1);return lg(()=>{y.current=!0}),ie.useCallback(function(v,b){if(b===void 0&&(b={}),!y.current)return;if(typeof v=="number"){a.go(v);return}let N=sg(v,JSON.parse(x),d,b.relative==="path");e==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:Zi([t,N.pathname])),(b.replace?a.replace:a.push)(N,b.state,b)},[t,a,x,d,e])}function ug(e,t){let{relative:i}=t===void 0?{}:t,{future:a}=ie.useContext(Ns),{matches:h}=ie.useContext(Os),{pathname:d}=Ua(),x=JSON.stringify(ig(h,a.v7_relativeSplatPath));return ie.useMemo(()=>sg(e,JSON.parse(x),d,i==="path"),[e,x,d,i])}function c_(e,t){return f_(e,t)}function f_(e,t,i,a){za()||Xt(!1);let{navigator:h}=ie.useContext(Ns),{matches:d}=ie.useContext(Os),x=d[d.length-1],y=x?x.params:{};x&&x.pathname;let E=x?x.pathnameBase:"/";x&&x.route;let v=Ua(),b;if(t){var N;let q=typeof t=="string"?_o(t):t;E==="/"||(N=q.pathname)!=null&&N.startsWith(E)||Xt(!1),b=q}else b=v;let k=b.pathname||"/",W=k;if(E!=="/"){let q=E.replace(/^\//,"").split("/");W="/"+k.replace(/^\//,"").split("/").slice(q.length).join("/")}let H=Bx(e,{pathname:W}),V=m_(H&&H.map(q=>Object.assign({},q,{params:Object.assign({},y,q.params),pathname:Zi([E,h.encodeLocation?h.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?E:Zi([E,h.encodeLocation?h.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),d,i,a);return t&&V?ie.createElement(Ou.Provider,{value:{location:La({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:ki.Pop}},V):V}function h_(){let e=y_(),t=i_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},t),i?ie.createElement("pre",{style:h},i):null,null)}const d_=ie.createElement(h_,null);class p_ extends ie.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?ie.createElement(Os.Provider,{value:this.props.routeContext},ie.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g_(e){let{routeContext:t,match:i,children:a}=e,h=ie.useContext(Sh);return h&&h.static&&h.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=i.route.id),ie.createElement(Os.Provider,{value:t},a)}function m_(e,t,i,a){var h;if(t===void 0&&(t=[]),i===void 0&&(i=null),a===void 0&&(a=null),e==null){var d;if(!i)return null;if(i.errors)e=i.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let x=e,y=(h=i)==null?void 0:h.errors;if(y!=null){let b=x.findIndex(N=>N.route.id&&(y==null?void 0:y[N.route.id])!==void 0);b>=0||Xt(!1),x=x.slice(0,Math.min(x.length,b+1))}let E=!1,v=-1;if(i&&a&&a.v7_partialHydration)for(let b=0;b<x.length;b++){let N=x[b];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(v=b),N.route.id){let{loaderData:k,errors:W}=i,H=N.route.loader&&k[N.route.id]===void 0&&(!W||W[N.route.id]===void 0);if(N.route.lazy||H){E=!0,v>=0?x=x.slice(0,v+1):x=[x[0]];break}}}return x.reduceRight((b,N,k)=>{let W,H=!1,V=null,q=null;i&&(W=y&&N.route.id?y[N.route.id]:void 0,V=N.route.errorElement||d_,E&&(v<0&&k===0?(E_("route-fallback"),H=!0,q=null):v===k&&(H=!0,q=N.route.hydrateFallbackElement||null)));let F=t.concat(x.slice(0,k+1)),D=()=>{let M;return W?M=V:H?M=q:N.route.Component?M=ie.createElement(N.route.Component,null):N.route.element?M=N.route.element:M=b,ie.createElement(g_,{match:N,routeContext:{outlet:b,matches:F,isDataRoute:i!=null},children:M})};return i&&(N.route.ErrorBoundary||N.route.errorElement||k===0)?ie.createElement(p_,{location:i.location,revalidation:i.revalidation,component:V,error:W,children:D(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):D()},null)}var cg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cg||{}),fg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fg||{});function x_(e){let t=ie.useContext(Sh);return t||Xt(!1),t}function __(e){let t=ie.useContext(o_);return t||Xt(!1),t}function w_(e){let t=ie.useContext(Os);return t||Xt(!1),t}function hg(e){let t=w_(),i=t.matches[t.matches.length-1];return i.route.id||Xt(!1),i.route.id}function y_(){var e;let t=ie.useContext(ag),i=__(),a=hg();return t!==void 0?t:(e=i.errors)==null?void 0:e[a]}function v_(){let{router:e}=x_(cg.UseNavigateStable),t=hg(fg.UseNavigateStable),i=ie.useRef(!1);return lg(()=>{i.current=!0}),ie.useCallback(function(h,d){d===void 0&&(d={}),i.current&&(typeof h=="number"?e.navigate(h):e.navigate(h,La({fromRouteId:t},d)))},[e,t])}const c1={};function E_(e,t,i){c1[e]||(c1[e]=!0)}function C_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ra(e){Xt(!1)}function A_(e){let{basename:t="/",children:i=null,location:a,navigationType:h=ki.Pop,navigator:d,static:x=!1,future:y}=e;za()&&Xt(!1);let E=t.replace(/^\/*/,"/"),v=ie.useMemo(()=>({basename:E,navigator:d,static:x,future:La({v7_relativeSplatPath:!1},y)}),[E,y,d,x]);typeof a=="string"&&(a=_o(a));let{pathname:b="/",search:N="",hash:k="",state:W=null,key:H="default"}=a,V=ie.useMemo(()=>{let q=Ah(b,E);return q==null?null:{location:{pathname:q,search:N,hash:k,state:W,key:H},navigationType:h}},[E,b,N,k,W,H,h]);return V==null?null:ie.createElement(Ns.Provider,{value:v},ie.createElement(Ou.Provider,{children:i,value:V}))}function S_(e){let{children:t,location:i}=e;return c_(wf(t),i)}new Promise(()=>{});function wf(e,t){t===void 0&&(t=[]);let i=[];return ie.Children.forEach(e,(a,h)=>{if(!ie.isValidElement(a))return;let d=[...t,h];if(a.type===ie.Fragment){i.push.apply(i,wf(a.props.children,d));return}a.type!==ra&&Xt(!1),!a.props.index||!a.props.children||Xt(!1);let x={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(x.children=wf(a.props.children,d)),i.push(x)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},yf.apply(this,arguments)}function T_(e,t){if(e==null)return{};var i={},a=Object.keys(e),h,d;for(d=0;d<a.length;d++)h=a[d],!(t.indexOf(h)>=0)&&(i[h]=e[h]);return i}function I_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N_(e,t){return e.button===0&&(!t||t==="_self")&&!I_(e)}const O_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b_="6";try{window.__reactRouterVersion=b_}catch{}const R_="startTransition",f1=Cm[R_];function P_(e){let{basename:t,children:i,future:a,window:h}=e,d=ie.useRef();d.current==null&&(d.current=Mx({window:h,v5Compat:!0}));let x=d.current,[y,E]=ie.useState({action:x.action,location:x.location}),{v7_startTransition:v}=a||{},b=ie.useCallback(N=>{v&&f1?f1(()=>E(N)):E(N)},[E,v]);return ie.useLayoutEffect(()=>x.listen(b),[x,b]),ie.useEffect(()=>C_(a),[a]),ie.createElement(A_,{basename:t,children:i,location:y.location,navigationType:y.action,navigator:x,future:a})}const L_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vl=ie.forwardRef(function(t,i){let{onClick:a,relative:h,reloadDocument:d,replace:x,state:y,target:E,to:v,preventScrollReset:b,viewTransition:N}=t,k=T_(t,O_),{basename:W}=ie.useContext(Ns),H,V=!1;if(typeof v=="string"&&M_.test(v)&&(H=v,L_))try{let M=new URL(window.location.href),G=v.startsWith("//")?new URL(M.protocol+v):new URL(v),ue=Ah(G.pathname,W);G.origin===M.origin&&ue!=null?v=ue+G.search+G.hash:V=!0}catch{}let q=a_(v,{relative:h}),F=D_(v,{replace:x,state:y,target:E,preventScrollReset:b,relative:h,viewTransition:N});function D(M){a&&a(M),M.defaultPrevented||F(M)}return ie.createElement("a",yf({},k,{href:H||q,onClick:V||d?a:D,ref:i,target:E}))});var h1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(h1||(h1={}));var d1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(d1||(d1={}));function D_(e,t){let{target:i,replace:a,state:h,preventScrollReset:d,relative:x,viewTransition:y}=t===void 0?{}:t,E=l_(),v=Ua(),b=ug(e,{relative:x});return ie.useCallback(N=>{if(N_(N,i)){N.preventDefault();let k=a!==void 0?a:lu(v)===lu(b);E(e,{replace:k,state:h,preventScrollReset:d,relative:x,viewTransition:y})}},[v,E,b,a,h,i,e,d,x,y])}function dg(e,t){return function(){return e.apply(t,arguments)}}const{toString:k_}=Object.prototype,{getPrototypeOf:Th}=Object,{iterator:bu,toStringTag:pg}=Symbol,Ru=(e=>t=>{const i=k_.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Lr=e=>(e=e.toLowerCase(),t=>Ru(t)===e),Pu=e=>t=>typeof t===e,{isArray:wo}=Array,ho=Pu("undefined");function Ha(e){return e!==null&&!ho(e)&&e.constructor!==null&&!ho(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gg=Lr("ArrayBuffer");function B_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gg(e.buffer),t}const F_=Pu("string"),Wn=Pu("function"),mg=Pu("number"),Va=e=>e!==null&&typeof e=="object",z_=e=>e===!0||e===!1,Dl=e=>{if(Ru(e)!=="object")return!1;const t=Th(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pg in e)&&!(bu in e)},U_=e=>{if(!Va(e)||Ha(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},H_=Lr("Date"),V_=Lr("File"),W_=Lr("Blob"),j_=Lr("FileList"),Z_=e=>Va(e)&&Wn(e.pipe),G_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((t=Ru(e))==="formdata"||t==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},X_=Lr("URLSearchParams"),[Y_,K_,q_,Q_]=["ReadableStream","Request","Response","Headers"].map(Lr),J_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wa(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,h;if(typeof e!="object"&&(e=[e]),wo(e))for(a=0,h=e.length;a<h;a++)t.call(null,e[a],a,e);else{if(Ha(e))return;const d=i?Object.getOwnPropertyNames(e):Object.keys(e),x=d.length;let y;for(a=0;a<x;a++)y=d[a],t.call(null,e[y],y,e)}}function xg(e,t){if(Ha(e))return null;t=t.toLowerCase();const i=Object.keys(e);let a=i.length,h;for(;a-- >0;)if(h=i[a],t===h.toLowerCase())return h;return null}const ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_g=e=>!ho(e)&&e!==ms;function vf(){const{caseless:e,skipUndefined:t}=_g(this)&&this||{},i={},a=(h,d)=>{const x=e&&xg(i,d)||d;Dl(i[x])&&Dl(h)?i[x]=vf(i[x],h):Dl(h)?i[x]=vf({},h):wo(h)?i[x]=h.slice():(!t||!ho(h))&&(i[x]=h)};for(let h=0,d=arguments.length;h<d;h++)arguments[h]&&Wa(arguments[h],a);return i}const $_=(e,t,i,{allOwnKeys:a}={})=>(Wa(t,(h,d)=>{i&&Wn(h)?e[d]=dg(h,i):e[d]=h},{allOwnKeys:a}),e),ew=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tw=(e,t,i,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},nw=(e,t,i,a)=>{let h,d,x;const y={};if(t=t||{},e==null)return t;do{for(h=Object.getOwnPropertyNames(e),d=h.length;d-- >0;)x=h[d],(!a||a(x,e,t))&&!y[x]&&(t[x]=e[x],y[x]=!0);e=i!==!1&&Th(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},rw=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const a=e.indexOf(t,i);return a!==-1&&a===i},iw=e=>{if(!e)return null;if(wo(e))return e;let t=e.length;if(!mg(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},sw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Th(Uint8Array)),ow=(e,t)=>{const a=(e&&e[bu]).call(e);let h;for(;(h=a.next())&&!h.done;){const d=h.value;t.call(e,d[0],d[1])}},aw=(e,t)=>{let i;const a=[];for(;(i=e.exec(t))!==null;)a.push(i);return a},lw=Lr("HTMLFormElement"),uw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,h){return a.toUpperCase()+h}),p1=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),cw=Lr("RegExp"),wg=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),a={};Wa(i,(h,d)=>{let x;(x=t(h,d,e))!==!1&&(a[d]=x||h)}),Object.defineProperties(e,a)},fw=e=>{wg(e,(t,i)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(Wn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},hw=(e,t)=>{const i={},a=h=>{h.forEach(d=>{i[d]=!0})};return wo(e)?a(e):a(String(e).split(t)),i},dw=()=>{},pw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gw(e){return!!(e&&Wn(e.append)&&e[pg]==="FormData"&&e[bu])}const mw=e=>{const t=new Array(10),i=(a,h)=>{if(Va(a)){if(t.indexOf(a)>=0)return;if(Ha(a))return a;if(!("toJSON"in a)){t[h]=a;const d=wo(a)?[]:{};return Wa(a,(x,y)=>{const E=i(x,h+1);!ho(E)&&(d[y]=E)}),t[h]=void 0,d}}return a};return i(e,0)},xw=Lr("AsyncFunction"),_w=e=>e&&(Va(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),yg=((e,t)=>e?setImmediate:t?((i,a)=>(ms.addEventListener("message",({source:h,data:d})=>{h===ms&&d===i&&a.length&&a.shift()()},!1),h=>{a.push(h),ms.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Wn(ms.postMessage)),ww=typeof queueMicrotask<"u"?queueMicrotask.bind(ms):typeof process<"u"&&process.nextTick||yg,yw=e=>e!=null&&Wn(e[bu]),$={isArray:wo,isArrayBuffer:gg,isBuffer:Ha,isFormData:G_,isArrayBufferView:B_,isString:F_,isNumber:mg,isBoolean:z_,isObject:Va,isPlainObject:Dl,isEmptyObject:U_,isReadableStream:Y_,isRequest:K_,isResponse:q_,isHeaders:Q_,isUndefined:ho,isDate:H_,isFile:V_,isBlob:W_,isRegExp:cw,isFunction:Wn,isStream:Z_,isURLSearchParams:X_,isTypedArray:sw,isFileList:j_,forEach:Wa,merge:vf,extend:$_,trim:J_,stripBOM:ew,inherits:tw,toFlatObject:nw,kindOf:Ru,kindOfTest:Lr,endsWith:rw,toArray:iw,forEachEntry:ow,matchAll:aw,isHTMLForm:lw,hasOwnProperty:p1,hasOwnProp:p1,reduceDescriptors:wg,freezeMethods:fw,toObjectSet:hw,toCamelCase:uw,noop:dw,toFiniteNumber:pw,findKey:xg,global:ms,isContextDefined:_g,isSpecCompliantForm:gw,toJSONObject:mw,isAsyncFn:xw,isThenable:_w,setImmediate:yg,asap:ww,isIterable:yw};function We(e,t,i,a,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),h&&(this.response=h,this.status=h.status?h.status:null)}$.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const vg=We.prototype,Eg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Eg[e]={value:e}});Object.defineProperties(We,Eg);Object.defineProperty(vg,"isAxiosError",{value:!0});We.from=(e,t,i,a,h,d)=>{const x=Object.create(vg);$.toFlatObject(e,x,function(b){return b!==Error.prototype},v=>v!=="isAxiosError");const y=e&&e.message?e.message:"Error",E=t==null&&e?e.code:t;return We.call(x,y,E,i,a,h),e&&x.cause==null&&Object.defineProperty(x,"cause",{value:e,configurable:!0}),x.name=e&&e.name||"Error",d&&Object.assign(x,d),x};const vw=null;function Ef(e){return $.isPlainObject(e)||$.isArray(e)}function Cg(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function g1(e,t,i){return e?e.concat(t).map(function(h,d){return h=Cg(h),!i&&d?"["+h+"]":h}).join(i?".":""):t}function Ew(e){return $.isArray(e)&&!e.some(Ef)}const Cw=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Lu(e,t,i){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=$.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,q){return!$.isUndefined(q[V])});const a=i.metaTokens,h=i.visitor||b,d=i.dots,x=i.indexes,E=(i.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(h))throw new TypeError("visitor must be a function");function v(H){if(H===null)return"";if($.isDate(H))return H.toISOString();if($.isBoolean(H))return H.toString();if(!E&&$.isBlob(H))throw new We("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(H)||$.isTypedArray(H)?E&&typeof Blob=="function"?new Blob([H]):Buffer.from(H):H}function b(H,V,q){let F=H;if(H&&!q&&typeof H=="object"){if($.endsWith(V,"{}"))V=a?V:V.slice(0,-2),H=JSON.stringify(H);else if($.isArray(H)&&Ew(H)||($.isFileList(H)||$.endsWith(V,"[]"))&&(F=$.toArray(H)))return V=Cg(V),F.forEach(function(M,G){!($.isUndefined(M)||M===null)&&t.append(x===!0?g1([V],G,d):x===null?V:V+"[]",v(M))}),!1}return Ef(H)?!0:(t.append(g1(q,V,d),v(H)),!1)}const N=[],k=Object.assign(Cw,{defaultVisitor:b,convertValue:v,isVisitable:Ef});function W(H,V){if(!$.isUndefined(H)){if(N.indexOf(H)!==-1)throw Error("Circular reference detected in "+V.join("."));N.push(H),$.forEach(H,function(F,D){(!($.isUndefined(F)||F===null)&&h.call(t,F,$.isString(D)?D.trim():D,V,k))===!0&&W(F,V?V.concat(D):[D])}),N.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return W(e),t}function m1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Ih(e,t){this._pairs=[],e&&Lu(e,this,t)}const Ag=Ih.prototype;Ag.append=function(t,i){this._pairs.push([t,i])};Ag.toString=function(t){const i=t?function(a){return t.call(this,a,m1)}:m1;return this._pairs.map(function(h){return i(h[0])+"="+i(h[1])},"").join("&")};function Aw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sg(e,t,i){if(!t)return e;const a=i&&i.encode||Aw;$.isFunction(i)&&(i={serialize:i});const h=i&&i.serialize;let d;if(h?d=h(t,i):d=$.isURLSearchParams(t)?t.toString():new Ih(t,i).toString(a),d){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class x1{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Tg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sw=typeof URLSearchParams<"u"?URLSearchParams:Ih,Tw=typeof FormData<"u"?FormData:null,Iw=typeof Blob<"u"?Blob:null,Nw={isBrowser:!0,classes:{URLSearchParams:Sw,FormData:Tw,Blob:Iw},protocols:["http","https","file","blob","url","data"]},Nh=typeof window<"u"&&typeof document<"u",Cf=typeof navigator=="object"&&navigator||void 0,Ow=Nh&&(!Cf||["ReactNative","NativeScript","NS"].indexOf(Cf.product)<0),bw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rw=Nh&&window.location.href||"http://localhost",Pw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nh,hasStandardBrowserEnv:Ow,hasStandardBrowserWebWorkerEnv:bw,navigator:Cf,origin:Rw},Symbol.toStringTag,{value:"Module"})),Cn={...Pw,...Nw};function Lw(e,t){return Lu(e,new Cn.classes.URLSearchParams,{visitor:function(i,a,h,d){return Cn.isNode&&$.isBuffer(i)?(this.append(a,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function Mw(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Dw(e){const t={},i=Object.keys(e);let a;const h=i.length;let d;for(a=0;a<h;a++)d=i[a],t[d]=e[d];return t}function Ig(e){function t(i,a,h,d){let x=i[d++];if(x==="__proto__")return!0;const y=Number.isFinite(+x),E=d>=i.length;return x=!x&&$.isArray(h)?h.length:x,E?($.hasOwnProp(h,x)?h[x]=[h[x],a]:h[x]=a,!y):((!h[x]||!$.isObject(h[x]))&&(h[x]=[]),t(i,a,h[x],d)&&$.isArray(h[x])&&(h[x]=Dw(h[x])),!y)}if($.isFormData(e)&&$.isFunction(e.entries)){const i={};return $.forEachEntry(e,(a,h)=>{t(Mw(a),h,i,0)}),i}return null}function kw(e,t,i){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}const ja={transitional:Tg,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const a=i.getContentType()||"",h=a.indexOf("application/json")>-1,d=$.isObject(t);if(d&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return h?JSON.stringify(Ig(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let y;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Lw(t,this.formSerializer).toString();if((y=$.isFileList(t))||a.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return Lu(y?{"files[]":t}:t,E&&new E,this.formSerializer)}}return d||h?(i.setContentType("application/json",!1),kw(t)):t}],transformResponse:[function(t){const i=this.transitional||ja.transitional,a=i&&i.forcedJSONParsing,h=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(a&&!this.responseType||h)){const x=!(i&&i.silentJSONParsing)&&h;try{return JSON.parse(t,this.parseReviver)}catch(y){if(x)throw y.name==="SyntaxError"?We.from(y,We.ERR_BAD_RESPONSE,this,null,this.response):y}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cn.classes.FormData,Blob:Cn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{ja.headers[e]={}});const Bw=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fw=e=>{const t={};let i,a,h;return e&&e.split(`
`).forEach(function(x){h=x.indexOf(":"),i=x.substring(0,h).trim().toLowerCase(),a=x.substring(h+1).trim(),!(!i||t[i]&&Bw[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},_1=Symbol("internals");function Jo(e){return e&&String(e).trim().toLowerCase()}function kl(e){return e===!1||e==null?e:$.isArray(e)?e.map(kl):String(e)}function zw(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)t[a[1]]=a[2];return t}const Uw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vc(e,t,i,a,h){if($.isFunction(a))return a.call(this,t,i);if(h&&(t=i),!!$.isString(t)){if($.isString(a))return t.indexOf(a)!==-1;if($.isRegExp(a))return a.test(t)}}function Hw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function Vw(e,t){const i=$.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(h,d,x){return this[a].call(this,t,h,d,x)},configurable:!0})})}let jn=class{constructor(t){t&&this.set(t)}set(t,i,a){const h=this;function d(y,E,v){const b=Jo(E);if(!b)throw new Error("header name must be a non-empty string");const N=$.findKey(h,b);(!N||h[N]===void 0||v===!0||v===void 0&&h[N]!==!1)&&(h[N||E]=kl(y))}const x=(y,E)=>$.forEach(y,(v,b)=>d(v,b,E));if($.isPlainObject(t)||t instanceof this.constructor)x(t,i);else if($.isString(t)&&(t=t.trim())&&!Uw(t))x(Fw(t),i);else if($.isObject(t)&&$.isIterable(t)){let y={},E,v;for(const b of t){if(!$.isArray(b))throw TypeError("Object iterator must return a key-value pair");y[v=b[0]]=(E=y[v])?$.isArray(E)?[...E,b[1]]:[E,b[1]]:b[1]}x(y,i)}else t!=null&&d(i,t,a);return this}get(t,i){if(t=Jo(t),t){const a=$.findKey(this,t);if(a){const h=this[a];if(!i)return h;if(i===!0)return zw(h);if($.isFunction(i))return i.call(this,h,a);if($.isRegExp(i))return i.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Jo(t),t){const a=$.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||vc(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let h=!1;function d(x){if(x=Jo(x),x){const y=$.findKey(a,x);y&&(!i||vc(a,a[y],y,i))&&(delete a[y],h=!0)}}return $.isArray(t)?t.forEach(d):d(t),h}clear(t){const i=Object.keys(this);let a=i.length,h=!1;for(;a--;){const d=i[a];(!t||vc(this,this[d],d,t,!0))&&(delete this[d],h=!0)}return h}normalize(t){const i=this,a={};return $.forEach(this,(h,d)=>{const x=$.findKey(a,d);if(x){i[x]=kl(h),delete i[d];return}const y=t?Hw(d):String(d).trim();y!==d&&delete i[d],i[y]=kl(h),a[y]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return $.forEach(this,(a,h)=>{a!=null&&a!==!1&&(i[h]=t&&$.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(h=>a.set(h)),a}static accessor(t){const a=(this[_1]=this[_1]={accessors:{}}).accessors,h=this.prototype;function d(x){const y=Jo(x);a[y]||(Vw(h,x),a[y]=!0)}return $.isArray(t)?t.forEach(d):d(t),this}};jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(jn.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[i]=a}}});$.freezeMethods(jn);function Ec(e,t){const i=this||ja,a=t||i,h=jn.from(a.headers);let d=a.data;return $.forEach(e,function(y){d=y.call(i,d,h.normalize(),t?t.status:void 0)}),h.normalize(),d}function Ng(e){return!!(e&&e.__CANCEL__)}function yo(e,t,i){We.call(this,e??"canceled",We.ERR_CANCELED,t,i),this.name="CanceledError"}$.inherits(yo,We,{__CANCEL__:!0});function Og(e,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):t(new We("Request failed with status code "+i.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Ww(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function jw(e,t){e=e||10;const i=new Array(e),a=new Array(e);let h=0,d=0,x;return t=t!==void 0?t:1e3,function(E){const v=Date.now(),b=a[d];x||(x=v),i[h]=E,a[h]=v;let N=d,k=0;for(;N!==h;)k+=i[N++],N=N%e;if(h=(h+1)%e,h===d&&(d=(d+1)%e),v-x<t)return;const W=b&&v-b;return W?Math.round(k*1e3/W):void 0}}function Zw(e,t){let i=0,a=1e3/t,h,d;const x=(v,b=Date.now())=>{i=b,h=null,d&&(clearTimeout(d),d=null),e(...v)};return[(...v)=>{const b=Date.now(),N=b-i;N>=a?x(v,b):(h=v,d||(d=setTimeout(()=>{d=null,x(h)},a-N)))},()=>h&&x(h)]}const uu=(e,t,i=3)=>{let a=0;const h=jw(50,250);return Zw(d=>{const x=d.loaded,y=d.lengthComputable?d.total:void 0,E=x-a,v=h(E),b=x<=y;a=x;const N={loaded:x,total:y,progress:y?x/y:void 0,bytes:E,rate:v||void 0,estimated:v&&y&&b?(y-x)/v:void 0,event:d,lengthComputable:y!=null,[t?"download":"upload"]:!0};e(N)},i)},w1=(e,t)=>{const i=e!=null;return[a=>t[0]({lengthComputable:i,total:e,loaded:a}),t[1]]},y1=e=>(...t)=>$.asap(()=>e(...t)),Gw=Cn.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,Cn.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(Cn.origin),Cn.navigator&&/(msie|trident)/i.test(Cn.navigator.userAgent)):()=>!0,Xw=Cn.hasStandardBrowserEnv?{write(e,t,i,a,h,d,x){if(typeof document>"u")return;const y=[`${e}=${encodeURIComponent(t)}`];$.isNumber(i)&&y.push(`expires=${new Date(i).toUTCString()}`),$.isString(a)&&y.push(`path=${a}`),$.isString(h)&&y.push(`domain=${h}`),d===!0&&y.push("secure"),$.isString(x)&&y.push(`SameSite=${x}`),document.cookie=y.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Yw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Kw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bg(e,t,i){let a=!Yw(t);return e&&(a||i==!1)?Kw(e,t):t}const v1=e=>e instanceof jn?{...e}:e;function Ss(e,t){t=t||{};const i={};function a(v,b,N,k){return $.isPlainObject(v)&&$.isPlainObject(b)?$.merge.call({caseless:k},v,b):$.isPlainObject(b)?$.merge({},b):$.isArray(b)?b.slice():b}function h(v,b,N,k){if($.isUndefined(b)){if(!$.isUndefined(v))return a(void 0,v,N,k)}else return a(v,b,N,k)}function d(v,b){if(!$.isUndefined(b))return a(void 0,b)}function x(v,b){if($.isUndefined(b)){if(!$.isUndefined(v))return a(void 0,v)}else return a(void 0,b)}function y(v,b,N){if(N in t)return a(v,b);if(N in e)return a(void 0,v)}const E={url:d,method:d,data:d,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:y,headers:(v,b,N)=>h(v1(v),v1(b),N,!0)};return $.forEach(Object.keys({...e,...t}),function(b){const N=E[b]||h,k=N(e[b],t[b],b);$.isUndefined(k)&&N!==y||(i[b]=k)}),i}const Rg=e=>{const t=Ss({},e);let{data:i,withXSRFToken:a,xsrfHeaderName:h,xsrfCookieName:d,headers:x,auth:y}=t;if(t.headers=x=jn.from(x),t.url=Sg(bg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&x.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),$.isFormData(i)){if(Cn.hasStandardBrowserEnv||Cn.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if($.isFunction(i.getHeaders)){const E=i.getHeaders(),v=["content-type","content-length"];Object.entries(E).forEach(([b,N])=>{v.includes(b.toLowerCase())&&x.set(b,N)})}}if(Cn.hasStandardBrowserEnv&&(a&&$.isFunction(a)&&(a=a(t)),a||a!==!1&&Gw(t.url))){const E=h&&d&&Xw.read(d);E&&x.set(h,E)}return t},qw=typeof XMLHttpRequest<"u",Qw=qw&&function(e){return new Promise(function(i,a){const h=Rg(e);let d=h.data;const x=jn.from(h.headers).normalize();let{responseType:y,onUploadProgress:E,onDownloadProgress:v}=h,b,N,k,W,H;function V(){W&&W(),H&&H(),h.cancelToken&&h.cancelToken.unsubscribe(b),h.signal&&h.signal.removeEventListener("abort",b)}let q=new XMLHttpRequest;q.open(h.method.toUpperCase(),h.url,!0),q.timeout=h.timeout;function F(){if(!q)return;const M=jn.from("getAllResponseHeaders"in q&&q.getAllResponseHeaders()),ue={data:!y||y==="text"||y==="json"?q.responseText:q.response,status:q.status,statusText:q.statusText,headers:M,config:e,request:q};Og(function(Y){i(Y),V()},function(Y){a(Y),V()},ue),q=null}"onloadend"in q?q.onloadend=F:q.onreadystatechange=function(){!q||q.readyState!==4||q.status===0&&!(q.responseURL&&q.responseURL.indexOf("file:")===0)||setTimeout(F)},q.onabort=function(){q&&(a(new We("Request aborted",We.ECONNABORTED,e,q)),q=null)},q.onerror=function(G){const ue=G&&G.message?G.message:"Network Error",le=new We(ue,We.ERR_NETWORK,e,q);le.event=G||null,a(le),q=null},q.ontimeout=function(){let G=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const ue=h.transitional||Tg;h.timeoutErrorMessage&&(G=h.timeoutErrorMessage),a(new We(G,ue.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,e,q)),q=null},d===void 0&&x.setContentType(null),"setRequestHeader"in q&&$.forEach(x.toJSON(),function(G,ue){q.setRequestHeader(ue,G)}),$.isUndefined(h.withCredentials)||(q.withCredentials=!!h.withCredentials),y&&y!=="json"&&(q.responseType=h.responseType),v&&([k,H]=uu(v,!0),q.addEventListener("progress",k)),E&&q.upload&&([N,W]=uu(E),q.upload.addEventListener("progress",N),q.upload.addEventListener("loadend",W)),(h.cancelToken||h.signal)&&(b=M=>{q&&(a(!M||M.type?new yo(null,e,q):M),q.abort(),q=null)},h.cancelToken&&h.cancelToken.subscribe(b),h.signal&&(h.signal.aborted?b():h.signal.addEventListener("abort",b)));const D=Ww(h.url);if(D&&Cn.protocols.indexOf(D)===-1){a(new We("Unsupported protocol "+D+":",We.ERR_BAD_REQUEST,e));return}q.send(d||null)})},Jw=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let a=new AbortController,h;const d=function(v){if(!h){h=!0,y();const b=v instanceof Error?v:this.reason;a.abort(b instanceof We?b:new yo(b instanceof Error?b.message:b))}};let x=t&&setTimeout(()=>{x=null,d(new We(`timeout ${t} of ms exceeded`,We.ETIMEDOUT))},t);const y=()=>{e&&(x&&clearTimeout(x),x=null,e.forEach(v=>{v.unsubscribe?v.unsubscribe(d):v.removeEventListener("abort",d)}),e=null)};e.forEach(v=>v.addEventListener("abort",d));const{signal:E}=a;return E.unsubscribe=()=>$.asap(y),E}},$w=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let a=0,h;for(;a<i;)h=a+t,yield e.slice(a,h),a=h},ey=async function*(e,t){for await(const i of ty(e))yield*$w(i,t)},ty=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:a}=await t.read();if(i)break;yield a}}finally{await t.cancel()}},E1=(e,t,i,a)=>{const h=ey(e,t);let d=0,x,y=E=>{x||(x=!0,a&&a(E))};return new ReadableStream({async pull(E){try{const{done:v,value:b}=await h.next();if(v){y(),E.close();return}let N=b.byteLength;if(i){let k=d+=N;i(k)}E.enqueue(new Uint8Array(b))}catch(v){throw y(v),v}},cancel(E){return y(E),h.return()}},{highWaterMark:2})},C1=64*1024,{isFunction:El}=$,ny=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:A1,TextEncoder:S1}=$.global,T1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ry=e=>{e=$.merge.call({skipUndefined:!0},ny,e);const{fetch:t,Request:i,Response:a}=e,h=t?El(t):typeof fetch=="function",d=El(i),x=El(a);if(!h)return!1;const y=h&&El(A1),E=h&&(typeof S1=="function"?(H=>V=>H.encode(V))(new S1):async H=>new Uint8Array(await new i(H).arrayBuffer())),v=d&&y&&T1(()=>{let H=!1;const V=new i(Cn.origin,{body:new A1,method:"POST",get duplex(){return H=!0,"half"}}).headers.has("Content-Type");return H&&!V}),b=x&&y&&T1(()=>$.isReadableStream(new a("").body)),N={stream:b&&(H=>H.body)};h&&["text","arrayBuffer","blob","formData","stream"].forEach(H=>{!N[H]&&(N[H]=(V,q)=>{let F=V&&V[H];if(F)return F.call(V);throw new We(`Response type '${H}' is not supported`,We.ERR_NOT_SUPPORT,q)})});const k=async H=>{if(H==null)return 0;if($.isBlob(H))return H.size;if($.isSpecCompliantForm(H))return(await new i(Cn.origin,{method:"POST",body:H}).arrayBuffer()).byteLength;if($.isArrayBufferView(H)||$.isArrayBuffer(H))return H.byteLength;if($.isURLSearchParams(H)&&(H=H+""),$.isString(H))return(await E(H)).byteLength},W=async(H,V)=>{const q=$.toFiniteNumber(H.getContentLength());return q??k(V)};return async H=>{let{url:V,method:q,data:F,signal:D,cancelToken:M,timeout:G,onDownloadProgress:ue,onUploadProgress:le,responseType:Y,headers:ge,withCredentials:re="same-origin",fetchOptions:De}=Rg(H),Fe=t||fetch;Y=Y?(Y+"").toLowerCase():"text";let we=Jw([D,M&&M.toAbortSignal()],G),Ve=null;const Ze=we&&we.unsubscribe&&(()=>{we.unsubscribe()});let ee;try{if(le&&v&&q!=="get"&&q!=="head"&&(ee=await W(ge,F))!==0){let Ie=new i(V,{method:"POST",body:F,duplex:"half"}),be;if($.isFormData(F)&&(be=Ie.headers.get("content-type"))&&ge.setContentType(be),Ie.body){const[at,Le]=w1(ee,uu(y1(le)));F=E1(Ie.body,C1,at,Le)}}$.isString(re)||(re=re?"include":"omit");const Be=d&&"credentials"in i.prototype,Pe={...De,signal:we,method:q.toUpperCase(),headers:ge.normalize().toJSON(),body:F,duplex:"half",credentials:Be?re:void 0};Ve=d&&new i(V,Pe);let ne=await(d?Fe(Ve,De):Fe(V,Pe));const Oe=b&&(Y==="stream"||Y==="response");if(b&&(ue||Oe&&Ze)){const Ie={};["status","statusText","headers"].forEach(Ge=>{Ie[Ge]=ne[Ge]});const be=$.toFiniteNumber(ne.headers.get("content-length")),[at,Le]=ue&&w1(be,uu(y1(ue),!0))||[];ne=new a(E1(ne.body,C1,at,()=>{Le&&Le(),Ze&&Ze()}),Ie)}Y=Y||"text";let ce=await N[$.findKey(N,Y)||"text"](ne,H);return!Oe&&Ze&&Ze(),await new Promise((Ie,be)=>{Og(Ie,be,{data:ce,headers:jn.from(ne.headers),status:ne.status,statusText:ne.statusText,config:H,request:Ve})})}catch(Be){throw Ze&&Ze(),Be&&Be.name==="TypeError"&&/Load failed|fetch/i.test(Be.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,H,Ve),{cause:Be.cause||Be}):We.from(Be,Be&&Be.code,H,Ve)}}},iy=new Map,Pg=e=>{let t=e&&e.env||{};const{fetch:i,Request:a,Response:h}=t,d=[a,h,i];let x=d.length,y=x,E,v,b=iy;for(;y--;)E=d[y],v=b.get(E),v===void 0&&b.set(E,v=y?new Map:ry(t)),b=v;return v};Pg();const Oh={http:vw,xhr:Qw,fetch:{get:Pg}};$.forEach(Oh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const I1=e=>`- ${e}`,sy=e=>$.isFunction(e)||e===null||e===!1;function oy(e,t){e=$.isArray(e)?e:[e];const{length:i}=e;let a,h;const d={};for(let x=0;x<i;x++){a=e[x];let y;if(h=a,!sy(a)&&(h=Oh[(y=String(a)).toLowerCase()],h===void 0))throw new We(`Unknown adapter '${y}'`);if(h&&($.isFunction(h)||(h=h.get(t))))break;d[y||"#"+x]=h}if(!h){const x=Object.entries(d).map(([E,v])=>`adapter ${E} `+(v===!1?"is not supported by the environment":"is not available in the build"));let y=i?x.length>1?`since :
`+x.map(I1).join(`
`):" "+I1(x[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return h}const Lg={getAdapter:oy,adapters:Oh};function Cc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yo(null,e)}function N1(e){return Cc(e),e.headers=jn.from(e.headers),e.data=Ec.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lg.getAdapter(e.adapter||ja.adapter,e)(e).then(function(a){return Cc(e),a.data=Ec.call(e,e.transformResponse,a),a.headers=jn.from(a.headers),a},function(a){return Ng(a)||(Cc(e),a&&a.response&&(a.response.data=Ec.call(e,e.transformResponse,a.response),a.response.headers=jn.from(a.response.headers))),Promise.reject(a)})}const Mg="1.13.1",Mu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mu[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const O1={};Mu.transitional=function(t,i,a){function h(d,x){return"[Axios v"+Mg+"] Transitional option '"+d+"'"+x+(a?". "+a:"")}return(d,x,y)=>{if(t===!1)throw new We(h(x," has been removed"+(i?" in "+i:"")),We.ERR_DEPRECATED);return i&&!O1[x]&&(O1[x]=!0,console.warn(h(x," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(d,x,y):!0}};Mu.spelling=function(t){return(i,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function ay(e,t,i){if(typeof e!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let h=a.length;for(;h-- >0;){const d=a[h],x=t[d];if(x){const y=e[d],E=y===void 0||x(y,d,e);if(E!==!0)throw new We("option "+d+" must be "+E,We.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new We("Unknown option "+d,We.ERR_BAD_OPTION)}}const Bl={assertOptions:ay,validators:Mu},Wr=Bl.validators;let ws=class{constructor(t){this.defaults=t||{},this.interceptors={request:new x1,response:new x1}}async request(t,i){try{return await this._request(t,i)}catch(a){if(a instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const d=h.stack?h.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Ss(this.defaults,i);const{transitional:a,paramsSerializer:h,headers:d}=i;a!==void 0&&Bl.assertOptions(a,{silentJSONParsing:Wr.transitional(Wr.boolean),forcedJSONParsing:Wr.transitional(Wr.boolean),clarifyTimeoutError:Wr.transitional(Wr.boolean)},!1),h!=null&&($.isFunction(h)?i.paramsSerializer={serialize:h}:Bl.assertOptions(h,{encode:Wr.function,serialize:Wr.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Bl.assertOptions(i,{baseUrl:Wr.spelling("baseURL"),withXsrfToken:Wr.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=d&&$.merge(d.common,d[i.method]);d&&$.forEach(["delete","get","head","post","put","patch","common"],H=>{delete d[H]}),i.headers=jn.concat(x,d);const y=[];let E=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(i)===!1||(E=E&&V.synchronous,y.unshift(V.fulfilled,V.rejected))});const v=[];this.interceptors.response.forEach(function(V){v.push(V.fulfilled,V.rejected)});let b,N=0,k;if(!E){const H=[N1.bind(this),void 0];for(H.unshift(...y),H.push(...v),k=H.length,b=Promise.resolve(i);N<k;)b=b.then(H[N++],H[N++]);return b}k=y.length;let W=i;for(;N<k;){const H=y[N++],V=y[N++];try{W=H(W)}catch(q){V.call(this,q);break}}try{b=N1.call(this,W)}catch(H){return Promise.reject(H)}for(N=0,k=v.length;N<k;)b=b.then(v[N++],v[N++]);return b}getUri(t){t=Ss(this.defaults,t);const i=bg(t.baseURL,t.url,t.allowAbsoluteUrls);return Sg(i,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){ws.prototype[t]=function(i,a){return this.request(Ss(a||{},{method:t,url:i,data:(a||{}).data}))}});$.forEach(["post","put","patch"],function(t){function i(a){return function(d,x,y){return this.request(Ss(y||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:x}))}}ws.prototype[t]=i(),ws.prototype[t+"Form"]=i(!0)});let ly=class Dg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const a=this;this.promise.then(h=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](h);a._listeners=null}),this.promise.then=h=>{let d;const x=new Promise(y=>{a.subscribe(y),d=y}).then(h);return x.cancel=function(){a.unsubscribe(d)},x},t(function(d,x,y){a.reason||(a.reason=new yo(d,x,y),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=a=>{t.abort(a)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new Dg(function(h){t=h}),cancel:t}}};function uy(e){return function(i){return e.apply(null,i)}}function cy(e){return $.isObject(e)&&e.isAxiosError===!0}const Af={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Af).forEach(([e,t])=>{Af[t]=e});function kg(e){const t=new ws(e),i=dg(ws.prototype.request,t);return $.extend(i,ws.prototype,t,{allOwnKeys:!0}),$.extend(i,t,null,{allOwnKeys:!0}),i.create=function(h){return kg(Ss(e,h))},i}const Vt=kg(ja);Vt.Axios=ws;Vt.CanceledError=yo;Vt.CancelToken=ly;Vt.isCancel=Ng;Vt.VERSION=Mg;Vt.toFormData=Lu;Vt.AxiosError=We;Vt.Cancel=Vt.CanceledError;Vt.all=function(t){return Promise.all(t)};Vt.spread=uy;Vt.isAxiosError=cy;Vt.mergeConfig=Ss;Vt.AxiosHeaders=jn;Vt.formToJSON=e=>Ig($.isHTMLForm(e)?new FormData(e):e);Vt.getAdapter=Lg.getAdapter;Vt.HttpStatusCode=Af;Vt.default=Vt;const{Axios:hv,AxiosError:dv,CanceledError:pv,isCancel:gv,CancelToken:mv,VERSION:xv,all:_v,Cancel:wv,isAxiosError:yv,spread:vv,toFormData:Ev,AxiosHeaders:Cv,HttpStatusCode:Av,formToJSON:Sv,getAdapter:Tv,mergeConfig:Iv}=Vt,b1="eco_bonus_user_id";function fy(){return`user_${Date.now()}_${Math.random().toString(36).substring(2,9)}`}function da(){let e=localStorage.getItem(b1);return e||(e=fy(),localStorage.setItem(b1,e),console.log("Generated new user ID:",e)),e}const hy="http://77.93.152.199:8088";class dy{constructor(){qh(this,"client");this.client=Vt.create({baseURL:hy,timeout:1e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(t=>{var i;return console.log(`API Request: ${(i=t.method)==null?void 0:i.toUpperCase()} ${t.url}`),t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>(console.log(`API Response: ${t.status} ${t.config.url}`),t),t=>(console.error("API Error:",t.message),t.response&&console.error("Error response:",t.response.data),Promise.reject(t)))}async getBalance(){const t=da();return(await this.client.get(`/api/users/${t}/balance`)).data}async getHistory(){const t=da();return(await this.client.get(`/api/users/${t}/history`)).data}async getTransactions(){return(await this.getHistory()).map((i,a)=>({id:`${a+1}`,store:i.location_name,date:new Date(i.date).toLocaleDateString("en-US",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}),amount:0,bonuses:i.points_awarded}))}async getCatalog(){return(await this.client.get("/api/catalog")).data}async getProducts(){return(await this.getCatalog()).map(i=>({id:i.item_sku,name:i.name,image:`https://via.placeholder.com/300x300/f5f5f5/333333?text=${encodeURIComponent(i.name)}`,original_price:1e5,discounted_price:8e4,discount_percentage:20,points:i.points_awarded,valid_from:"25.10.2025",valid_to:"12.11.2025"}))}async getLocations(){return(await this.client.get("/api/locations")).data}async registerReturn(t){const a={user_id_string:da(),item_sku:t};return(await this.client.post("/api/returns",a)).data}async scanBarcode(t){var i,a;try{const h=await this.registerReturn(t);return{success:h.status==="success"||h.status==="ok",barcode:t,status:h.status,message:h.message}}catch(h){const d=(a=(i=h.response)==null?void 0:i.data)==null?void 0:a.detail,x=Array.isArray(d)?d.map(y=>y.msg).join(", "):d||h.message||"Failed to scan barcode";throw new Error(x)}}}const po=new dy;function Du(){return null}function py(){const[e,t]=ie.useState(null),[i,a]=ie.useState([]),[h,d]=ie.useState(!0);ie.useEffect(()=>{x()},[]);const x=async()=>{d(!0);try{const[b,N]=await Promise.all([po.getBalance(),po.getTransactions()]);t(b),a(N)}catch(b){console.error("Error loading data:",b),t({user_id_string:"demo_user",balance:4322}),a([{id:"1",store:"Korzinka - Amore",date:"14 October 17:51",amount:59248,bonuses:592},{id:"2",store:"Korzinka - Amore",date:"13 October 14:33",amount:25970,bonuses:259},{id:"3",store:"Korzinka - Amore",date:"9 October 13:22",amount:18980,bonuses:189},{id:"4",store:"Korzinka - Beruniy",date:"5 October 20:31",amount:12160,bonuses:91}])}finally{d(!1)}},y=b=>b.toLocaleString("en-US").replace(/,/g," "),E=()=>{const b={};return i.forEach(N=>{const k=N.date.split(" ")[1];b[k]||(b[k]=[]),b[k].push(N)}),b};if(h)return te.jsx("div",{className:"loading",children:te.jsx("div",{className:"spinner"})});const v=E();return te.jsxs(te.Fragment,{children:[te.jsx(Du,{}),te.jsxs("div",{className:"page",children:[te.jsx("div",{className:"page-header",children:te.jsx("h1",{className:"page-title",children:"My Cards"})}),e&&te.jsxs("div",{className:"balance-card",children:[te.jsxs("div",{className:"card-header",children:[te.jsx("div",{className:"card-title",children:"Eco Bonus Points"}),te.jsxs("div",{className:"card-number",children:["User ID: ",e.user_id_string.substring(0,12),"..."]})]}),te.jsxs("div",{className:"balance-amount",children:[y(e.balance)," points"]}),te.jsxs("div",{className:"balance-details",children:[te.jsxs("div",{className:"balance-row",children:[te.jsx("div",{className:"balance-label",children:"Total Eco Points Earned"}),te.jsx("div",{className:"balance-value",children:y(e.balance)})]}),te.jsx("div",{className:"balance-row",children:te.jsx("div",{className:"balance-label",children:"Keep recycling to earn more!"})})]})]}),te.jsxs("div",{className:"transactions-section",children:[te.jsx("h2",{className:"section-title",children:"My Purchases"}),Object.entries(v).map(([b,N])=>te.jsxs("div",{children:[te.jsxs("div",{className:"month-separator",children:[b," 2025"]}),N.map(k=>te.jsxs("div",{className:"transaction-item",children:[te.jsx("div",{className:"transaction-icon",children:""}),te.jsxs("div",{className:"transaction-info",children:[te.jsx("div",{className:"transaction-store",children:k.store}),te.jsx("div",{className:"transaction-date",children:k.date})]}),te.jsxs("div",{className:"transaction-amounts",children:[te.jsxs("div",{className:"transaction-amount",children:["- ",y(k.amount)," soum"]}),te.jsxs("div",{className:"transaction-bonus",children:["+ ",k.bonuses," bonuses"]})]})]},k.id))]},b)),i.length===0&&te.jsxs("div",{className:"empty-state",children:[te.jsx("div",{className:"empty-state-icon",children:""}),te.jsx("div",{className:"empty-state-text",children:"No transactions yet"})]})]})]})]})}function gy(){const[e,t]=ie.useState([]),[i,a]=ie.useState(!0),[h,d]=ie.useState(null);ie.useEffect(()=>{x()},[]);const x=async()=>{a(!0),d(null);try{const E=await po.getProducts();t(E)}catch(E){console.error("Error loading products:",E),d(E.message||"Failed to load products"),t([{id:"1",name:"., **",image:"https://via.placeholder.com/300x300/f5f5f5/333333?text=Beef+Brisket",original_price:99990,discounted_price:89990,discount_percentage:10,points:3,valid_from:"25.10.2025",valid_to:"12.11.2025"},{id:"2",name:"., **",image:"https://via.placeholder.com/300x300/f5f5f5/333333?text=Beef+Loin",original_price:125990,discounted_price:97990,discount_percentage:22,points:2,valid_from:"25.10.2025",valid_to:"12.11.2025"},{id:"3",name:"., **",image:"https://via.placeholder.com/300x300/f5f5f5/333333?text=Beef+Ribs",original_price:119990,discounted_price:92990,discount_percentage:22,points:2,valid_from:"25.10.2025",valid_to:"12.11.2025"},{id:"4",name:"., **",image:"https://via.placeholder.com/300x300/f5f5f5/333333?text=Beef+Tenderloin",original_price:127990,discounted_price:99990,discount_percentage:21,points:3,valid_from:"25.10.2025",valid_to:"12.11.2025"}])}finally{a(!1)}},y=E=>E.toLocaleString("en-US").replace(/,/g," ");return i?te.jsx("div",{className:"loading",children:te.jsx("div",{className:"spinner"})}):te.jsxs(te.Fragment,{children:[te.jsx(Du,{}),te.jsxs("div",{className:"page",children:[te.jsx("div",{className:"page-header",children:te.jsx("h1",{className:"page-title",children:"Beef price drop!"})}),te.jsx("div",{className:"products-grid",children:e.map(E=>te.jsxs("div",{className:"product-card",children:[te.jsxs("div",{className:"product-image-container",children:[te.jsx("img",{src:E.image,alt:E.name,className:"product-image"}),te.jsxs("div",{className:"product-badge",children:[E.valid_from,"-",E.valid_to]}),te.jsxs("div",{className:"price-badge",children:[te.jsx("span",{className:"original-price",children:y(E.original_price)}),te.jsx("span",{className:"discounted-price",children:y(E.discounted_price)}),te.jsxs("div",{className:"discount-percent",children:["-",E.discount_percentage,"%"]})]})]}),te.jsxs("div",{className:"product-info",children:[te.jsx("div",{className:"product-name",children:E.name}),te.jsxs("div",{className:"product-points",children:[E.points," "]}),te.jsx("button",{className:"order-button",children:"Order"})]})]},E.id))}),e.length===0&&te.jsxs("div",{className:"empty-state",children:[te.jsx("div",{className:"empty-state-icon",children:""}),te.jsx("div",{className:"empty-state-text",children:"No products available"})]}),h&&te.jsxs("div",{className:"error-message",children:["Using demo data. ",h]})]})]})}function Bg(e,t){const i=ie.useRef(t);ie.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const my=1;function xy(e){return Object.freeze({__version:my,map:e})}function _y(e,t){return Object.freeze({...e,...t})}const Fg=ie.createContext(null),zg=Fg.Provider;function Ug(){const e=ie.useContext(Fg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function wy(e){function t(i,a){const{instance:h,context:d}=e(i).current;return ie.useImperativeHandle(a,()=>h),i.children==null?null:pa.createElement(zg,{value:d},i.children)}return ie.forwardRef(t)}function yy(e){function t(i,a){const[h,d]=ie.useState(!1),{instance:x}=e(i,d).current;ie.useImperativeHandle(a,()=>x),ie.useEffect(function(){h&&x.update()},[x,h,i.children]);const y=x._contentNode;return y?eg.createPortal(i.children,y):null}return ie.forwardRef(t)}function vy(e){function t(i,a){const{instance:h}=e(i).current;return ie.useImperativeHandle(a,()=>h),null}return ie.forwardRef(t)}function Hg(e,t){const i=ie.useRef();ie.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function bh(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function Ey(e,t){return function(a,h){const d=Ug(),x=e(bh(a,d),d);return Bg(d.map,a.attribution),Hg(x.current,a.eventHandlers),t(x.current,d,a,h),x}}var Sf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,a){a(t)})(zs,function(i){var a="1.9.4";function h(s){var c,g,w,A;for(g=1,w=arguments.length;g<w;g++){A=arguments[g];for(c in A)s[c]=A[c]}return s}var d=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function x(s,c){var g=Array.prototype.slice;if(s.bind)return s.bind.apply(s,g.call(arguments,1));var w=g.call(arguments,2);return function(){return s.apply(c,w.length?w.concat(g.call(arguments)):arguments)}}var y=0;function E(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function v(s,c,g){var w,A,O,B;return B=function(){w=!1,A&&(O.apply(g,A),A=!1)},O=function(){w?A=arguments:(s.apply(g,arguments),setTimeout(B,c),w=!0)},O}function b(s,c,g){var w=c[1],A=c[0],O=w-A;return s===w&&g?s:((s-A)%O+O)%O+A}function N(){return!1}function k(s,c){if(c===!1)return s;var g=Math.pow(10,c===void 0?6:c);return Math.round(s*g)/g}function W(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function H(s){return W(s).split(/\s+/)}function V(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var g in c)s.options[g]=c[g];return s.options}function q(s,c,g){var w=[];for(var A in s)w.push(encodeURIComponent(g?A.toUpperCase():A)+"="+encodeURIComponent(s[A]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function D(s,c){return s.replace(F,function(g,w){var A=c[w];if(A===void 0)throw new Error("No value provided for variable "+g);return typeof A=="function"&&(A=A(c)),A})}var M=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function G(s,c){for(var g=0;g<s.length;g++)if(s[g]===c)return g;return-1}var ue="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function le(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Y=0;function ge(s){var c=+new Date,g=Math.max(0,16-(c-Y));return Y=c+g,window.setTimeout(s,g)}var re=window.requestAnimationFrame||le("RequestAnimationFrame")||ge,De=window.cancelAnimationFrame||le("CancelAnimationFrame")||le("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Fe(s,c,g){if(g&&re===ge)s.call(c);else return re.call(window,x(s,c))}function we(s){s&&De.call(window,s)}var Ve={__proto__:null,extend:h,create:d,bind:x,get lastId(){return y},stamp:E,throttle:v,wrapNum:b,falseFn:N,formatNum:k,trim:W,splitWords:H,setOptions:V,getParamString:q,template:D,isArray:M,indexOf:G,emptyImageUrl:ue,requestFn:re,cancelFn:De,requestAnimFrame:Fe,cancelAnimFrame:we};function Ze(){}Ze.extend=function(s){var c=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=c.__super__=this.prototype,w=d(g);w.constructor=c,c.prototype=w;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(c[A]=this[A]);return s.statics&&h(c,s.statics),s.includes&&(ee(s.includes),h.apply(null,[w].concat(s.includes))),h(w,s),delete w.statics,delete w.includes,w.options&&(w.options=g.options?d(g.options):{},h(w.options,s.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,B=w._initHooks.length;O<B;O++)w._initHooks[O].call(this)}},c},Ze.include=function(s){var c=this.prototype.options;return h(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},Ze.mergeOptions=function(s){return h(this.prototype.options,s),this},Ze.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),g=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function ee(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=M(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Be={on:function(s,c,g){if(typeof s=="object")for(var w in s)this._on(w,s[w],c);else{s=H(s);for(var A=0,O=s.length;A<O;A++)this._on(s[A],c,g)}return this},off:function(s,c,g){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var w in s)this._off(w,s[w],c);else{s=H(s);for(var A=arguments.length===1,O=0,B=s.length;O<B;O++)A?this._off(s[O]):this._off(s[O],c,g)}return this},_on:function(s,c,g,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,g)===!1){g===this&&(g=void 0);var A={fn:c,ctx:g};w&&(A.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(A)}},_off:function(s,c,g){var w,A,O;if(this._events&&(w=this._events[s],!!w)){if(arguments.length===1){if(this._firingCount)for(A=0,O=w.length;A<O;A++)w[A].fn=N;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var B=this._listens(s,c,g);if(B!==!1){var X=w[B];this._firingCount&&(X.fn=N,this._events[s]=w=w.slice()),w.splice(B,1)}}},fire:function(s,c,g){if(!this.listens(s,g))return this;var w=h({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var A=this._events[s];if(A){this._firingCount=this._firingCount+1||1;for(var O=0,B=A.length;O<B;O++){var X=A[O],J=X.fn;X.once&&this.off(s,J,X.ctx),J.call(X.ctx||this,w)}this._firingCount--}}return g&&this._propagateEvent(w),this},listens:function(s,c,g,w){typeof s!="string"&&console.warn('"string" type argument expected');var A=c;typeof c!="function"&&(w=!!c,A=void 0,g=void 0);var O=this._events&&this._events[s];if(O&&O.length&&this._listens(s,A,g)!==!1)return!0;if(w){for(var B in this._eventParents)if(this._eventParents[B].listens(s,c,g,w))return!0}return!1},_listens:function(s,c,g){if(!this._events)return!1;var w=this._events[s]||[];if(!c)return!!w.length;g===this&&(g=void 0);for(var A=0,O=w.length;A<O;A++)if(w[A].fn===c&&w[A].ctx===g)return A;return!1},once:function(s,c,g){if(typeof s=="object")for(var w in s)this._on(w,s[w],c,!0);else{s=H(s);for(var A=0,O=s.length;A<O;A++)this._on(s[A],c,g,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[E(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[E(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,h({layer:s.target,propagatedFrom:s.target},s),!0)}};Be.addEventListener=Be.on,Be.removeEventListener=Be.clearAllEventListeners=Be.off,Be.addOneTimeEventListener=Be.once,Be.fireEvent=Be.fire,Be.hasEventListeners=Be.listens;var Pe=Ze.extend(Be);function ne(s,c,g){this.x=g?Math.round(s):s,this.y=g?Math.round(c):c}var Oe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(s){return this.clone()._add(ce(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ce(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ne(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ne(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(s){s=ce(s);var c=s.x-this.x,g=s.y-this.y;return Math.sqrt(c*c+g*g)},equals:function(s){return s=ce(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ce(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function ce(s,c,g){return s instanceof ne?s:M(s)?new ne(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ne(s.x,s.y):new ne(s,c,g)}function Ie(s,c){if(s)for(var g=c?[s,c]:s,w=0,A=g.length;w<A;w++)this.extend(g[w])}Ie.prototype={extend:function(s){var c,g;if(!s)return this;if(s instanceof ne||typeof s[0]=="number"||"x"in s)c=g=ce(s);else if(s=be(s),c=s.min,g=s.max,!c||!g)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=g.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(s){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,g;return typeof s[0]=="number"||s instanceof ne?s=ce(s):s=be(s),s instanceof Ie?(c=s.min,g=s.max):c=g=s,c.x>=this.min.x&&g.x<=this.max.x&&c.y>=this.min.y&&g.y<=this.max.y},intersects:function(s){s=be(s);var c=this.min,g=this.max,w=s.min,A=s.max,O=A.x>=c.x&&w.x<=g.x,B=A.y>=c.y&&w.y<=g.y;return O&&B},overlaps:function(s){s=be(s);var c=this.min,g=this.max,w=s.min,A=s.max,O=A.x>c.x&&w.x<g.x,B=A.y>c.y&&w.y<g.y;return O&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,g=this.max,w=Math.abs(c.x-g.x)*s,A=Math.abs(c.y-g.y)*s;return be(ce(c.x-w,c.y-A),ce(g.x+w,g.y+A))},equals:function(s){return s?(s=be(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function be(s,c){return!s||s instanceof Ie?s:new Ie(s,c)}function at(s,c){if(s)for(var g=c?[s,c]:s,w=0,A=g.length;w<A;w++)this.extend(g[w])}at.prototype={extend:function(s){var c=this._southWest,g=this._northEast,w,A;if(s instanceof Ge)w=s,A=s;else if(s instanceof at){if(w=s._southWest,A=s._northEast,!w||!A)return this}else return s?this.extend(fe(s)||Le(s)):this;return!c&&!g?(this._southWest=new Ge(w.lat,w.lng),this._northEast=new Ge(A.lat,A.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),g.lat=Math.max(A.lat,g.lat),g.lng=Math.max(A.lng,g.lng)),this},pad:function(s){var c=this._southWest,g=this._northEast,w=Math.abs(c.lat-g.lat)*s,A=Math.abs(c.lng-g.lng)*s;return new at(new Ge(c.lat-w,c.lng-A),new Ge(g.lat+w,g.lng+A))},getCenter:function(){return new Ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ge||"lat"in s?s=fe(s):s=Le(s);var c=this._southWest,g=this._northEast,w,A;return s instanceof at?(w=s.getSouthWest(),A=s.getNorthEast()):w=A=s,w.lat>=c.lat&&A.lat<=g.lat&&w.lng>=c.lng&&A.lng<=g.lng},intersects:function(s){s=Le(s);var c=this._southWest,g=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),O=A.lat>=c.lat&&w.lat<=g.lat,B=A.lng>=c.lng&&w.lng<=g.lng;return O&&B},overlaps:function(s){s=Le(s);var c=this._southWest,g=this._northEast,w=s.getSouthWest(),A=s.getNorthEast(),O=A.lat>c.lat&&w.lat<g.lat,B=A.lng>c.lng&&w.lng<g.lng;return O&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=Le(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Le(s,c){return s instanceof at?s:new at(s,c)}function Ge(s,c,g){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,g!==void 0&&(this.alt=+g)}Ge.prototype={equals:function(s,c){if(!s)return!1;s=fe(s);var g=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return g<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+k(this.lat,s)+", "+k(this.lng,s)+")"},distanceTo:function(s){return mt.distance(this,fe(s))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,g=c/Math.cos(Math.PI/180*this.lat);return Le([this.lat-c,this.lng-g],[this.lat+c,this.lng+g])},clone:function(){return new Ge(this.lat,this.lng,this.alt)}};function fe(s,c,g){return s instanceof Ge?s:M(s)&&typeof s[0]!="object"?s.length===3?new Ge(s[0],s[1],s[2]):s.length===2?new Ge(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ge(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new Ge(s,c,g)}var en={latLngToPoint:function(s,c){var g=this.projection.project(s),w=this.scale(c);return this.transformation._transform(g,w)},pointToLatLng:function(s,c){var g=this.scale(c),w=this.transformation.untransform(s,g);return this.projection.unproject(w)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,g=this.scale(s),w=this.transformation.transform(c.min,g),A=this.transformation.transform(c.max,g);return new Ie(w,A)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?b(s.lng,this.wrapLng,!0):s.lng,g=this.wrapLat?b(s.lat,this.wrapLat,!0):s.lat,w=s.alt;return new Ge(g,c,w)},wrapLatLngBounds:function(s){var c=s.getCenter(),g=this.wrapLatLng(c),w=c.lat-g.lat,A=c.lng-g.lng;if(w===0&&A===0)return s;var O=s.getSouthWest(),B=s.getNorthEast(),X=new Ge(O.lat-w,O.lng-A),J=new Ge(B.lat-w,B.lng-A);return new at(X,J)}},mt=h({},en,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var g=Math.PI/180,w=s.lat*g,A=c.lat*g,O=Math.sin((c.lat-s.lat)*g/2),B=Math.sin((c.lng-s.lng)*g/2),X=O*O+Math.cos(w)*Math.cos(A)*B*B,J=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*J}}),gi=6378137,Yr={R:gi,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,g=this.MAX_LATITUDE,w=Math.max(Math.min(g,s.lat),-g),A=Math.sin(w*c);return new ne(this.R*s.lng*c,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(s){var c=180/Math.PI;return new Ge((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:function(){var s=gi*Math.PI;return new Ie([-s,-s],[s,s])}()};function tn(s,c,g,w){if(M(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=g,this._d=w}tn.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new ne((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function Mr(s,c,g,w){return new tn(s,c,g,w)}var $e=h({},mt,{code:"EPSG:3857",projection:Yr,transformation:function(){var s=.5/(Math.PI*Yr.R);return Mr(s,.5,-s,.5)}()}),mi=h({},$e,{code:"EPSG:900913"});function Zn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function xi(s,c){var g="",w,A,O,B,X,J;for(w=0,O=s.length;w<O;w++){for(X=s[w],A=0,B=X.length;A<B;A++)J=X[A],g+=(A?"L":"M")+J.x+" "+J.y;g+=c?Se.svg?"z":"x":""}return g||"M0 0"}var zt=document.documentElement.style,lt="ActiveXObject"in window,et=lt&&!document.addEventListener,Qi="msLaunchUri"in navigator&&!("documentMode"in document),Ae=Ct("webkit"),Ji=Ct("android"),vo=Ct("android 2")||Ct("android 3"),_r=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Eo=Ji&&Ct("Google")&&_r<537&&!("AudioNode"in window),Sn=!!window.opera,Co=!Qi&&Ct("chrome"),wr=Ct("gecko")&&!Ae&&!Sn&&!lt,hn=!Co&&Ct("safari"),Ao=Ct("phantom"),$i="OTransition"in zt,ku=navigator.platform.indexOf("Win")===0,Rt=lt&&"transition"in zt,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!vo,kt="MozPerspective"in zt,ft=!window.L_DISABLE_3D&&(Rt||me||kt)&&!$i&&!Ao,pt=typeof orientation<"u"||Ct("mobile"),es=pt&&Ae,So=pt&&me,To=!window.PointerEvent&&window.MSPointerEvent,nt=!!(window.PointerEvent||To),Dr="ontouchstart"in window||!!window.TouchEvent,Ga=!window.L_NO_TOUCH&&(Dr||nt),Xa=pt&&Sn,Gn=pt&&wr,Io=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nn=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",N,c),window.removeEventListener("testPassiveEventSupport",N,c)}catch{}return s}(),_i=function(){return!!document.createElement("canvas").getContext}(),wi=!!(document.createElementNS&&Zn("svg").createSVGRect),rr=!!wi&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Bu=!wi&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Kr=navigator.platform.indexOf("Mac")===0,No=navigator.platform.indexOf("Linux")===0;function Ct(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Se={ie:lt,ielt9:et,edge:Qi,webkit:Ae,android:Ji,android23:vo,androidStock:Eo,opera:Sn,chrome:Co,gecko:wr,safari:hn,phantom:Ao,opera12:$i,win:ku,ie3d:Rt,webkit3d:me,gecko3d:kt,any3d:ft,mobile:pt,mobileWebkit:es,mobileWebkit3d:So,msPointer:To,pointer:nt,touch:Ga,touchNative:Dr,mobileOpera:Xa,mobileGecko:Gn,retina:Io,passiveEvents:nn,canvas:_i,svg:wi,vml:Bu,inlineSvg:rr,mac:Kr,linux:No},Tn=Se.msPointer?"MSPointerDown":"pointerdown",ye=Se.msPointer?"MSPointerMove":"pointermove",qr=Se.msPointer?"MSPointerUp":"pointerup",bs=Se.msPointer?"MSPointerCancel":"pointercancel",rn={touchstart:Tn,touchmove:ye,touchend:qr,touchcancel:bs},Qr={touchstart:kr,touchmove:ns,touchend:ns,touchcancel:ns},yr={},ts=!1;function ir(s,c,g){return c==="touchstart"&&wt(),Qr[c]?(g=Qr[c].bind(this,g),s.addEventListener(rn[c],g,!1),g):(console.warn("wrong event specified:",c),N)}function Fu(s,c,g){if(!rn[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(rn[c],g,!1)}function zu(s){yr[s.pointerId]=s}function sr(s){yr[s.pointerId]&&(yr[s.pointerId]=s)}function sn(s){delete yr[s.pointerId]}function wt(){ts||(document.addEventListener(Tn,zu,!0),document.addEventListener(ye,sr,!0),document.addEventListener(qr,sn,!0),document.addEventListener(bs,sn,!0),ts=!0)}function ns(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var g in yr)c.touches.push(yr[g]);c.changedTouches=[c],s(c)}}function kr(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Kt(c),ns(s,c)}function Oo(s){var c={},g,w;for(w in s)g=s[w],c[w]=g&&g.bind?g.bind(s):g;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var se=200;function Uu(s,c){s.addEventListener("dblclick",c);var g=0,w;function A(O){if(O.detail!==1){w=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var B=vi(O);if(!(B.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!B.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var X=Date.now();X-g<=se?(w++,w===2&&c(Oo(O))):w=1,g=X}}}return s.addEventListener("click",A),{dblclick:c,simDblclick:A}}function Ot(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var Br=Z(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=Z(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),it=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function rt(s){return typeof s=="string"?document.getElementById(s):s}function je(s,c){var g=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!g||g==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(s,null);g=w?w[c]:null}return g==="auto"?null:g}function Je(s,c,g){var w=document.createElement(s);return w.className=c||"",g&&g.appendChild(w),w}function xt(s){var c=s.parentNode;c&&c.removeChild(s)}function yi(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function yt(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function In(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function bo(s,c){if(s.classList!==void 0)return s.classList.contains(c);var g=vr(s);return g.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(g)}function Te(s,c){if(s.classList!==void 0)for(var g=H(c),w=0,A=g.length;w<A;w++)s.classList.add(g[w]);else if(!bo(s,c)){var O=vr(s);Ro(s,(O?O+" ":"")+c)}}function ut(s,c){s.classList!==void 0?s.classList.remove(c):Ro(s,W((" "+vr(s)+" ").replace(" "+c+" "," ")))}function Ro(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function vr(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Xe(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&on(s,c)}function on(s,c){var g=!1,w="DXImageTransform.Microsoft.Alpha";try{g=s.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),g?(g.Enabled=c!==100,g.Opacity=c):s.style.filter+=" progid:"+w+"(opacity="+c+")"}function Z(s){for(var c=document.documentElement.style,g=0;g<s.length;g++)if(s[g]in c)return s[g];return!1}function R(s,c,g){var w=c||new ne(0,0);s.style[Br]=(Se.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(g?" scale("+g+")":"")}function xe(s,c){s._leaflet_pos=c,Se.any3d?R(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function vt(s){return s._leaflet_pos||new ne(0,0)}var an,is,ss;if("onselectstart"in document)an=function(){ke(window,"selectstart",Kt)},is=function(){_e(window,"selectstart",Kt)};else{var ln=Z(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);an=function(){if(ln){var s=document.documentElement.style;ss=s[ln],s[ln]="none"}},is=function(){ln&&(document.documentElement.style[ln]=ss,ss=void 0)}}function Ne(){ke(window,"dragstart",Kt)}function _t(){_e(window,"dragstart",Kt)}var os,Po;function as(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Jr(),os=s,Po=s.style.outlineStyle,s.style.outlineStyle="none",ke(window,"keydown",Jr))}function Jr(){os&&(os.style.outlineStyle=Po,os=void 0,Po=void 0,_e(window,"keydown",Jr))}function Rs(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Lo(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var Wt={__proto__:null,TRANSFORM:Br,TRANSITION:rs,TRANSITION_END:it,get:rt,getStyle:je,create:Je,remove:xt,empty:yi,toFront:yt,toBack:In,hasClass:bo,addClass:Te,removeClass:ut,setClass:Ro,getClass:vr,setOpacity:Xe,testProp:Z,setTransform:R,setPosition:xe,getPosition:vt,get disableTextSelection(){return an},get enableTextSelection(){return is},disableImageDrag:Ne,enableImageDrag:_t,preventOutline:as,restoreOutline:Jr,getSizedParentNode:Rs,getScale:Lo};function ke(s,c,g,w){if(c&&typeof c=="object")for(var A in c)Ut(s,A,c[A],g);else{c=H(c);for(var O=0,B=c.length;O<B;O++)Ut(s,c[O],g,w)}return this}var Yt="_leaflet_events";function _e(s,c,g,w){if(arguments.length===1)Ya(s),delete s[Yt];else if(c&&typeof c=="object")for(var A in c)Mo(s,A,c[A],g);else if(c=H(c),arguments.length===2)Ya(s,function(X){return G(c,X)!==-1});else for(var O=0,B=c.length;O<B;O++)Mo(s,c[O],g,w);return this}function Ya(s,c){for(var g in s[Yt]){var w=g.split(/\d/)[0];(!c||c(w))&&Mo(s,w,null,null,g)}}var ze={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ut(s,c,g,w){var A=c+E(g)+(w?"_"+E(w):"");if(s[Yt]&&s[Yt][A])return this;var O=function(X){return g.call(w||s,X||window.event)},B=O;!Se.touchNative&&Se.pointer&&c.indexOf("touch")===0?O=ir(s,c,O):Se.touch&&c==="dblclick"?O=Uu(s,O):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(ze[c]||c,O,Se.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(O=function(X){X=X||window.event,$r(s,X)&&B(X)},s.addEventListener(ze[c],O,!1)):s.addEventListener(c,B,!1):s.attachEvent("on"+c,O),s[Yt]=s[Yt]||{},s[Yt][A]=O}function Mo(s,c,g,w,A){A=A||c+E(g)+(w?"_"+E(w):"");var O=s[Yt]&&s[Yt][A];if(!O)return this;!Se.touchNative&&Se.pointer&&c.indexOf("touch")===0?Fu(s,c,O):Se.touch&&c==="dblclick"?Ot(s,O):"removeEventListener"in s?s.removeEventListener(ze[c]||c,O,!1):s.detachEvent("on"+c,O),s[Yt][A]=null}function Er(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ps(s){return Ut(s,"wheel",Er),this}function Xn(s){return ke(s,"mousedown touchstart dblclick contextmenu",Er),s._leaflet_disable_click=!0,this}function Kt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Yn(s){return Kt(s),Er(s),this}function vi(s){if(s.composedPath)return s.composedPath();for(var c=[],g=s.target;g;)c.push(g),g=g.parentNode;return c}function Ei(s,c){if(!c)return new ne(s.clientX,s.clientY);var g=Lo(c),w=g.boundingClientRect;return new ne((s.clientX-w.left)/g.x-c.clientLeft,(s.clientY-w.top)/g.y-c.clientTop)}var Ka=Se.linux&&Se.chrome?window.devicePixelRatio:Se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ci(s){return Se.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ka:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function $r(s,c){var g=c.relatedTarget;if(!g)return!0;try{for(;g&&g!==s;)g=g.parentNode}catch{return!1}return g!==s}var mn={__proto__:null,on:ke,off:_e,stopPropagation:Er,disableScrollPropagation:Ps,disableClickPropagation:Xn,preventDefault:Kt,stop:Yn,getPropagationPath:vi,getMousePosition:Ei,getWheelDelta:Ci,isExternalTarget:$r,addListener:ke,removeListener:_e},Do=Pe.extend({run:function(s,c,g,w){this.stop(),this._el=s,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=vt(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Fe(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,g=this._duration*1e3;c<g?this._runFrame(this._easeOut(c/g),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var g=this._startPos.add(this._offset.multiplyBy(s));c&&g._round(),xe(this._el,g),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),qe=Pe.extend({options:{crs:$e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=V(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=x(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(fe(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&Se.any3d&&!Se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,it,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,g){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(fe(s),c,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=h({animate:g.animate},g.zoom),g.pan=h({animate:g.animate,duration:g.duration},g.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,g.zoom):this._tryAnimatedPan(s,g.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,g.pan&&g.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,g){var w=this.getZoomScale(c),A=this.getSize().divideBy(2),O=s instanceof ne?s:this.latLngToContainerPoint(s),B=O.subtract(A).multiplyBy(1-1/w),X=this.containerPointToLatLng(A.add(B));return this.setView(X,c,{zoom:g})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():Le(s);var g=ce(c.paddingTopLeft||c.padding||[0,0]),w=ce(c.paddingBottomRight||c.padding||[0,0]),A=this.getBoundsZoom(s,!1,g.add(w));if(A=typeof c.maxZoom=="number"?Math.min(c.maxZoom,A):A,A===1/0)return{center:s.getCenter(),zoom:A};var O=w.subtract(g).divideBy(2),B=this.project(s.getSouthWest(),A),X=this.project(s.getNorthEast(),A),J=this.unproject(B.add(X).divideBy(2).add(O),A);return{center:J,zoom:A}},fitBounds:function(s,c){if(s=Le(s),!s.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(s,c);return this.setView(g.center,g.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=ce(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Do,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Te(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,g,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,g){if(g=g||{},g.animate===!1||!Se.any3d)return this.setView(s,c,g);this._stop();var w=this.project(this.getCenter()),A=this.project(s),O=this.getSize(),B=this._zoom;s=fe(s),c=c===void 0?B:c;var X=Math.max(O.x,O.y),J=X*this.getZoomScale(B,c),oe=A.distanceTo(w)||1,ve=1.42,Me=ve*ve;function Ke(Zt){var rl=Zt?-1:1,nm=Zt?J:X,rm=J*J-X*X+rl*Me*Me*oe*oe,im=2*nm*Me*oe,Xu=rm/im,Kh=Math.sqrt(Xu*Xu+1)-Xu,sm=Kh<1e-9?-18:Math.log(Kh);return sm}function Rn(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function un(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function fr(Zt){return Rn(Zt)/un(Zt)}var Bn=Ke(0);function Bs(Zt){return X*(un(Bn)/un(Bn+ve*Zt))}function Jg(Zt){return X*(un(Bn)*fr(Bn+ve*Zt)-Rn(Bn))/Me}function $g(Zt){return 1-Math.pow(1-Zt,1.5)}var em=Date.now(),Xh=(Ke(1)-Bn)/ve,tm=g.duration?1e3*g.duration:1e3*Xh*.8;function Yh(){var Zt=(Date.now()-em)/tm,rl=$g(Zt)*Xh;Zt<=1?(this._flyToFrame=Fe(Yh,this),this._move(this.unproject(w.add(A.subtract(w).multiplyBy(Jg(rl)/oe)),B),this.getScaleZoom(X/Bs(rl),B),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Yh.call(this),this},flyToBounds:function(s,c){var g=this._getBoundsCenterZoom(s,c);return this.flyTo(g.center,g.zoom,c)},setMaxBounds:function(s){return s=Le(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var g=this.getCenter(),w=this._limitCenter(g,this._zoom,Le(s));return g.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var g=ce(c.paddingTopLeft||c.padding||[0,0]),w=ce(c.paddingBottomRight||c.padding||[0,0]),A=this.project(this.getCenter()),O=this.project(s),B=this.getPixelBounds(),X=be([B.min.add(g),B.max.subtract(w)]),J=X.getSize();if(!X.contains(O)){this._enforcingBounds=!0;var oe=O.subtract(X.getCenter()),ve=X.extend(O).getSize().subtract(J);A.x+=oe.x<0?-ve.x:ve.x,A.y+=oe.y<0?-ve.y:ve.y,this.panTo(this.unproject(A),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=h({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),w=c.divideBy(2).round(),A=g.divideBy(2).round(),O=w.subtract(A);return!O.x&&!O.y?this:(s.animate&&s.pan?this.panBy(O):(s.pan&&this._rawPanBy(O),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(x(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=h({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=x(this._handleGeolocationResponse,this),g=x(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,g,s):navigator.geolocation.getCurrentPosition(c,g,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,g=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,g=s.coords.longitude,w=new Ge(c,g),A=w.toBounds(s.coords.accuracy*2),O=this._locateOptions;if(O.setView){var B=this.getBoundsZoom(A);this.setView(w,O.maxZoom?Math.min(B,O.maxZoom):B)}var X={latlng:w,bounds:A,timestamp:s.timestamp};for(var J in s.coords)typeof s.coords[J]=="number"&&(X[J]=s.coords[J]);this.fire("locationfound",X)}},addHandler:function(s,c){if(!c)return this;var g=this[s]=new c(this);return this._handlers.push(g),this.options[s]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)xt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var g="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),w=Je("div",g,c||this._mapPane);return s&&(this._panes[s]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),g=this.unproject(s.getTopRight());return new at(c,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,g){s=Le(s),g=ce(g||[0,0]);var w=this.getZoom()||0,A=this.getMinZoom(),O=this.getMaxZoom(),B=s.getNorthWest(),X=s.getSouthEast(),J=this.getSize().subtract(g),oe=be(this.project(X,w),this.project(B,w)).getSize(),ve=Se.any3d?this.options.zoomSnap:1,Me=J.x/oe.x,Ke=J.y/oe.y,Rn=c?Math.max(Me,Ke):Math.min(Me,Ke);return w=this.getScaleZoom(Rn,w),ve&&(w=Math.round(w/(ve/100))*(ve/100),w=c?Math.ceil(w/ve)*ve:Math.floor(w/ve)*ve),Math.max(A,Math.min(O,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var g=this._getTopLeftPoint(s,c);return new Ie(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var g=this.options.crs;return c=c===void 0?this._zoom:c,g.scale(s)/g.scale(c)},getScaleZoom:function(s,c){var g=this.options.crs;c=c===void 0?this._zoom:c;var w=g.zoom(s*g.scale(c));return isNaN(w)?1/0:w},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(fe(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ce(s),c)},layerPointToLatLng:function(s){var c=ce(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(fe(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(fe(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Le(s))},distance:function(s,c){return this.options.crs.distance(fe(s),fe(c))},containerPointToLayerPoint:function(s){return ce(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ce(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(ce(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(s)))},mouseEventToContainerPoint:function(s){return Ei(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=rt(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(c,"scroll",this._onScroll,this),this._containerId=E(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Se.any3d,Te(s,"leaflet-container"+(Se.touch?" leaflet-touch":"")+(Se.retina?" leaflet-retina":"")+(Se.ielt9?" leaflet-oldie":"")+(Se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=je(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xe(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Te(s.markerPane,"leaflet-zoom-hide"),Te(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,g){xe(this._mapPane,new ne(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var A=this._zoom!==c;this._moveStart(A,g)._move(s,c)._moveEnd(A),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,g,w){c===void 0&&(c=this._zoom);var A=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),w?g&&g.pinch&&this.fire("zoom",g):((A||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){xe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[E(this._container)]=this;var c=s?_e:ke;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Se.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=Fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var g=[],w,A=c==="mouseout"||c==="mouseover",O=s.target||s.srcElement,B=!1;O;){if(w=this._targets[E(O)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){B=!0;break}if(w&&w.listens(c,!0)&&(A&&!$r(O,s)||(g.push(w),A))||O===this._container)break;O=O.parentNode}return!g.length&&!B&&!A&&this.listens(c,!0)&&(g=[this]),g},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var g=s.type;g==="mousedown"&&as(c),this._fireDOMEvent(s,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,g){if(s.type==="click"){var w=h({},s);w.type="preclick",this._fireDOMEvent(w,w.type,g)}var A=this._findEventTargets(s,c);if(g){for(var O=[],B=0;B<g.length;B++)g[B].listens(c,!0)&&O.push(g[B]);A=O.concat(A)}if(A.length){c==="contextmenu"&&Kt(s);var X=A[0],J={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var oe=X.getLatLng&&(!X._radius||X._radius<=10);J.containerPoint=oe?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(s),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=oe?X.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(B=0;B<A.length;B++)if(A[B].fire(c,J,!0),J.originalEvent._stopped||A[B].options.bubblingMouseEvents===!1&&G(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return vt(this._mapPane)||new ne(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var g=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var g=this.getSize()._divideBy(2);return this.project(s,c)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,g){var w=this._getNewPixelOrigin(g,c);return this.project(s,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(s,c,g){var w=this._getNewPixelOrigin(g,c);return be([this.project(s.getSouthWest(),c)._subtract(w),this.project(s.getNorthWest(),c)._subtract(w),this.project(s.getSouthEast(),c)._subtract(w),this.project(s.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,g){if(!g)return s;var w=this.project(s,c),A=this.getSize().divideBy(2),O=new Ie(w.subtract(A),w.add(A)),B=this._getBoundsOffset(O,g,c);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?s:this.unproject(w.add(B),c)},_limitOffset:function(s,c){if(!c)return s;var g=this.getPixelBounds(),w=new Ie(g.min.add(s),g.max.add(s));return s.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(s,c,g){var w=be(this.project(c.getNorthEast(),g),this.project(c.getSouthWest(),g)),A=w.min.subtract(s.min),O=w.max.subtract(s.max),B=this._rebound(A.x,-O.x),X=this._rebound(A.y,-O.y);return new ne(B,X)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),g=this.getMaxZoom(),w=Se.any3d?this.options.zoomSnap:1;return w&&(s=Math.round(s/w)*w),Math.max(c,Math.min(g,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var g=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,c),!0)},_createAnimProxy:function(){var s=this._proxy=Je("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var g=Br,w=this._proxy.style[g];R(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();R(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),A=this._getCenterOffset(s)._divideBy(1-1/w);return g.animate!==!0&&!this.getSize().contains(A)?!1:(Fe(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,g,w){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,Te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(x(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qa(s,c){return new qe(s,c)}var Kn=Ze.extend({options:{position:"topright"},initialize:function(s){V(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),g=this.getPosition(),w=s._controlCorners[g];return Te(c,"leaflet-control"),g.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ls=function(s){return new Kn(s)};qe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",g=this._controlContainer=Je("div",c+"control-container",this._container);function w(A,O){var B=c+A+" "+c+O;s[A+O]=Je("div",B,g)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)xt(this._controlCorners[s]);xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qa=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,g,w){return g<w?-1:w<g?1:0}},initialize:function(s,c,g){V(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in s)this._addLayer(s[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Kn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(E(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=Je("div",s),g=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Xn(c),Ps(c);var w=this._section=Je("section",s+"-list");g&&(this._map.on("click",this.collapse,this),ke(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=Je("a",s+"-toggle",c);A.href="#",A.title="Layers",A.setAttribute("role","button"),ke(A,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){Kt(O),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Je("div",s+"-base",w),this._separator=Je("div",s+"-separator",w),this._overlaysList=Je("div",s+"-overlays",w),c.appendChild(w)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&E(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,g){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:g}),this.options.sortLayers&&this._layers.sort(x(function(w,A){return this.options.sortFunction(w.layer,A.layer,w.name,A.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yi(this._baseLayersList),yi(this._overlaysList),this._layerControlInputs=[];var s,c,g,w,A=0;for(g=0;g<this._layers.length;g++)w=this._layers[g],this._addItem(w),c=c||w.overlay,s=s||!w.overlay,A+=w.overlay?0:1;return this.options.hideSingleBase&&(s=s&&A>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(E(s.target)),g=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;g&&this._map.fire(g,c)},_createRadioElement:function(s,c){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=g,w.firstChild},_addItem:function(s){var c=document.createElement("label"),g=this._map.hasLayer(s.layer),w;s.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=g):w=this._createRadioElement("leaflet-base-layers_"+E(this),g),this._layerControlInputs.push(w),w.layerId=E(s.layer),ke(w,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+s.name;var O=document.createElement("span");c.appendChild(O),O.appendChild(w),O.appendChild(A);var B=s.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,g,w=[],A=[];this._handlingClick=!0;for(var O=s.length-1;O>=0;O--)c=s[O],g=this._getLayer(c.layerId).layer,c.checked?w.push(g):c.checked||A.push(g);for(O=0;O<A.length;O++)this._map.hasLayer(A[O])&&this._map.removeLayer(A[O]);for(O=0;O<w.length;O++)this._map.hasLayer(w[O])||this._map.addLayer(w[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,g,w=this._map.getZoom(),A=s.length-1;A>=0;A--)c=s[A],g=this._getLayer(c.layerId).layer,c.disabled=g.options.minZoom!==void 0&&w<g.options.minZoom||g.options.maxZoom!==void 0&&w>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ke(s,"click",Kt),this.expand();var c=this;setTimeout(function(){_e(s,"click",Kt),c._preventClick=!1})}}),ct=function(s,c,g){return new Qa(s,c,g)},Ls=Kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",g=Je("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",g,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,g,w,A){var O=Je("a",g,w);return O.innerHTML=s,O.href="#",O.title=c,O.setAttribute("role","button"),O.setAttribute("aria-label",c),Xn(O),ke(O,"click",Yn),ke(O,"click",A,this),ke(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";ut(this._zoomInButton,c),ut(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Te(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Te(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ls,this.addControl(this.zoomControl))});var Ms=function(s){return new Ls(s)},Cr=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",g=Je("div",c),w=this.options;return this._addScales(w,c+"-line",g),s.on(w.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),g},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,g){s.metric&&(this._mScale=Je("div",c,g)),s.imperial&&(this._iScale=Je("div",c,g))},_update:function(){var s=this._map,c=s.getSize().y/2,g=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(g)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),g=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,g,c/s)},_updateImperial:function(s){var c=s*3.2808399,g,w,A;c>5280?(g=c/5280,w=this._getRoundNum(g),this._updateScale(this._iScale,w+" mi",w/g)):(A=this._getRoundNum(c),this._updateScale(this._iScale,A+" ft",A/c))},_updateScale:function(s,c,g){s.style.width=Math.round(this.options.maxWidth*g)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),g=s/c;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,c*g}}),Hu=function(s){return new Cr(s)},Q='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',He=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Se.inlineSvg?Q+" ":"")+"Leaflet</a>"},initialize:function(s){V(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Je("div","leaflet-control-attribution"),Xn(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var g=[];this.options.prefix&&g.push(this.options.prefix),s.length&&g.push(s.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook(function(){this.options.attributionControl&&new He().addTo(this)});var qt=function(s){return new He(s)};Kn.Layers=Qa,Kn.Zoom=Ls,Kn.Scale=Cr,Kn.Attribution=He,ls.layers=ct,ls.zoom=Ms,ls.scale=Hu,ls.attribution=qt;var Nn=Ze.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(s,c){return s.addHandler(c,this),this};var Ja={Events:Be},$a=Se.touch?"touchstart mousedown":"mousedown",Fr=Pe.extend({options:{clickTolerance:3},initialize:function(s,c,g,w){V(this,w),this._element=s,this._dragStartTarget=c||s,this._preventOutline=g},enable:function(){this._enabled||(ke(this._dragStartTarget,$a,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fr._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,$a,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!bo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Fr._dragging===this&&this.finishDrag();return}if(!(Fr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Fr._dragging=this,this._preventOutline&&as(this._element),Ne(),an(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,g=Rs(this._element);this._startPoint=new ne(c.clientX,c.clientY),this._startPos=vt(this._element),this._parentScale=Lo(g);var w=s.type==="mousedown";ke(document,w?"mousemove":"touchmove",this._onMove,this),ke(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,g=new ne(c.clientX,c.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Kt(s),this._moved||(this.fire("dragstart"),this._moved=!0,Te(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),xe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ut(document.body,"leaflet-dragging"),this._lastTarget&&(ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),_t(),is();var c=this._moved&&this._moving;this._moving=!1,Fr._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function el(s,c,g){var w,A=[1,4,2,8],O,B,X,J,oe,ve,Me,Ke;for(O=0,ve=s.length;O<ve;O++)s[O]._code=ti(s[O],c);for(X=0;X<4;X++){for(Me=A[X],w=[],O=0,ve=s.length,B=ve-1;O<ve;B=O++)J=s[O],oe=s[B],J._code&Me?oe._code&Me||(Ke=Ar(oe,J,Me,c,g),Ke._code=ti(Ke,c),w.push(Ke)):(oe._code&Me&&(Ke=Ar(oe,J,Me,c,g),Ke._code=ti(Ke,c),w.push(Ke)),w.push(J));s=w}return s}function Ds(s,c){var g,w,A,O,B,X,J,oe,ve;if(!s||s.length===0)throw new Error("latlngs not passed");On(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Me=fe([0,0]),Ke=Le(s),Rn=Ke.getNorthWest().distanceTo(Ke.getSouthWest())*Ke.getNorthEast().distanceTo(Ke.getNorthWest());Rn<1700&&(Me=Pt(s));var un=s.length,fr=[];for(g=0;g<un;g++){var Bn=fe(s[g]);fr.push(c.project(fe([Bn.lat-Me.lat,Bn.lng-Me.lng])))}for(X=J=oe=0,g=0,w=un-1;g<un;w=g++)A=fr[g],O=fr[w],B=A.y*O.x-O.y*A.x,J+=(A.x+O.x)*B,oe+=(A.y+O.y)*B,X+=B*3;X===0?ve=fr[0]:ve=[J/X,oe/X];var Bs=c.unproject(ce(ve));return fe([Bs.lat+Me.lat,Bs.lng+Me.lng])}function Pt(s){for(var c=0,g=0,w=0,A=0;A<s.length;A++){var O=fe(s[A]);c+=O.lat,g+=O.lng,w++}return fe([c/w,g/w])}var ko={__proto__:null,clipPolygon:el,polygonCenter:Ds,centroid:Pt};function At(s,c){if(!c||!s.length)return s.slice();var g=c*c;return s=Vu(s,g),s=ht(s,g),s}function us(s,c,g){return Math.sqrt(ni(s,c,g,!0))}function ei(s,c,g){return ni(s,c,g)}function ht(s,c){var g=s.length,w=typeof Uint8Array<"u"?Uint8Array:Array,A=new w(g);A[0]=A[g-1]=1,Re(s,A,c,0,g-1);var O,B=[];for(O=0;O<g;O++)A[O]&&B.push(s[O]);return B}function Re(s,c,g,w,A){var O=0,B,X,J;for(X=w+1;X<=A-1;X++)J=ni(s[X],s[w],s[A],!0),J>O&&(B=X,O=J);O>g&&(c[B]=1,Re(s,c,g,w,B),Re(s,c,g,B,A))}function Vu(s,c){for(var g=[s[0]],w=1,A=0,O=s.length;w<O;w++)or(s[w],s[A])>c&&(g.push(s[w]),A=w);return A<O-1&&g.push(s[O-1]),g}var gt;function zr(s,c,g,w,A){var O=w?gt:ti(s,g),B=ti(c,g),X,J,oe;for(gt=B;;){if(!(O|B))return[s,c];if(O&B)return!1;X=O||B,J=Ar(s,c,X,g,A),oe=ti(J,g),X===O?(s=J,O=oe):(c=J,B=oe)}}function Ar(s,c,g,w,A){var O=c.x-s.x,B=c.y-s.y,X=w.min,J=w.max,oe,ve;return g&8?(oe=s.x+O*(J.y-s.y)/B,ve=J.y):g&4?(oe=s.x+O*(X.y-s.y)/B,ve=X.y):g&2?(oe=J.x,ve=s.y+B*(J.x-s.x)/O):g&1&&(oe=X.x,ve=s.y+B*(X.x-s.x)/O),new ne(oe,ve,A)}function ti(s,c){var g=0;return s.x<c.min.x?g|=1:s.x>c.max.x&&(g|=2),s.y<c.min.y?g|=4:s.y>c.max.y&&(g|=8),g}function or(s,c){var g=c.x-s.x,w=c.y-s.y;return g*g+w*w}function ni(s,c,g,w){var A=c.x,O=c.y,B=g.x-A,X=g.y-O,J=B*B+X*X,oe;return J>0&&(oe=((s.x-A)*B+(s.y-O)*X)/J,oe>1?(A=g.x,O=g.y):oe>0&&(A+=B*oe,O+=X*oe)),B=s.x-A,X=s.y-O,w?B*B+X*X:new ne(A,O)}function On(s){return!M(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ks(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),On(s)}function Bo(s,c){var g,w,A,O,B,X,J,oe;if(!s||s.length===0)throw new Error("latlngs not passed");On(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ve=fe([0,0]),Me=Le(s),Ke=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());Ke<1700&&(ve=Pt(s));var Rn=s.length,un=[];for(g=0;g<Rn;g++){var fr=fe(s[g]);un.push(c.project(fe([fr.lat-ve.lat,fr.lng-ve.lng])))}for(g=0,w=0;g<Rn-1;g++)w+=un[g].distanceTo(un[g+1])/2;if(w===0)oe=un[0];else for(g=0,O=0;g<Rn-1;g++)if(B=un[g],X=un[g+1],A=B.distanceTo(X),O+=A,O>w){J=(O-w)/A,oe=[X.x-J*(X.x-B.x),X.y-J*(X.y-B.y)];break}var Bn=c.unproject(ce(oe));return fe([Bn.lat+ve.lat,Bn.lng+ve.lng])}var tl={__proto__:null,simplify:At,pointToSegmentDistance:us,closestPointOnSegment:ei,clipSegment:zr,_getEdgeIntersection:Ar,_getBitCode:ti,_sqClosestPointOnSegment:ni,isFlat:On,_flat:ks,polylineCenter:Bo},Fo={project:function(s){return new ne(s.lng,s.lat)},unproject:function(s){return new Ge(s.y,s.x)},bounds:new Ie([-180,-90],[180,90])},Ur={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,g=this.R,w=s.lat*c,A=this.R_MINOR/g,O=Math.sqrt(1-A*A),B=O*Math.sin(w),X=Math.tan(Math.PI/4-w/2)/Math.pow((1-B)/(1+B),O/2);return w=-g*Math.log(Math.max(X,1e-10)),new ne(s.lng*c*g,w)},unproject:function(s){for(var c=180/Math.PI,g=this.R,w=this.R_MINOR/g,A=Math.sqrt(1-w*w),O=Math.exp(-s.y/g),B=Math.PI/2-2*Math.atan(O),X=0,J=.1,oe;X<15&&Math.abs(J)>1e-7;X++)oe=A*Math.sin(B),oe=Math.pow((1-oe)/(1+oe),A/2),J=Math.PI/2-2*Math.atan(O*oe)-B,B+=J;return new Ge(B*c,s.x*c/g)}},zo={__proto__:null,LonLat:Fo,Mercator:Ur,SphericalMercator:Yr},Wu=h({},mt,{code:"EPSG:3395",projection:Ur,transformation:function(){var s=.5/(Math.PI*Ur.R);return Mr(s,.5,-s,.5)}()}),Ai=h({},mt,{code:"EPSG:4326",projection:Fo,transformation:Mr(1/180,1,-1/180,.5)}),ju=h({},en,{projection:Fo,transformation:Mr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var g=c.lng-s.lng,w=c.lat-s.lat;return Math.sqrt(g*g+w*w)},infinite:!0});en.Earth=mt,en.EPSG3395=Wu,en.EPSG3857=$e,en.EPSG900913=mi,en.EPSG4326=Ai,en.Simple=ju;var jt=Pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[E(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[E(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var g=this.getEvents();c.on(g,this),this.once("remove",function(){c.off(g,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=E(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=E(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return E(s)in this._layers},eachLayer:function(s,c){for(var g in this._layers)s.call(c,this._layers[g]);return this},_addLayers:function(s){s=s?M(s)?s:[s]:[];for(var c=0,g=s.length;c<g;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[E(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=E(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,g=this._getZoomSpan();for(var w in this._zoomBoundLayers){var A=this._zoomBoundLayers[w].options;s=A.minZoom===void 0?s:Math.min(s,A.minZoom),c=A.maxZoom===void 0?c:Math.max(c,A.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sr=jt.extend({initialize:function(s,c){V(this,c),this._layers={};var g,w;if(s)for(g=0,w=s.length;g<w;g++)this.addLayer(s[g])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),g,w;for(g in this._layers)w=this._layers[g],w[s]&&w[s].apply(w,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var g in this._layers)s.call(c,this._layers[g]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return E(s)}}),kn=function(s,c){return new Sr(s,c)},ar=Sr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Sr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Sr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new at;for(var c in this._layers){var g=this._layers[c];s.extend(g.getBounds?g.getBounds():g.getLatLng())}return s}}),lr=function(s,c){return new ar(s,c)},Si=Ze.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){V(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var g=this._getIconUrl(s);if(!g){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(g,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(s,c){var g=this.options,w=g[c+"Size"];typeof w=="number"&&(w=[w,w]);var A=ce(w),O=ce(c==="shadow"&&g.shadowAnchor||g.iconAnchor||A&&A.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(g.className||""),O&&(s.style.marginLeft=-O.x+"px",s.style.marginTop=-O.y+"px"),A&&(s.style.width=A.x+"px",s.style.height=A.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return Se.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Uo(s){return new Si(s)}var cs=Si.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof cs.imagePath!="string"&&(cs.imagePath=this._detectIconPath()),(this.options.imagePath||cs.imagePath)+Si.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(g,w,A){var O=w.exec(g);return O&&O[A]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Je("div","leaflet-default-icon-path",document.body),c=je(s,"background-image")||je(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),Ho=Nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Fr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Te(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,g=c._map,w=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,O=vt(c._icon),B=g.getPixelBounds(),X=g.getPixelOrigin(),J=be(B.min._subtract(X).add(A),B.max._subtract(X).subtract(A));if(!J.contains(O)){var oe=ce((Math.max(J.max.x,O.x)-J.max.x)/(B.max.x-J.max.x)-(Math.min(J.min.x,O.x)-J.min.x)/(B.min.x-J.min.x),(Math.max(J.max.y,O.y)-J.max.y)/(B.max.y-J.max.y)-(Math.min(J.min.y,O.y)-J.min.y)/(B.min.y-J.min.y)).multiplyBy(w);g.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),xe(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Fe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=Fe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,g=c._shadow,w=vt(c._icon),A=c._map.layerPointToLatLng(w);g&&xe(g,w),c._latlng=A,s.latlng=A,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),bn=jt.extend({options:{icon:new cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){V(this,c),this._latlng=fe(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=fe(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=s.icon.createIcon(this._icon),w=!1;g!==this._icon&&(this._icon&&this._removeIcon(),w=!0,s.title&&(g.title=s.title),g.tagName==="IMG"&&(g.alt=s.alt||"")),Te(g,c),s.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(g,"focus",this._panOnFocus,this);var A=s.icon.createShadow(this._shadow),O=!1;A!==this._shadow&&(this._removeShadow(),O=!0),A&&(Te(A,c),A.alt=""),this._shadow=A,s.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&O&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&xe(this._icon,s),this._shadow&&xe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ho)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ho(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Xe(this._icon,s),this._shadow&&Xe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,g=c.iconSize?ce(c.iconSize):ce(0,0),w=c.iconAnchor?ce(c.iconAnchor):ce(0,0);s.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:g.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zu(s,c){return new bn(s,c)}var ur=jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return V(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hr=ur.extend({options:{fill:!0,radius:10},initialize:function(s,c){V(this,c),this._latlng=fe(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=fe(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return ur.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,g=this._clickTolerance(),w=[s+g,c+g];this._pxBounds=new Ie(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tt(s,c){return new Hr(s,c)}var Ti=Hr.extend({initialize:function(s,c,g){if(typeof c=="number"&&(c=h({},g,{radius:c})),V(this,c),this._latlng=fe(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new at(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ur.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,g=this._map,w=g.options.crs;if(w.distance===mt.distance){var A=Math.PI/180,O=this._mRadius/mt.R/A,B=g.project([c+O,s]),X=g.project([c-O,s]),J=B.add(X).divideBy(2),oe=g.unproject(J).lat,ve=Math.acos((Math.cos(O*A)-Math.sin(c*A)*Math.sin(oe*A))/(Math.cos(c*A)*Math.cos(oe*A)))/A;(isNaN(ve)||ve===0)&&(ve=O/Math.cos(Math.PI/180*c)),this._point=J.subtract(g.getPixelOrigin()),this._radius=isNaN(ve)?0:J.x-g.project([oe,s-ve]).x,this._radiusY=J.y-B.y}else{var Me=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Me).x}this._updateBounds()}});function S(s,c,g){return new Ti(s,c,g)}var n=ur.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){V(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,g=null,w=ni,A,O,B=0,X=this._parts.length;B<X;B++)for(var J=this._parts[B],oe=1,ve=J.length;oe<ve;oe++){A=J[oe-1],O=J[oe];var Me=w(s,A,O,!0);Me<c&&(c=Me,g=w(s,A,O))}return g&&(g.distance=Math.sqrt(c)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=fe(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new at,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return On(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],g=On(s),w=0,A=s.length;w<A;w++)g?(c[w]=fe(s[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(s[w]);return c},_project:function(){var s=new Ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new ne(s,s);this._rawPxBounds&&(this._pxBounds=new Ie([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,g){var w=s[0]instanceof Ge,A=s.length,O,B;if(w){for(B=[],O=0;O<A;O++)B[O]=this._map.latLngToLayerPoint(s[O]),g.extend(B[O]);c.push(B)}else for(O=0;O<A;O++)this._projectLatlngs(s[O],c,g)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,g,w,A,O,B,X,J;for(g=0,A=0,O=this._rings.length;g<O;g++)for(J=this._rings[g],w=0,B=J.length;w<B-1;w++)X=zr(J[w],J[w+1],s,w,!0),X&&(c[A]=c[A]||[],c[A].push(X[0]),(X[1]!==J[w+1]||w===B-2)&&(c[A].push(X[1]),A++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,g=0,w=s.length;g<w;g++)s[g]=At(s[g],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var g,w,A,O,B,X,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,O=this._parts.length;g<O;g++)for(X=this._parts[g],w=0,B=X.length,A=B-1;w<B;A=w++)if(!(!c&&w===0)&&us(s,X[A],X[w])<=J)return!0;return!1}});function r(s,c){return new n(s,c)}n._flat=ks;var o=n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ds(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=n.prototype._convertLatLngs.call(this,s),g=c.length;return g>=2&&c[0]instanceof Ge&&c[0].equals(c[g-1])&&c.pop(),c},_setLatLngs:function(s){n.prototype._setLatLngs.call(this,s),On(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return On(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,g=new ne(c,c);if(s=new Ie(s.min.subtract(g),s.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,A=this._rings.length,O;w<A;w++)O=el(this._rings[w],s,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,g,w,A,O,B,X,J,oe;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(O=0,J=this._parts.length;O<J;O++)for(g=this._parts[O],B=0,oe=g.length,X=oe-1;B<oe;X=B++)w=g[B],A=g[X],w.y>s.y!=A.y>s.y&&s.x<(A.x-w.x)*(s.y-w.y)/(A.y-w.y)+w.x&&(c=!c);return c||n.prototype._containsPoint.call(this,s,!0)}});function l(s,c){return new o(s,c)}var u=ar.extend({initialize:function(s,c){V(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=M(s)?s:s.features,g,w,A;if(c){for(g=0,w=c.length;g<w;g++)A=c[g],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var O=this.options;if(O.filter&&!O.filter(s))return this;var B=f(s,O);return B?(B.feature=P(s),B.defaultOptions=B.options,this.resetStyle(B),O.onEachFeature&&O.onEachFeature(s,B),this.addLayer(B)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=h({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function f(s,c){var g=s.type==="Feature"?s.geometry:s,w=g?g.coordinates:null,A=[],O=c&&c.pointToLayer,B=c&&c.coordsToLatLng||m,X,J,oe,ve;if(!w&&!g)return null;switch(g.type){case"Point":return X=B(w),p(O,s,X,c);case"MultiPoint":for(oe=0,ve=w.length;oe<ve;oe++)X=B(w[oe]),A.push(p(O,s,X,c));return new ar(A);case"LineString":case"MultiLineString":return J=_(w,g.type==="LineString"?0:1,B),new n(J,c);case"Polygon":case"MultiPolygon":return J=_(w,g.type==="Polygon"?1:2,B),new o(J,c);case"GeometryCollection":for(oe=0,ve=g.geometries.length;oe<ve;oe++){var Me=f({geometry:g.geometries[oe],type:"Feature",properties:s.properties},c);Me&&A.push(Me)}return new ar(A);case"FeatureCollection":for(oe=0,ve=g.features.length;oe<ve;oe++){var Ke=f(g.features[oe],c);Ke&&A.push(Ke)}return new ar(A);default:throw new Error("Invalid GeoJSON object.")}}function p(s,c,g,w){return s?s(c,g):new bn(g,w&&w.markersInheritOptions&&w)}function m(s){return new Ge(s[1],s[0],s[2])}function _(s,c,g){for(var w=[],A=0,O=s.length,B;A<O;A++)B=c?_(s[A],c-1,g):(g||m)(s[A]),w.push(B);return w}function C(s,c){return s=fe(s),s.alt!==void 0?[k(s.lng,c),k(s.lat,c),k(s.alt,c)]:[k(s.lng,c),k(s.lat,c)]}function T(s,c,g,w){for(var A=[],O=0,B=s.length;O<B;O++)A.push(c?T(s[O],On(s[O])?0:c-1,g,w):C(s[O],w));return!c&&g&&A.length>0&&A.push(A[0].slice()),A}function I(s,c){return s.feature?h({},s.feature,{geometry:c}):P(c)}function P(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var z={toGeoJSON:function(s){return I(this,{type:"Point",coordinates:C(this.getLatLng(),s)})}};bn.include(z),Ti.include(z),Hr.include(z),n.include({toGeoJSON:function(s){var c=!On(this._latlngs),g=T(this._latlngs,c?1:0,!1,s);return I(this,{type:(c?"Multi":"")+"LineString",coordinates:g})}}),o.include({toGeoJSON:function(s){var c=!On(this._latlngs),g=c&&!On(this._latlngs[0]),w=T(this._latlngs,g?2:c?1:0,!0,s);return c||(w=[w]),I(this,{type:(g?"Multi":"")+"Polygon",coordinates:w})}}),Sr.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(g){c.push(g.toGeoJSON(s).geometry.coordinates)}),I(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var g=c==="GeometryCollection",w=[];return this.eachLayer(function(A){if(A.toGeoJSON){var O=A.toGeoJSON(s);if(g)w.push(O.geometry);else{var B=P(O);B.type==="FeatureCollection"?w.push.apply(w,B.features):w.push(B)}}}),g?I(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function U(s,c){return new u(s,c)}var j=U,K=jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,g){this._url=s,this._bounds=Le(c),V(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&yt(this._image),this},bringToBack:function(){return this._map&&In(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Le(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:Je("img");if(Te(c,"leaflet-image-layer"),this._zoomAnimated&&Te(c,"leaflet-zoom-animated"),this.options.className&&Te(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onload=x(this.fire,this,"load"),c.onerror=x(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;R(this._image,g,c)},_reset:function(){var s=this._image,c=new Ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=c.getSize();xe(s,c.min),s.style.width=g.x+"px",s.style.height=g.y+"px"},_updateOpacity:function(){Xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),he=function(s,c,g){return new K(s,c,g)},de=K.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:Je("video");if(Te(c,"leaflet-image-layer"),this._zoomAnimated&&Te(c,"leaflet-zoom-animated"),this.options.className&&Te(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onloadeddata=x(this.fire,this,"load"),s){for(var g=c.getElementsByTagName("source"),w=[],A=0;A<g.length;A++)w.push(g[A].src);this._url=g.length>0?w:[c.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var B=Je("source");B.src=this._url[O],c.appendChild(B)}}});function ae(s,c,g){return new de(s,c,g)}var Ye=K.extend({_initImage:function(){var s=this._image=this._url;Te(s,"leaflet-image-layer"),this._zoomAnimated&&Te(s,"leaflet-zoom-animated"),this.options.className&&Te(s,this.options.className),s.onselectstart=N,s.onmousemove=N}});function Ue(s,c,g){return new Ye(s,c,g)}var St=jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof Ge||M(s))?(this._latlng=fe(s),V(this,c)):(V(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Xe(this._container,1),this.bringToFront(),this.options.interactive&&(Te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Xe(this._container,0),this._removeTimeout=setTimeout(x(xt,void 0,this._container),200)):xt(this._container),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=fe(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yt(this._container),this},bringToBack:function(){return this._map&&In(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof ar){c=null;var g=this._source._layers;for(var w in g)if(g[w]._map){c=g[w];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=ce(this.options.offset),g=this._getAnchor();this._zoomAnimated?xe(this._container,s.add(g)):c=c.add(s).add(g);var w=this._containerBottom=-c.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});qe.include({_initOverlay:function(s,c,g,w){var A=c;return A instanceof s||(A=new s(w).setContent(c)),g&&A.setLatLng(g),A}}),jt.include({_initOverlay:function(s,c,g,w){var A=g;return A instanceof s?(V(A,w),A._source=this):(A=c&&!w?c:new s(w,this),A.setContent(g)),A}});var xn=St.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,St.prototype.openOn.call(this,s)},onAdd:function(s){St.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ur||this._source.on("preclick",Er))},onRemove:function(s){St.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ur||this._source.off("preclick",Er))},getEvents:function(){var s=St.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=Je("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Je("div",s+"-content-wrapper",c);if(this._contentNode=Je("div",s+"-content",g),Xn(c),Ps(this._contentNode),ke(c,"contextmenu",Er),this._tipContainer=Je("div",s+"-tip-container",c),this._tip=Je("div",s+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Je("a",s+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ke(w,"click",function(A){Kt(A),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var g=s.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),c.width=g+1+"px",c.whiteSpace="",c.height="";var w=s.offsetHeight,A=this.options.maxHeight,O="leaflet-popup-scrolled";A&&w>A?(c.height=A+"px",Te(s,O)):ut(s,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),g=this._getAnchor();xe(this._container,c.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(je(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+c,w=this._containerWidth,A=new ne(this._containerLeft,-g-this._containerBottom);A._add(vt(this._container));var O=s.layerPointToContainerPoint(A),B=ce(this.options.autoPanPadding),X=ce(this.options.autoPanPaddingTopLeft||B),J=ce(this.options.autoPanPaddingBottomRight||B),oe=s.getSize(),ve=0,Me=0;O.x+w+J.x>oe.x&&(ve=O.x+w-oe.x+J.x),O.x-ve-X.x<0&&(ve=O.x-X.x),O.y+g+J.y>oe.y&&(Me=O.y+g-oe.y+J.y),O.y-Me-X.y<0&&(Me=O.y-X.y),(ve||Me)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ve,Me]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_n=function(s,c){return new xn(s,c)};qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(s,c,g){return this._initOverlay(xn,s,c,g).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),jt.include({bindPopup:function(s,c){return this._popup=this._initOverlay(xn,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ar||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Yn(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof ur)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var ot=St.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){St.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){St.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=St.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Je("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+E(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,g,w=this._map,A=this._container,O=w.latLngToContainerPoint(w.getCenter()),B=w.layerPointToContainerPoint(s),X=this.options.direction,J=A.offsetWidth,oe=A.offsetHeight,ve=ce(this.options.offset),Me=this._getAnchor();X==="top"?(c=J/2,g=oe):X==="bottom"?(c=J/2,g=0):X==="center"?(c=J/2,g=oe/2):X==="right"?(c=0,g=oe/2):X==="left"?(c=J,g=oe/2):B.x<O.x?(X="right",c=0,g=oe/2):(X="left",c=J+(ve.x+Me.x)*2,g=oe/2),s=s.subtract(ce(c,g,!0)).add(ve).add(Me),ut(A,"leaflet-tooltip-right"),ut(A,"leaflet-tooltip-left"),ut(A,"leaflet-tooltip-top"),ut(A,"leaflet-tooltip-bottom"),Te(A,"leaflet-tooltip-"+X),xe(A,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Xe(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qt=function(s,c){return new ot(s,c)};qe.include({openTooltip:function(s,c,g){return this._initOverlay(ot,s,c,g).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),jt.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ot,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[c](g),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ar||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(ke(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ke(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,g,w;this._tooltip.options.sticky&&s.originalEvent&&(g=this._map.mouseEventToContainerPoint(s.originalEvent),w=this._map.containerPointToLayerPoint(g),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var wn=Si.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),g=this.options;if(g.html instanceof Element?(yi(c),c.appendChild(g.html)):c.innerHTML=g.html!==!1?g.html:"",g.bgPos){var w=ce(g.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Ii(s){return new wn(s)}Si.Default=cs;var cr=jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){V(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),xt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ne?s:new ne(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,g=-s(-1/0,1/0),w=0,A=c.length,O;w<A;w++)O=c[w].style.zIndex,c[w]!==this._container&&O&&(g=s(g,+O));isFinite(g)&&(this.options.zIndex=g+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Se.ielt9){Xe(this._container,this.options.opacity);var s=+new Date,c=!1,g=!1;for(var w in this._tiles){var A=this._tiles[w];if(!(!A.current||!A.loaded)){var O=Math.min(1,(s-A.loaded)/200);Xe(A.el,O),O<1?c=!0:(A.active?g=!0:this._onOpaqueTile(A),A.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),c&&(we(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=Je("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===s?(this._levels[g].el.style.zIndex=c-Math.abs(s-g),this._onUpdateLevel(g)):(xt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var w=this._levels[s],A=this._map;return w||(w=this._levels[s]={},w.el=Je("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=A.project(A.unproject(A.getPixelOrigin()),s).round(),w.zoom=s,this._setZoomTransform(w,A.getCenter(),A.getZoom()),N(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var s,c,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)xt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,g,w){var A=Math.floor(s/2),O=Math.floor(c/2),B=g-1,X=new ne(+A,+O);X.z=+B;var J=this._tileCoordsToKey(X),oe=this._tiles[J];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),B>w?this._retainParent(A,O,B,w):!1)},_retainChildren:function(s,c,g,w){for(var A=2*s;A<2*s+2;A++)for(var O=2*c;O<2*c+2;O++){var B=new ne(A,O);B.z=g+1;var X=this._tileCoordsToKey(B),J=this._tiles[X];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);g+1<w&&this._retainChildren(A,O,g+1,w)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,g,w){var A=Math.round(c);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var O=this.options.updateWhenZooming&&A!==this._tileZoom;(!w||O)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(s),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var g in this._levels)this._setZoomTransform(this._levels[g],s,c)},_setZoomTransform:function(s,c,g){var w=this._map.getZoomScale(g,s.zoom),A=s.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,g)).round();Se.any3d?R(s.el,A,w):xe(s.el,A)},_resetGrid:function(){var s=this._map,c=s.options.crs,g=this._tileSize=this.getTileSize(),w=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],w).x/g.x),Math.ceil(s.project([0,c.wrapLng[1]],w).x/g.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],w).y/g.x),Math.ceil(s.project([c.wrapLat[1],0],w).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,g=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(g,this._tileZoom),A=c.project(s,this._tileZoom).floor(),O=c.getSize().divideBy(w*2);return new Ie(A.subtract(O),A.add(O))},_update:function(s){var c=this._map;if(c){var g=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(s),A=this._pxBoundsToTileRange(w),O=A.getCenter(),B=[],X=this.options.keepBuffer,J=new Ie(A.getBottomLeft().subtract([X,-X]),A.getTopRight().add([X,-X]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var ve=this._tiles[oe].coords;(ve.z!==this._tileZoom||!J.contains(new ne(ve.x,ve.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(s,g);return}for(var Me=A.min.y;Me<=A.max.y;Me++)for(var Ke=A.min.x;Ke<=A.max.x;Ke++){var Rn=new ne(Ke,Me);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var un=this._tiles[this._tileCoordsToKey(Rn)];un?un.current=!0:B.push(Rn)}}if(B.sort(function(Bn,Bs){return Bn.distanceTo(O)-Bs.distanceTo(O)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fr=document.createDocumentFragment();for(Ke=0;Ke<B.length;Ke++)this._addTile(B[Ke],fr);this._level.el.appendChild(fr)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var g=this._globalTileRange;if(!c.wrapLng&&(s.x<g.min.x||s.x>g.max.x)||!c.wrapLat&&(s.y<g.min.y||s.y>g.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(s);return Le(this.options.bounds).overlaps(w)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,g=this.getTileSize(),w=s.scaleBy(g),A=w.add(g),O=c.unproject(w,s.z),B=c.unproject(A,s.z);return[O,B]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),g=new at(c[0],c[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),g=new ne(+c[0],+c[1]);return g.z=+c[2],g},_removeTile:function(s){var c=this._tiles[s];c&&(xt(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Te(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=N,s.onmousemove=N,Se.ielt9&&this.options.opacity<1&&Xe(s,this.options.opacity)},_addTile:function(s,c){var g=this._getTilePos(s),w=this._tileCoordsToKey(s),A=this.createTile(this._wrapCoords(s),x(this._tileReady,this,s));this._initTile(A),this.createTile.length<2&&Fe(x(this._tileReady,this,s,null,A)),xe(A,g),this._tiles[w]={el:A,coords:s,current:!0},c.appendChild(A),this.fire("tileloadstart",{tile:A,coords:s})},_tileReady:function(s,c,g){c&&this.fire("tileerror",{error:c,tile:g,coords:s});var w=this._tileCoordsToKey(s);g=this._tiles[w],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Xe(g.el,0),we(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),c||(Te(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Se.ielt9||!this._map._fadeAnimated?Fe(this._pruneTiles,this):setTimeout(x(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new ne(this._wrapX?b(s.x,this._wrapX):s.x,this._wrapY?b(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new Ie(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Gu(s){return new cr(s)}var Ni=cr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=V(this,c),c.detectRetina&&Se.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var g=document.createElement("img");return ke(g,"load",x(this._tileOnLoad,this,c,g)),ke(g,"error",x(this._tileOnError,this,c,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(s),g},getTileUrl:function(s){var c={r:Se.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=g),c["-y"]=g}return D(this._url,h(c,this.options))},_tileOnLoad:function(s,c){Se.ielt9?setTimeout(x(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,g){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),s(g,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,g=this.options.zoomReverse,w=this.options.zoomOffset;return g&&(s=c-s),s+w},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=N,c.onerror=N,!c.complete)){c.src=ue;var g=this._tiles[s].coords;xt(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:g})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",ue),cr.prototype._removeTile.call(this,s)},_tileReady:function(s,c,g){if(!(!this._map||g&&g.getAttribute("src")===ue))return cr.prototype._tileReady.call(this,s,c,g)}});function Mh(s,c){return new Ni(s,c)}var Dh=Ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var g=h({},this.defaultWmsParams);for(var w in c)w in this.options||(g[w]=c[w]);c=V(this,c);var A=c.detectRetina&&Se.retina?2:1,O=this.getTileSize();g.width=O.x*A,g.height=O.y*A,this.wmsParams=g},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Ni.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),g=this._crs,w=be(g.project(c[0]),g.project(c[1])),A=w.min,O=w.max,B=(this._wmsVersion>=1.3&&this._crs===Ai?[A.y,A.x,O.y,O.x]:[A.x,A.y,O.x,O.y]).join(","),X=Ni.prototype.getTileUrl.call(this,s);return X+q(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(s,c){return h(this.wmsParams,s),c||this.redraw(),this}});function Xg(s,c){return new Dh(s,c)}Ni.WMS=Dh,Mh.wms=Xg;var ri=jt.extend({options:{padding:.1},initialize:function(s){V(this,s),E(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var g=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,c),O=w.multiplyBy(-g).add(A).subtract(this._map._getNewPixelOrigin(s,c));Se.any3d?R(this._container,O,g):xe(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),g=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new Ie(g,g.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),kh=ri.extend({options:{tolerance:0},getEvents:function(){var s=ri.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ke(s,"mousemove",this._onMouseMove,this),ke(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,xt(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var s=this._bounds,c=this._container,g=s.getSize(),w=Se.retina?2:1;xe(c,s.min),c.width=w*g.x,c.height=w*g.y,c.style.width=g.x+"px",c.style.height=g.y+"px",Se.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[E(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,g=c.next,w=c.prev;g?g.prev=w:this._drawLast=w,w?w.next=g:this._drawFirst=g,delete s._order,delete this._layers[E(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),g=[],w,A;for(A=0;A<c.length;A++){if(w=Number(c[A]),isNaN(w))return;g.push(w)}s.options._dashArray=g}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Fe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ie,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var g=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)s=w.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var g,w,A,O,B=s._parts,X=B.length,J=this._ctx;if(X){for(J.beginPath(),g=0;g<X;g++){for(w=0,A=B[g].length;w<A;w++)O=B[g][w],J[w?"lineTo":"moveTo"](O.x,O.y);c&&J.closePath()}this._fillStroke(J,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,g=this._ctx,w=Math.max(Math.round(s._radius),1),A=(Math.max(Math.round(s._radiusY),1)||w)/w;A!==1&&(g.save(),g.scale(1,A)),g.beginPath(),g.arc(c.x,c.y/A,w,0,Math.PI*2,!1),A!==1&&g.restore(),this._fillStroke(g,s)}},_fillStroke:function(s,c){var g=c.options;g.fill&&(s.globalAlpha=g.fillOpacity,s.fillStyle=g.fillColor||g.color,s.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=g.opacity,s.lineWidth=g.weight,s.strokeStyle=g.color,s.lineCap=g.lineCap,s.lineJoin=g.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),g,w,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(g))&&(w=g);this._fireEvent(w?[w]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(ut(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var g,w,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(c)&&(w=g);w!==this._hoveredLayer&&(this._handleMouseOut(s),w&&(Te(this._container,"leaflet-interactive"),this._fireEvent([w],s,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(x(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,g){this._map._fireDOMEvent(c,g||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var g=c.next,w=c.prev;if(g)g.prev=w;else return;w?w.next=g:g&&(this._drawFirst=g),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var g=c.next,w=c.prev;if(w)w.next=g;else return;g?g.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function Bh(s){return Se.canvas?new kh(s):null}var Vo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yg={_initContainer:function(){this._container=Je("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=Vo("shape");Te(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=Vo("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[E(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;xt(c),s.removeInteractiveTarget(c),delete this._layers[E(s)]},_updateStyle:function(s){var c=s._stroke,g=s._fill,w=s.options,A=s._container;A.stroked=!!w.stroke,A.filled=!!w.fill,w.stroke?(c||(c=s._stroke=Vo("stroke")),A.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=M(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(A.removeChild(c),s._stroke=null),w.fill?(g||(g=s._fill=Vo("fill")),A.appendChild(g),g.color=w.fillColor||w.color,g.opacity=w.fillOpacity):g&&(A.removeChild(g),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),g=Math.round(s._radius),w=Math.round(s._radiusY||g);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+g+","+w+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){yt(s._container)},_bringToBack:function(s){In(s._container)}},nl=Se.vml?Vo:Zn,Wo=ri.extend({_initContainer:function(){this._container=nl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xt(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var s=this._bounds,c=s.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,g.setAttribute("width",c.x),g.setAttribute("height",c.y)),xe(g,s.min),g.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=nl("path");s.options.className&&Te(c,s.options.className),s.options.interactive&&Te(c,"leaflet-interactive"),this._updateStyle(s),this._layers[E(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){xt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[E(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,g=s.options;c&&(g.stroke?(c.setAttribute("stroke",g.color),c.setAttribute("stroke-opacity",g.opacity),c.setAttribute("stroke-width",g.weight),c.setAttribute("stroke-linecap",g.lineCap),c.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?c.setAttribute("stroke-dasharray",g.dashArray):c.removeAttribute("stroke-dasharray"),g.dashOffset?c.setAttribute("stroke-dashoffset",g.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),g.fill?(c.setAttribute("fill",g.fillColor||g.color),c.setAttribute("fill-opacity",g.fillOpacity),c.setAttribute("fill-rule",g.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,xi(s._parts,c))},_updateCircle:function(s){var c=s._point,g=Math.max(Math.round(s._radius),1),w=Math.max(Math.round(s._radiusY),1)||g,A="a"+g+","+w+" 0 1,0 ",O=s._empty()?"M0 0":"M"+(c.x-g)+","+c.y+A+g*2+",0 "+A+-g*2+",0 ";this._setPath(s,O)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){yt(s._path)},_bringToBack:function(s){In(s._path)}});Se.vml&&Wo.include(Yg);function Fh(s){return Se.svg||Se.vml?new Wo(s):null}qe.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&Bh(s)||Fh(s)}});var zh=o.extend({initialize:function(s,c){o.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Le(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Kg(s,c){return new zh(s,c)}Wo.create=nl,Wo.pointsToPath=xi,u.geometryToLayer=f,u.coordsToLatLng=m,u.coordsToLatLngs=_,u.latLngToCoords=C,u.latLngsToCoords=T,u.getFeature=I,u.asFeature=P,qe.mergeOptions({boxZoom:!0});var Uh=Nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),an(),Ne(),this._startPoint=this._map.mouseEventToContainerPoint(s),ke(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Je("div","leaflet-zoom-box",this._container),Te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new Ie(this._point,this._startPoint),g=c.getSize();xe(this._box,c.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(xt(this._box),ut(this._container,"leaflet-crosshair")),is(),_t(),_e(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(x(this._resetState,this),0);var c=new at(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qe.addInitHook("addHandler","boxZoom",Uh),qe.mergeOptions({doubleClickZoom:!0});var Hh=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,g=c.getZoom(),w=c.options.zoomDelta,A=s.originalEvent.shiftKey?g-w:g+w;c.options.doubleClickZoom==="center"?c.setZoom(A):c.setZoomAround(s.containerPoint,A)}});qe.addInitHook("addHandler","doubleClickZoom",Hh),qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vh=Nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Fr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ut(this._map._container,"leaflet-grab"),ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Le(this._map.options.maxBounds);this._offsetLimit=be(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),g=this._initialWorldOffset,w=this._draggable._newPos.x,A=(w-c+g)%s+c-g,O=(w+c+g)%s-c-g,B=Math.abs(A+g)<Math.abs(O+g)?A:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(s){var c=this._map,g=c.options,w=!g.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),w)c.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,B=g.easeLinearity,X=A.multiplyBy(B/O),J=X.distanceTo([0,0]),oe=Math.min(g.inertiaMaxSpeed,J),ve=X.multiplyBy(oe/J),Me=oe/(g.inertiaDeceleration*B),Ke=ve.multiplyBy(-Me/2).round();!Ke.x&&!Ke.y?c.fire("moveend"):(Ke=c._limitOffset(Ke,c.options.maxBounds),Fe(function(){c.panBy(Ke,{duration:Me,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});qe.addInitHook("addHandler","dragging",Vh),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wh=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ke(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,g=s.scrollTop||c.scrollTop,w=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},g=this.keyCodes,w,A;for(w=0,A=g.left.length;w<A;w++)c[g.left[w]]=[-1*s,0];for(w=0,A=g.right.length;w<A;w++)c[g.right[w]]=[s,0];for(w=0,A=g.down.length;w<A;w++)c[g.down[w]]=[0,s];for(w=0,A=g.up.length;w<A;w++)c[g.up[w]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},g=this.keyCodes,w,A;for(w=0,A=g.zoomIn.length;w<A;w++)c[g.zoomIn[w]]=s;for(w=0,A=g.zoomOut.length;w<A;w++)c[g.zoomOut[w]]=-s},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,g=this._map,w;if(c in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(w=this._panKeys[c],s.shiftKey&&(w=ce(w).multiplyBy(3)),g.options.maxBounds&&(w=g._limitOffset(ce(w),g.options.maxBounds)),g.options.worldCopyJump){var A=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(w)));g.panTo(A)}else g.panBy(w)}else if(c in this._zoomKeys)g.setZoom(g.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Yn(s)}}});qe.addInitHook("addHandler","keyboard",Wh),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jh=Nn.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=Ci(s),g=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var w=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(x(this._performZoom,this),w),Yn(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),g=this._map.options.zoomSnap||0;s._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,O=g?Math.ceil(A/g)*g:A,B=s._limitZoom(c+(this._delta>0?O:-O))-c;this._delta=0,this._startTime=null,B&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+B):s.setZoomAround(this._lastMousePos,c+B))}});qe.addInitHook("addHandler","scrollWheelZoom",jh);var qg=600;qe.mergeOptions({tapHold:Se.touchNative&&Se.safari&&Se.mobile,tapTolerance:15});var Zh=Nn.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new ne(c.clientX,c.clientY),this._holdTimeout=setTimeout(x(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",Kt),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),qg),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){_e(document,"touchend",Kt),_e(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new ne(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var g=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});g._simulated=!0,c.target.dispatchEvent(g)}});qe.addInitHook("addHandler","tapHold",Zh),qe.mergeOptions({touchZoom:Se.touch,bounceAtZoomLimits:!0});var Gh=Nn.extend({addHooks:function(){Te(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var g=c.mouseEventToContainerPoint(s.touches[0]),w=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(g.add(w)._divideBy(2))),this._startDist=g.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),Kt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,g=c.mouseEventToContainerPoint(s.touches[0]),w=c.mouseEventToContainerPoint(s.touches[1]),A=g.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(A,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&A<1||this._zoom>c.getMaxZoom()&&A>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var O=g._add(w)._divideBy(2)._subtract(this._centerPoint);if(A===1&&O.x===0&&O.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var B=x(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Fe(B,this,!0),Kt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qe.addInitHook("addHandler","touchZoom",Gh),qe.BoxZoom=Uh,qe.DoubleClickZoom=Hh,qe.Drag=Vh,qe.Keyboard=Wh,qe.ScrollWheelZoom=jh,qe.TapHold=Zh,qe.TouchZoom=Gh,i.Bounds=Ie,i.Browser=Se,i.CRS=en,i.Canvas=kh,i.Circle=Ti,i.CircleMarker=Hr,i.Class=Ze,i.Control=Kn,i.DivIcon=wn,i.DivOverlay=St,i.DomEvent=mn,i.DomUtil=Wt,i.Draggable=Fr,i.Evented=Pe,i.FeatureGroup=ar,i.GeoJSON=u,i.GridLayer=cr,i.Handler=Nn,i.Icon=Si,i.ImageOverlay=K,i.LatLng=Ge,i.LatLngBounds=at,i.Layer=jt,i.LayerGroup=Sr,i.LineUtil=tl,i.Map=qe,i.Marker=bn,i.Mixin=Ja,i.Path=ur,i.Point=ne,i.PolyUtil=ko,i.Polygon=o,i.Polyline=n,i.Popup=xn,i.PosAnimation=Do,i.Projection=zo,i.Rectangle=zh,i.Renderer=ri,i.SVG=Wo,i.SVGOverlay=Ye,i.TileLayer=Ni,i.Tooltip=ot,i.Transformation=tn,i.Util=Ve,i.VideoOverlay=de,i.bind=x,i.bounds=be,i.canvas=Bh,i.circle=S,i.circleMarker=tt,i.control=ls,i.divIcon=Ii,i.extend=h,i.featureGroup=lr,i.geoJSON=U,i.geoJson=j,i.gridLayer=Gu,i.icon=Uo,i.imageOverlay=he,i.latLng=fe,i.latLngBounds=Le,i.layerGroup=kn,i.map=qa,i.marker=Zu,i.point=ce,i.polygon=l,i.polyline=r,i.popup=_n,i.rectangle=Kg,i.setOptions=V,i.stamp=E,i.svg=Fh,i.svgOverlay=Ue,i.tileLayer=Mh,i.tooltip=Qt,i.transformation=Mr,i.version=a,i.videoOverlay=ae;var Qg=window.L;i.noConflict=function(){return window.L=Qg,this},window.L=i})})(Sf,Sf.exports);var Za=Sf.exports;const Vg=Of(Za);function Rh(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Ph(e,t){return t==null?function(a,h){const d=ie.useRef();return d.current||(d.current=e(a,h)),d}:function(a,h){const d=ie.useRef();d.current||(d.current=e(a,h));const x=ie.useRef(a),{instance:y}=d.current;return ie.useEffect(function(){x.current!==a&&(t(y,a,x.current),x.current=a)},[y,a,h]),d}}function Cy(e,t){ie.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var d;(d=t.layerContainer)==null||d.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Wg(e){return function(i){const a=Ug(),h=e(bh(i,a),a);return Bg(a.map,i.attribution),Hg(h.current,i.eventHandlers),Cy(h.current,a),h}}function Ay(e,t){const i=Ph(e,t),a=Wg(i);return wy(a)}function Sy(e,t){const i=Ph(e),a=Ey(i,t);return yy(a)}function Ty(e,t){const i=Ph(e,t),a=Wg(i);return vy(a)}function Iy(e,t,i){const{opacity:a,zIndex:h}=t;a!=null&&a!==i.opacity&&e.setOpacity(a),h!=null&&h!==i.zIndex&&e.setZIndex(h)}function Tf(){return Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Tf.apply(this,arguments)}function Ny({bounds:e,boundsOptions:t,center:i,children:a,className:h,id:d,placeholder:x,style:y,whenReady:E,zoom:v,...b},N){const[k]=ie.useState({className:h,id:d,style:y}),[W,H]=ie.useState(null);ie.useImperativeHandle(N,()=>(W==null?void 0:W.map)??null,[W]);const V=ie.useCallback(F=>{if(F!==null&&W===null){const D=new Za.Map(F,b);i!=null&&v!=null?D.setView(i,v):e!=null&&D.fitBounds(e,t),E!=null&&D.whenReady(E),H(xy(D))}},[]);ie.useEffect(()=>()=>{W==null||W.map.remove()},[W]);const q=W?pa.createElement(zg,{value:W},a):x??null;return pa.createElement("div",Tf({},k,{ref:V}),q)}const Oy=ie.forwardRef(Ny),by=Ay(function({position:t,...i},a){const h=new Za.Marker(t,i);return Rh(h,_y(a,{overlayContainer:h}))},function(t,i,a){i.position!==a.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==a.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==a.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==a.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),Ry=Sy(function(t,i){const a=new Za.Popup(t,i.overlayContainer);return Rh(a,i)},function(t,i,{position:a},h){ie.useEffect(function(){const{instance:x}=t;function y(v){v.popup===x&&(x.update(),h(!0))}function E(v){v.popup===x&&h(!1)}return i.map.on({popupopen:y,popupclose:E}),i.overlayContainer==null?(a!=null&&x.setLatLng(a),x.openOn(i.map)):i.overlayContainer.bindPopup(x),function(){var b;i.map.off({popupopen:y,popupclose:E}),(b=i.overlayContainer)==null||b.unbindPopup(),i.map.removeLayer(x)}},[t,i,h,a])}),Py=Ty(function({url:t,...i},a){const h=new Za.TileLayer(t,bh(i,a));return Rh(h,a)},function(t,i,a){Iy(t,i,a);const{url:h}=i;h!=null&&h!==a.url&&t.setUrl(h)});delete Vg.Icon.Default.prototype._getIconUrl;Vg.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Ly(){const[e,t]=ie.useState([]),[i,a]=ie.useState(!0),[h,d]=ie.useState(null),x=[41.2995,69.2401];ie.useEffect(()=>{y()},[]);const y=async()=>{a(!0),d(null);try{const E=await po.getLocations();t(E)}catch(E){console.error("Error loading locations:",E),d(E.message||"Failed to load locations"),t([{id:1,name:"Korzinka - Amore",address:"Amir Temur Ave, Tashkent",latitude:41.2995,longitude:69.2401},{id:2,name:"Korzinka - Beruniy",address:"Beruniy St, Tashkent",latitude:41.3111,longitude:69.2797},{id:3,name:"Korzinka Mahalla",address:"Shota Rustaveli St, Tashkent",latitude:41.2856,longitude:69.2034},{id:4,name:"Korzinka - Chirchik",address:"Chirchik City Center",latitude:41.4689,longitude:69.5828}])}finally{a(!1)}};return i?te.jsx("div",{className:"loading",children:te.jsx("div",{className:"spinner"})}):te.jsxs(te.Fragment,{children:[te.jsx(Du,{}),te.jsxs("div",{className:"page",children:[te.jsx("div",{className:"page-header",children:te.jsx("h1",{className:"page-title",children:"Store Locations"})}),h&&te.jsxs("div",{className:"error-message",style:{marginBottom:"16px"},children:["Using demo data. ",h]}),te.jsx("div",{className:"map-container",children:te.jsxs(Oy,{center:x,zoom:11,style:{height:"100%",width:"100%"},children:[te.jsx(Py,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(E=>te.jsx(by,{position:[E.latitude,E.longitude],children:te.jsx(Ry,{children:te.jsxs("div",{children:[te.jsx("strong",{children:E.name}),te.jsx("br",{}),E.address]})})},E.id))]})}),e.length===0&&te.jsxs("div",{className:"empty-state",children:[te.jsx("div",{className:"empty-state-icon",children:""}),te.jsx("div",{className:"empty-state-text",children:"No stores found"})]})]})]})}var Ee;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var R1=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),P1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(P1||(P1={}));function My(e){return Object.values(Ee).includes(e)}var cu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cu||(cu={}));var Dy=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[cu.SCAN_TYPE_CAMERA,cu.SCAN_TYPE_FILE],e}(),jg=function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!R1.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,R1.get(t))},e}(),L1=function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),If;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(If||(If={}));var ky=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:If.UNKWOWN_ERROR}},e}(),By=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ii(e){return typeof e>"u"||e===null}var Js=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Zg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var a=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(h),x=Object.keys(t),y=0,E=x;y<E.length;y++){var v=E[y];if(d.has(v))return i.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}(),Nf={exports:{}};(function(e,t){(function(i,a){a(t)})(zs,function(i){function a(S){return S==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,n){S.__proto__=n}||function(S,n){for(var r in n)n.hasOwnProperty(r)&&(S[r]=n[r])};function d(S,n){h(S,n);function r(){this.constructor=S}S.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function x(S,n){var r=Object.setPrototypeOf;r?r(S,n):S.__proto__=n}function y(S,n){n===void 0&&(n=S.constructor);var r=Error.captureStackTrace;r&&r(S,n)}var E=function(S){d(n,S);function n(r){var o=this.constructor,l=S.call(this,r)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),x(l,o.prototype),y(l),l}return n}(Error);class v extends E{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}v.kind="Exception";class b extends v{}b.kind="ArgumentException";class N extends v{}N.kind="IllegalArgumentException";class k{constructor(n){if(this.binarizer=n,n===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,o,l){const u=this.binarizer.getLuminanceSource().crop(n,r,o,l);return new k(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends v{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class H{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class V{static arraycopy(n,r,o,l,u){for(;u--;)o[l++]=n[r++]}static currentTimeMillis(){return Date.now()}}class q extends v{}q.kind="IndexOutOfBoundsException";class F extends q{constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}F.kind="ArrayIndexOutOfBoundsException";class D{static fill(n,r){for(let o=0,l=n.length;o<l;o++)n[o]=r}static fillWithin(n,r,o,l){D.rangeCheck(n.length,r,o);for(let u=r;u<o;u++)n[u]=l}static rangeCheck(n,r,o){if(r>o)throw new N("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new F(r);if(o>n)throw new F(o)}static asList(...n){return n}static create(n,r,o){return Array.from({length:n}).map(u=>Array.from({length:r}).fill(o))}static createInt32Array(n,r,o){return Array.from({length:n}).map(u=>Int32Array.from({length:r}).fill(o))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let o=0,l=n.length;o<l;o++)if(n[o]!==r[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const o of n)r=31*r+o;return r}static fillUint8Array(n,r){for(let o=0;o!==n.length;o++)n[o]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const o=new Uint8Array(r);return o.set(n),o}return n.slice(0,r)}static copyOfRange(n,r,o){const l=o-r,u=new Int32Array(l);return V.arraycopy(n,r,u,0,l),u}static binarySearch(n,r,o){o===void 0&&(o=D.numberComparator);let l=0,u=n.length-1;for(;l<=u;){const f=u+l>>1,p=o(r,n[f]);if(p>0)l=f+1;else if(p<0)u=f-1;else return f}return-l-1}static numberComparator(n,r){return n-r}}class M{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let o=31;return r=n<<16,r!==0&&(o-=16,n=r),r=n<<8,r!==0&&(o-=8,n=r),r=n<<4,r!==0&&(o-=4,n=r),r=n<<2,r!==0&&(o-=2,n=r),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=G.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=G.makeArray(n);V.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const o=this.bits;let l=Math.floor(n/32),u=o[l];u&=~((1<<(n&31))-1);const f=o.length;for(;u===0;){if(++l===f)return r;u=o[l]}const p=l*32+M.numberOfTrailingZeros(u);return p>r?r:p}getNextUnset(n){const r=this.size;if(n>=r)return r;const o=this.bits;let l=Math.floor(n/32),u=~o[l];u&=~((1<<(n&31))-1);const f=o.length;for(;u===0;){if(++l===f)return r;u=~o[l]}const p=l*32+M.numberOfTrailingZeros(u);return p>r?r:p}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new N;if(r===n)return;r--;const o=Math.floor(n/32),l=Math.floor(r/32),u=this.bits;for(let f=o;f<=l;f++){const p=f>o?0:n&31,_=(2<<(f<l?31:r&31))-(1<<p);u[f]|=_}}clear(){const n=this.bits.length,r=this.bits;for(let o=0;o<n;o++)r[o]=0}isRange(n,r,o){if(r<n||n<0||r>this.size)throw new N;if(r===n)return!0;r--;const l=Math.floor(n/32),u=Math.floor(r/32),f=this.bits;for(let p=l;p<=u;p++){const m=p>l?0:n&31,C=(2<<(p<u?31:r&31))-(1<<m)&4294967295;if((f[p]&C)!==(o?C:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new N("Sizes don't match");const r=this.bits;for(let o=0,l=r.length;o<l;o++)r[o]^=n.bits[o]}toBytes(n,r,o,l){for(let u=0;u<l;u++){let f=0;for(let p=0;p<8;p++)this.get(n)&&(f|=1<<7-p),n++;r[o+u]=f}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,l=this.bits;for(let u=0;u<o;u++){let f=l[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,n[r-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=n[0]>>>u;for(let p=1;p<o;p++){const m=n[p];f|=m<<32-u,n[p-1]=f,f=m>>>u}n[o-1]=f}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof G))return!1;const r=n;return this.size===r.size&&D.equals(this.bits,r.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let n="";for(let r=0,o=this.size;r<o;r++)r&7||(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new G(this.size,this.bits.slice())}}var ue;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ue||(ue={}));var le=ue;class Y extends v{static getFormatInstance(){return new Y}}Y.kind="FormatException";var ge;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(ge||(ge={}));class re{constructor(n,r,o,...l){this.valueIdentifier=n,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,re.VALUE_IDENTIFIER_TO_ECI.set(n,this),re.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,p=u.length;f!==p;f++){const m=u[f];re.VALUES_TO_ECI.set(m,this)}for(const f of l)re.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new Y("incorect value");const r=re.VALUES_TO_ECI.get(n);if(r===void 0)throw new Y("incorect value");return r}static getCharacterSetECIByName(n){const r=re.NAME_TO_ECI.get(n);if(r===void 0)throw new Y("incorect value");return r}equals(n){if(!(n instanceof re))return!1;const r=n;return this.getName()===r.getName()}}re.VALUE_IDENTIFIER_TO_ECI=new Map,re.VALUES_TO_ECI=new Map,re.NAME_TO_ECI=new Map,re.Cp437=new re(ge.Cp437,Int32Array.from([0,2]),"Cp437"),re.ISO8859_1=new re(ge.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),re.ISO8859_2=new re(ge.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),re.ISO8859_3=new re(ge.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),re.ISO8859_4=new re(ge.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),re.ISO8859_5=new re(ge.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),re.ISO8859_6=new re(ge.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),re.ISO8859_7=new re(ge.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),re.ISO8859_8=new re(ge.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),re.ISO8859_9=new re(ge.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),re.ISO8859_10=new re(ge.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),re.ISO8859_11=new re(ge.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),re.ISO8859_13=new re(ge.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),re.ISO8859_14=new re(ge.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),re.ISO8859_15=new re(ge.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),re.ISO8859_16=new re(ge.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),re.SJIS=new re(ge.SJIS,20,"SJIS","Shift_JIS"),re.Cp1250=new re(ge.Cp1250,21,"Cp1250","windows-1250"),re.Cp1251=new re(ge.Cp1251,22,"Cp1251","windows-1251"),re.Cp1252=new re(ge.Cp1252,23,"Cp1252","windows-1252"),re.Cp1256=new re(ge.Cp1256,24,"Cp1256","windows-1256"),re.UnicodeBigUnmarked=new re(ge.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),re.UTF8=new re(ge.UTF8,26,"UTF8","UTF-8"),re.ASCII=new re(ge.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),re.Big5=new re(ge.Big5,28,"Big5"),re.GB18030=new re(ge.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),re.EUC_KR=new re(ge.EUC_KR,30,"EUC_KR","EUC-KR");class De extends v{}De.kind="UnsupportedOperationException";class Fe{static decode(n,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!Fe.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof re?n:re.getCharacterSetECIByName(n)}static decodeFallback(n,r){const o=this.encodingCharacterSet(r);if(Fe.isDecodeFallbackSupported(o)){let l="";for(let u=0,f=n.length;u<f;u++){let p=n[u].toString(16);p.length<2&&(p="0"+p),l+="%"+p}return decodeURIComponent(l)}if(o.equals(re.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new De(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(re.UTF8)||n.equals(re.ISO8859_1)||n.equals(re.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class we{static castAsNonUtf8Char(n,r=null){const o=r?r.getName():this.ISO88591;return Fe.decode(new Uint8Array([n]),o)}static guessEncoding(n,r){if(r!=null&&r.get(le.CHARACTER_SET)!==void 0)return r.get(le.CHARACTER_SET).toString();const o=n.length;let l=!0,u=!0,f=!0,p=0,m=0,_=0,C=0,T=0,I=0,P=0,z=0,U=0,j=0,K=0;const he=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let de=0;de<o&&(l||u||f);de++){const ae=n[de]&255;f&&(p>0?ae&128?p--:f=!1:ae&128&&(ae&64?(p++,ae&32?(p++,ae&16?(p++,ae&8?f=!1:C++):_++):m++):f=!1)),l&&(ae>127&&ae<160?l=!1:ae>159&&(ae<192||ae===215||ae===247)&&K++),u&&(T>0?ae<64||ae===127||ae>252?u=!1:T--:ae===128||ae===160||ae>239?u=!1:ae>160&&ae<224?(I++,z=0,P++,P>U&&(U=P)):ae>127?(T++,P=0,z++,z>j&&(j=z)):(P=0,z=0))}return f&&p>0&&(f=!1),u&&T>0&&(u=!1),f&&(he||m+_+C>0)?we.UTF8:u&&(we.ASSUME_SHIFT_JIS||U>=3||j>=3)?we.SHIFT_JIS:l&&u?U===2&&I===2||K*10>=o?we.SHIFT_JIS:we.ISO88591:l?we.ISO88591:u?we.SHIFT_JIS:f?we.UTF8:we.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let o=-1;function l(f,p,m,_,C,T){if(f==="%%")return"%";if(r[++o]===void 0)return;f=_?parseInt(_.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,P;switch(T){case"s":P=r[o];break;case"c":P=r[o][0];break;case"f":P=parseFloat(r[o]).toFixed(f);break;case"p":P=parseFloat(r[o]).toPrecision(f);break;case"e":P=parseFloat(r[o]).toExponential(f);break;case"x":P=parseInt(r[o]).toString(I||16);break;case"d":P=parseFloat(parseInt(r[o],I||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(I);let z=parseInt(m),U=m&&m[0]+""=="0"?"0":" ";for(;P.length<z;)P=p!==void 0?P+U:U+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}static getBytes(n,r){return Fe.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}we.SHIFT_JIS=re.SJIS.getName(),we.GB2312="GB2312",we.ISO88591=re.ISO8859_1.getName(),we.EUC_JP="EUC_JP",we.UTF8=re.UTF8.getName(),we.PLATFORM_DEFAULT_ENCODING=we.UTF8,we.ASSUME_SHIFT_JIS=!1;class Ve{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=we.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,o){for(let l=r;r<r+o;l++)this.append(n[l]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class Ze{constructor(n,r,o,l){if(this.width=n,this.height=r,this.rowSize=o,this.bits=l,r==null&&(r=n),this.height=r,n<1||r<1)throw new N("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,o=n[0].length,l=new Ze(o,r);for(let u=0;u<r;u++){const f=n[u];for(let p=0;p<o;p++)f[p]&&l.set(p,u)}return l}static parseFromString(n,r,o){if(n===null)throw new N("stringRepresentation cannot be null");const l=new Array(n.length);let u=0,f=0,p=-1,m=0,_=0;for(;_<n.length;)if(n.charAt(_)===`
`||n.charAt(_)==="\r"){if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new N("row lengths do not match");f=u,m++}_++}else if(n.substring(_,_+r.length)===r)_+=r.length,l[u]=!0,u++;else if(n.substring(_,_+o.length)===o)_+=o.length,l[u]=!1,u++;else throw new N("illegal character encountered: "+n.substring(_));if(u>f){if(p===-1)p=u-f;else if(u-f!==p)throw new N("row lengths do not match");m++}const C=new Ze(p,m);for(let T=0;T<u;T++)l[T]&&C.set(Math.floor(T%p),Math.floor(T/p));return C}get(n,r){const o=r*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new N("input matrix dimensions do not match");const r=new G(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,f=this.height;u<f;u++){const p=u*o,m=n.getRow(u,r).getBitArray();for(let _=0;_<o;_++)l[p+_]^=m[_]}}clear(){const n=this.bits,r=n.length;for(let o=0;o<r;o++)n[o]=0}setRegion(n,r,o,l){if(r<0||n<0)throw new N("Left and top must be nonnegative");if(l<1||o<1)throw new N("Height and width must be at least 1");const u=n+o,f=r+l;if(f>this.height||u>this.width)throw new N("The region must fit inside the matrix");const p=this.rowSize,m=this.bits;for(let _=r;_<f;_++){const C=_*p;for(let T=n;T<u;T++)m[C+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new G(this.width):r.clear();const o=this.rowSize,l=this.bits,u=n*o;for(let f=0;f<o;f++)r.setBulk(f*32,l[u+f]);return r}setRow(n,r){V.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let o=new G(n),l=new G(n);for(let u=0,f=Math.floor((r+1)/2);u<f;u++)o=this.getRow(u,o),l=this.getRow(r-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(r-1-u,o)}getEnclosingRectangle(){const n=this.width,r=this.height,o=this.rowSize,l=this.bits;let u=n,f=r,p=-1,m=-1;for(let _=0;_<r;_++)for(let C=0;C<o;C++){const T=l[_*o+C];if(T!==0){if(_<f&&(f=_),_>m&&(m=_),C*32<u){let I=0;for(;!(T<<31-I&4294967295);)I++;C*32+I<u&&(u=C*32+I)}if(C*32+31>p){let I=31;for(;!(T>>>I);)I--;C*32+I>p&&(p=C*32+I)}}}return p<u||m<f?null:Int32Array.from([u,f,p-u+1,m-f+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const l=o/n;let u=o%n*32;const f=r[o];let p=0;for(;!(f<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,l])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/n);let u=Math.floor(o%n)*32;const f=r[o];let p=31;for(;!(f>>>p);)p--;return u+=p,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof Ze))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&D.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+D.hashCode(this.bits),n}toString(n="X ",r="  ",o=`
`){return this.buildToString(n,r,o)}buildToString(n,r,o){let l=new Ve;for(let u=0,f=this.height;u<f;u++){for(let p=0,m=this.width;p<m;p++)l.append(this.get(p,u)?n:r);l.append(o)}return l.toString()}clone(){return new Ze(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends v{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Be extends H{constructor(n){super(n),this.luminances=Be.EMPTY,this.buckets=new Int32Array(Be.LUMINANCE_BUCKETS)}getBlackRow(n,r){const o=this.getLuminanceSource(),l=o.getWidth();r==null||r.getSize()<l?r=new G(l):r.clear(),this.initArrays(l);const u=o.getRow(n,this.luminances),f=this.buckets;for(let m=0;m<l;m++)f[(u[m]&255)>>Be.LUMINANCE_SHIFT]++;const p=Be.estimateBlackPoint(f);if(l<3)for(let m=0;m<l;m++)(u[m]&255)<p&&r.set(m);else{let m=u[0]&255,_=u[1]&255;for(let C=1;C<l-1;C++){const T=u[C+1]&255;(_*4-m-T)/2<p&&r.set(C),m=_,_=T}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),l=new Ze(r,o);this.initArrays(r);const u=this.buckets;for(let m=1;m<5;m++){const _=Math.floor(o*m/5),C=n.getRow(_,this.luminances),T=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<T;I++){const P=C[I]&255;u[P>>Be.LUMINANCE_SHIFT]++}}const f=Be.estimateBlackPoint(u),p=n.getMatrix();for(let m=0;m<o;m++){const _=m*r;for(let C=0;C<r;C++)(p[_+C]&255)<f&&l.set(C,m)}return l}createBinarizer(n){return new Be(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let o=0;o<Be.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(n){const r=n.length;let o=0,l=0,u=0;for(let C=0;C<r;C++)n[C]>u&&(l=C,u=n[C]),n[C]>o&&(o=n[C]);let f=0,p=0;for(let C=0;C<r;C++){const T=C-l,I=n[C]*T*T;I>p&&(f=C,p=I)}if(l>f){const C=l;l=f,f=C}if(f-l<=r/16)throw new ee;let m=f-1,_=-1;for(let C=f-1;C>l;C--){const T=C-l,I=T*T*(f-C)*(o-n[C]);I>_&&(m=C,_=I)}return m<<Be.LUMINANCE_SHIFT}}Be.LUMINANCE_BITS=5,Be.LUMINANCE_SHIFT=8-Be.LUMINANCE_BITS,Be.LUMINANCE_BUCKETS=1<<Be.LUMINANCE_BITS,Be.EMPTY=Uint8ClampedArray.from([0]);class Pe extends Be{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=Pe.MINIMUM_DIMENSION&&o>=Pe.MINIMUM_DIMENSION){const l=n.getMatrix();let u=r>>Pe.BLOCK_SIZE_POWER;r&Pe.BLOCK_SIZE_MASK&&u++;let f=o>>Pe.BLOCK_SIZE_POWER;o&Pe.BLOCK_SIZE_MASK&&f++;const p=Pe.calculateBlackPoints(l,u,f,r,o),m=new Ze(r,o);Pe.calculateThresholdForBlock(l,u,f,r,o,p,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new Pe(n)}static calculateThresholdForBlock(n,r,o,l,u,f,p){const m=u-Pe.BLOCK_SIZE,_=l-Pe.BLOCK_SIZE;for(let C=0;C<o;C++){let T=C<<Pe.BLOCK_SIZE_POWER;T>m&&(T=m);const I=Pe.cap(C,2,o-3);for(let P=0;P<r;P++){let z=P<<Pe.BLOCK_SIZE_POWER;z>_&&(z=_);const U=Pe.cap(P,2,r-3);let j=0;for(let he=-2;he<=2;he++){const de=f[I+he];j+=de[U-2]+de[U-1]+de[U]+de[U+1]+de[U+2]}const K=j/25;Pe.thresholdBlock(n,z,T,K,l,p)}}}static cap(n,r,o){return n<r?r:n>o?o:n}static thresholdBlock(n,r,o,l,u,f){for(let p=0,m=o*u+r;p<Pe.BLOCK_SIZE;p++,m+=u)for(let _=0;_<Pe.BLOCK_SIZE;_++)(n[m+_]&255)<=l&&f.set(r+_,o+p)}static calculateBlackPoints(n,r,o,l,u){const f=u-Pe.BLOCK_SIZE,p=l-Pe.BLOCK_SIZE,m=new Array(o);for(let _=0;_<o;_++){m[_]=new Int32Array(r);let C=_<<Pe.BLOCK_SIZE_POWER;C>f&&(C=f);for(let T=0;T<r;T++){let I=T<<Pe.BLOCK_SIZE_POWER;I>p&&(I=p);let P=0,z=255,U=0;for(let K=0,he=C*l+I;K<Pe.BLOCK_SIZE;K++,he+=l){for(let de=0;de<Pe.BLOCK_SIZE;de++){const ae=n[he+de]&255;P+=ae,ae<z&&(z=ae),ae>U&&(U=ae)}if(U-z>Pe.MIN_DYNAMIC_RANGE)for(K++,he+=l;K<Pe.BLOCK_SIZE;K++,he+=l)for(let de=0;de<Pe.BLOCK_SIZE;de++)P+=n[he+de]&255}let j=P>>Pe.BLOCK_SIZE_POWER*2;if(U-z<=Pe.MIN_DYNAMIC_RANGE&&(j=z/2,_>0&&T>0)){const K=(m[_-1][T]+2*m[_][T-1]+m[_-1][T-1])/4;z<K&&(j=K)}m[_][T]=j}}return m}}Pe.BLOCK_SIZE_POWER=3,Pe.BLOCK_SIZE=1<<Pe.BLOCK_SIZE_POWER,Pe.BLOCK_SIZE_MASK=Pe.BLOCK_SIZE-1,Pe.MINIMUM_DIMENSION=Pe.BLOCK_SIZE*5,Pe.MIN_DYNAMIC_RANGE=24;class ne{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,o,l){throw new De("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new De("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new De("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new Ve;for(let o=0;o<this.height;o++){const l=this.getRow(o,n);for(let u=0;u<this.width;u++){const f=l[u]&255;let p;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",r.append(p)}r.append(`
`)}return r.toString()}}class Oe extends ne{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const o=this.delegate.getRow(n,r),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let l=0;l<r;l++)o[l]=255-(n[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,o,l){return new Oe(this.delegate.crop(n,r,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class ce extends ne{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ce.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return ce.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,o){const l=new Uint8ClampedArray(r*o);for(let u=0,f=0,p=n.length;u<p;u+=4,f++){let m;if(n[u+3]===0)m=255;else{const C=n[u],T=n[u+1],I=n[u+2];m=306*C+601*T+117*I+512>>10}l[f]=m}return l}getRow(n,r){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const o=this.getWidth(),l=n*o;return r===null?r=this.buffer.slice(l,l+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(l,l+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,o,l){return super.crop(n,r,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),o=r.getContext("2d"),l=n*ce.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*f),m=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*f);return r.width=p,r.height=m,o.translate(p/2,m/2),o.rotate(l),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=ce.makeBufferFromCanvasImageData(r),this}invert(){return new Oe(this)}}ce.DEGREE_TO_RADIANS=Math.PI/180;class Ie{constructor(n,r,o){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||zs||self||window||void 0)&&(globalThis||zs||self||window||void 0).__awaiter||function(S,n,r,o){function l(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function p(C){try{_(o.next(C))}catch(T){f(T)}}function m(C){try{_(o.throw(C))}catch(T){f(T)}}function _(C){C.done?u(C.value):l(C.value).then(p,m)}_((o=o.apply(S,n||[])).next())})};class at{constructor(n,r=500,o){this.reader=n,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of n){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${r.length+1}`,p=o.groupId,m={deviceId:u,label:f,kind:l,groupId:p};r.push(m)}return r})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Ie(r.deviceId,r.label))})}findDeviceById(n){return be(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return be(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(n,r){return be(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(n,r){return be(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,r,o){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,o)})}decodeFromVideoDevice(n,r,o){return be(this,void 0,void 0,function*(){let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,r,o)})}decodeFromConstraints(n,r,o){return be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(l,r,o)})}decodeFromStream(n,r,o){return be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return be(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((r,o)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const o=document.getElementById(n);if(!o)throw new b(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new b(`element with id '${n}' must be an ${r} element`);return o}decodeFromImage(n,r){if(!n&&!r)throw new b("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new b("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,o){if(n===void 0&&r===void 0)throw new b("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new b("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(n){if(!n)throw new b("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new b("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=n,o}decodeFromVideoUrl(n){if(!n)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=n,o}decodeFromVideoUrlContinuously(n,r){if(!n)throw new b("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,r);return o.src=n,l}_decodeOnLoadImage(n){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,f)=>{if(this._stopAsyncDecode){f(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(n);u(p)}catch(p){const m=r&&p instanceof ee,C=(p instanceof W||p instanceof Y)&&o;if(m||C)return setTimeout(l,this._timeBetweenDecodingAttempts,u,f);f(p)}};return new Promise((u,f)=>l(u,f))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(n);r(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){r(null,l);const u=l instanceof W||l instanceof Y,f=l instanceof ee;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,o){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),o=new ce(r),l=new Pe(o);return new k(l)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,l;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,l=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,l=n.naturalHeight||n.height)),r.style.width=o+"px",r.style.height=l+"px",r.width=o,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Le{constructor(n,r,o=r==null?0:8*r.length,l,u,f=V.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=f,this.text=n,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,f==null?this.timestamp=V.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(r.length+n.length);V.arraycopy(r,0,o,0,r.length),V.arraycopy(n,0,o,r.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ge;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var fe=Ge,en;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(en||(en={}));var mt=en;class gi{constructor(n,r,o,l,u=-1,f=-1){this.rawBytes=n,this.text=r,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Yr{exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class tn{constructor(n,r){if(r.length===0)throw new N;this.field=n;const o=r.length;if(o>1&&r[0]===0){let l=1;for(;l<o&&r[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),V.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(n===1){o=0;for(let f=0,p=r.length;f!==p;f++){const m=r[f];o=Yr.addOrSubtract(o,m)}return o}o=r[0];const l=r.length,u=this.field;for(let f=1;f<l;f++)o=Yr.addOrSubtract(u.multiply(n,o),r[f]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){const f=r;r=o,o=f}let l=new Int32Array(o.length);const u=o.length-r.length;V.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=Yr.addOrSubtract(r[f-u],o[f]);return new tn(this.field,l)}multiply(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,l=n.coefficients,u=l.length,f=new Int32Array(o+u-1),p=this.field;for(let m=0;m<o;m++){const _=r[m];for(let C=0;C<u;C++)f[m+C]=Yr.addOrSubtract(f[m+C],p.multiply(_,l[C]))}return new tn(p,f)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,o=this.field,l=new Int32Array(r),u=this.coefficients;for(let f=0;f<r;f++)l[f]=o.multiply(u[f],n);return new tn(o,l)}multiplyByMonomial(n,r){if(n<0)throw new N;if(r===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+n),f=this.field;for(let p=0;p<l;p++)u[p]=f.multiply(o[p],r);return new tn(f,u)}divide(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new N("Divide by 0");const r=this.field;let o=r.getZero(),l=this;const u=n.getCoefficient(n.getDegree()),f=r.inverse(u);for(;l.getDegree()>=n.getDegree()&&!l.isZero();){const p=l.getDegree()-n.getDegree(),m=r.multiply(l.getCoefficient(l.getDegree()),f),_=n.multiplyByMonomial(p,m),C=r.buildMonomial(p,m);o=o.addOrSubtract(C),l=l.addOrSubtract(_)}return[o,l]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),r===0||o!==1){const l=this.field.log(o);l===0?n+="1":l===1?n+="a":(n+="a^",n+=l)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class Mr extends v{}Mr.kind="ArithmeticException";class $e extends Yr{constructor(n,r,o){super(),this.primitive=n,this.size=r,this.generatorBase=o;const l=new Int32Array(r);let u=1;for(let p=0;p<r;p++)l[p]=u,u*=2,u>=r&&(u^=n,u&=r-1);this.expTable=l;const f=new Int32Array(r);for(let p=0;p<r-1;p++)f[l[p]]=p;this.logTable=f,this.zero=new tn(this,Int32Array.from([0])),this.one=new tn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new N;if(r===0)return this.zero;const o=new Int32Array(n+1);return o[0]=r,new tn(this,o)}inverse(n){if(n===0)throw new Mr;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class mi extends v{}mi.kind="ReedSolomonException";class Zn extends v{}Zn.kind="IllegalStateException";class xi{constructor(n){this.field=n}decode(n,r){const o=this.field,l=new tn(o,n),u=new Int32Array(r);let f=!0;for(let P=0;P<r;P++){const z=l.evaluateAt(o.exp(P+o.getGeneratorBase()));u[u.length-1-P]=z,z!==0&&(f=!1)}if(f)return;const p=new tn(o,u),m=this.runEuclideanAlgorithm(o.buildMonomial(r,1),p,r),_=m[0],C=m[1],T=this.findErrorLocations(_),I=this.findErrorMagnitudes(C,T);for(let P=0;P<T.length;P++){const z=n.length-1-o.log(T[P]);if(z<0)throw new mi("Bad error location");n[z]=$e.addOrSubtract(n[z],I[P])}}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){const P=n;n=r,r=P}const l=this.field;let u=n,f=r,p=l.getZero(),m=l.getOne();for(;f.getDegree()>=(o/2|0);){let P=u,z=p;if(u=f,p=m,u.isZero())throw new mi("r_{i-1} was zero");f=P;let U=l.getZero();const j=u.getCoefficient(u.getDegree()),K=l.inverse(j);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const he=f.getDegree()-u.getDegree(),de=l.multiply(f.getCoefficient(f.getDegree()),K);U=U.addOrSubtract(l.buildMonomial(he,de)),f=f.addOrSubtract(u.multiplyByMonomial(he,de))}if(m=U.multiply(p).addOrSubtract(z),f.getDegree()>=u.getDegree())throw new Zn("Division algorithm failed to reduce polynomial?")}const _=m.getCoefficient(0);if(_===0)throw new mi("sigmaTilde(0) was zero");const C=l.inverse(_),T=m.multiplyScalar(C),I=f.multiplyScalar(C);return[T,I]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(r);let l=0;const u=this.field;for(let f=1;f<u.getSize()&&l<r;f++)n.evaluateAt(f)===0&&(o[l]=u.inverse(f),l++);if(l!==r)throw new mi("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,r){const o=r.length,l=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const p=u.inverse(r[f]);let m=1;for(let _=0;_<o;_++)if(f!==_){const C=u.multiply(r[_],p),T=C&1?C&-2:C|1;m=u.multiply(m,T)}l[f]=u.multiply(n.evaluateAt(p),u.inverse(m)),u.getGeneratorBase()!==0&&(l[f]=u.multiply(l[f],p))}return l}}var zt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(zt||(zt={}));class lt{decode(n){this.ddata=n;let r=n.getBits(),o=this.extractBits(r),l=this.correctBits(o),u=lt.convertBoolArrayToByteArray(l),f=lt.getEncodedData(l),p=new gi(u,f,null,null);return p.setNumBits(l.length),p}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,o=zt.UPPER,l=zt.UPPER,u="",f=0;for(;f<r;)if(l===zt.BINARY){if(r-f<5)break;let p=lt.readCode(n,f,5);if(f+=5,p===0){if(r-f<11)break;p=lt.readCode(n,f,11)+31,f+=11}for(let m=0;m<p;m++){if(r-f<8){f=r;break}const _=lt.readCode(n,f,8);u+=we.castAsNonUtf8Char(_),f+=8}l=o}else{let p=l===zt.DIGIT?4:5;if(r-f<p)break;let m=lt.readCode(n,f,p);f+=p;let _=lt.getCharacter(l,m);_.startsWith("CTRL_")?(o=l,l=lt.getTable(_.charAt(5)),_.charAt(6)==="L"&&(o=l)):(u+=_,l=o)}return u}static getTable(n){switch(n){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;case"U":default:return zt.UPPER}}static getCharacter(n,r){switch(n){case zt.UPPER:return lt.UPPER_TABLE[r];case zt.LOWER:return lt.LOWER_TABLE[r];case zt.MIXED:return lt.MIXED_TABLE[r];case zt.PUNCT:return lt.PUNCT_TABLE[r];case zt.DIGIT:return lt.DIGIT_TABLE[r];default:throw new Zn("Bad table")}}correctBits(n){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=$e.AZTEC_DATA_10):(o=12,r=$e.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=n.length/o;if(u<l)throw new Y;let f=n.length%o,p=new Int32Array(u);for(let I=0;I<u;I++,f+=o)p[I]=lt.readCode(n,f,o);try{new xi(r).decode(p,u-l)}catch(I){throw new Y(I)}let m=(1<<o)-1,_=0;for(let I=0;I<l;I++){let P=p[I];if(P===0||P===m)throw new Y;(P===1||P===m-1)&&_++}let C=new Array(l*o-_),T=0;for(let I=0;I<l;I++){let P=p[I];if(P===1||P===m-1)C.fill(P>1,T,T+o-1),T+=o-1;else for(let z=o-1;z>=0;--z)C[T++]=(P&1<<z)!==0}return C}extractBits(n){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(r?11:14)+o*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(o,r));if(r)for(let p=0;p<u.length;p++)u[p]=p;else{let p=l+1+2*M.truncDivision(M.truncDivision(l,2)-1,15),m=l/2,_=M.truncDivision(p,2);for(let C=0;C<m;C++){let T=C+M.truncDivision(C,15);u[m-C-1]=_-T-1,u[m+C]=_+T+1}}for(let p=0,m=0;p<o;p++){let _=(o-p)*4+(r?9:12),C=p*2,T=l-1-C;for(let I=0;I<_;I++){let P=I*2;for(let z=0;z<2;z++)f[m+P+z]=n.get(u[C+z],u[C+I]),f[m+2*_+P+z]=n.get(u[C+I],u[T-z]),f[m+4*_+P+z]=n.get(u[T-z],u[T-I]),f[m+6*_+P+z]=n.get(u[T-I],u[C+z])}m+=_*8}return f}static readCode(n,r,o){let l=0;for(let u=r;u<r+o;u++)l<<=1,n[u]&&(l|=1);return l}static readByte(n,r){let o=n.length-r;return o>=8?lt.readCode(n,r,8):lt.readCode(n,r,o)<<8-o}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let o=0;o<r.length;o++)r[o]=lt.readByte(n,8*o);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}lt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],lt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],lt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],lt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],lt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class et{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,o,l){const u=n-o,f=r-l;return Math.sqrt(u*u+f*f)}static sum(n){let r=0;for(let o=0,l=n.length;o!==l;o++){const u=n[o];r+=u}return r}}class Qi{static floatToIntBits(n){return n}}Qi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ae{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof Ae){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Qi.floatToIntBits(this.x)+Qi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),l=this.distance(n[0],n[2]);let u,f,p;if(o>=r&&o>=l?(f=n[0],u=n[1],p=n[2]):l>=o&&l>=r?(f=n[1],u=n[0],p=n[2]):(f=n[2],u=n[0],p=n[1]),this.crossProductZ(u,f,p)<0){const m=u;u=p,p=m}n[0]=u,n[1]=f,n[2]=p}static distance(n,r){return et.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,o){const l=r.x,u=r.y;return(o.x-l)*(n.y-u)-(o.y-u)*(n.x-l)}}class Ji{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class vo extends Ji{constructor(n,r,o,l,u){super(n,r),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _r{constructor(n,r,o,l){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=_r.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),l==null&&(l=n.getHeight()/2|0);const u=r/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let n=this.leftInit,r=this.rightInit,o=this.upInit,l=this.downInit,u=!1,f=!0,p=!1,m=!1,_=!1,C=!1,T=!1;const I=this.width,P=this.height;for(;f;){f=!1;let z=!0;for(;(z||!m)&&r<I;)z=this.containsBlackPoint(o,l,r,!1),z?(r++,f=!0,m=!0):m||r++;if(r>=I){u=!0;break}let U=!0;for(;(U||!_)&&l<P;)U=this.containsBlackPoint(n,r,l,!0),U?(l++,f=!0,_=!0):_||l++;if(l>=P){u=!0;break}let j=!0;for(;(j||!C)&&n>=0;)j=this.containsBlackPoint(o,l,n,!1),j?(n--,f=!0,C=!0):C||n--;if(n<0){u=!0;break}let K=!0;for(;(K||!T)&&o>=0;)K=this.containsBlackPoint(n,r,o,!0),K?(o--,f=!0,T=!0):T||o--;if(o<0){u=!0;break}f&&(p=!0)}if(!u&&p){const z=r-n;let U=null;for(let de=1;U===null&&de<z;de++)U=this.getBlackPointOnSegment(n,l-de,n+de,l);if(U==null)throw new ee;let j=null;for(let de=1;j===null&&de<z;de++)j=this.getBlackPointOnSegment(n,o+de,n+de,o);if(j==null)throw new ee;let K=null;for(let de=1;K===null&&de<z;de++)K=this.getBlackPointOnSegment(r,o+de,r-de,o);if(K==null)throw new ee;let he=null;for(let de=1;he===null&&de<z;de++)he=this.getBlackPointOnSegment(r,l-de,r-de,l);if(he==null)throw new ee;return this.centerEdges(he,U,K,j)}else throw new ee}getBlackPointOnSegment(n,r,o,l){const u=et.round(et.distance(n,r,o,l)),f=(o-n)/u,p=(l-r)/u,m=this.image;for(let _=0;_<u;_++){const C=et.round(n+_*f),T=et.round(r+_*p);if(m.get(C,T))return new Ae(C,T)}return null}centerEdges(n,r,o,l){const u=n.getX(),f=n.getY(),p=r.getX(),m=r.getY(),_=o.getX(),C=o.getY(),T=l.getX(),I=l.getY(),P=_r.CORR;return u<this.width/2?[new Ae(T-P,I+P),new Ae(p+P,m+P),new Ae(_-P,C-P),new Ae(u+P,f-P)]:[new Ae(T+P,I+P),new Ae(p+P,m-P),new Ae(_-P,C+P),new Ae(u-P,f-P)]}containsBlackPoint(n,r,o,l){const u=this.image;if(l){for(let f=n;f<=r;f++)if(u.get(f,o))return!0}else for(let f=n;f<=r;f++)if(u.get(o,f))return!0;return!1}}_r.INIT_SIZE=10,_r.CORR=1;class Eo{static checkAndNudgePoints(n,r){const o=n.getWidth(),l=n.getHeight();let u=!0;for(let f=0;f<r.length&&u;f+=2){const p=Math.floor(r[f]),m=Math.floor(r[f+1]);if(p<-1||p>o||m<-1||m>l)throw new ee;u=!1,p===-1?(r[f]=0,u=!0):p===o&&(r[f]=o-1,u=!0),m===-1?(r[f+1]=0,u=!0):m===l&&(r[f+1]=l-1,u=!0)}u=!0;for(let f=r.length-2;f>=0&&u;f-=2){const p=Math.floor(r[f]),m=Math.floor(r[f+1]);if(p<-1||p>o||m<-1||m>l)throw new ee;u=!1,p===-1?(r[f]=0,u=!0):p===o&&(r[f]=o-1,u=!0),m===-1?(r[f+1]=0,u=!0):m===l&&(r[f+1]=l-1,u=!0)}}}class Sn{constructor(n,r,o,l,u,f,p,m,_){this.a11=n,this.a21=r,this.a31=o,this.a12=l,this.a22=u,this.a32=f,this.a13=p,this.a23=m,this.a33=_}static quadrilateralToQuadrilateral(n,r,o,l,u,f,p,m,_,C,T,I,P,z,U,j){const K=Sn.quadrilateralToSquare(n,r,o,l,u,f,p,m);return Sn.squareToQuadrilateral(_,C,T,I,P,z,U,j).times(K)}transformPoints(n){const r=n.length,o=this.a11,l=this.a12,u=this.a13,f=this.a21,p=this.a22,m=this.a23,_=this.a31,C=this.a32,T=this.a33;for(let I=0;I<r;I+=2){const P=n[I],z=n[I+1],U=u*P+m*z+T;n[I]=(o*P+f*z+_)/U,n[I+1]=(l*P+p*z+C)/U}}transformPointsWithValues(n,r){const o=this.a11,l=this.a12,u=this.a13,f=this.a21,p=this.a22,m=this.a23,_=this.a31,C=this.a32,T=this.a33,I=n.length;for(let P=0;P<I;P++){const z=n[P],U=r[P],j=u*z+m*U+T;n[P]=(o*z+f*U+_)/j,r[P]=(l*z+p*U+C)/j}}static squareToQuadrilateral(n,r,o,l,u,f,p,m){const _=n-o+u-p,C=r-l+f-m;if(_===0&&C===0)return new Sn(o-n,u-o,n,l-r,f-l,r,0,0,1);{const T=o-u,I=p-u,P=l-f,z=m-f,U=T*z-I*P,j=(_*z-I*C)/U,K=(T*C-_*P)/U;return new Sn(o-n+j*o,p-n+K*p,n,l-r+j*l,m-r+K*m,r,j,K,1)}}static quadrilateralToSquare(n,r,o,l,u,f,p,m){return Sn.squareToQuadrilateral(n,r,o,l,u,f,p,m).buildAdjoint()}buildAdjoint(){return new Sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Sn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Co extends Eo{sampleGrid(n,r,o,l,u,f,p,m,_,C,T,I,P,z,U,j,K,he,de){const ae=Sn.quadrilateralToQuadrilateral(l,u,f,p,m,_,C,T,I,P,z,U,j,K,he,de);return this.sampleGridWithTransform(n,r,o,ae)}sampleGridWithTransform(n,r,o,l){if(r<=0||o<=0)throw new ee;const u=new Ze(r,o),f=new Float32Array(2*r);for(let p=0;p<o;p++){const m=f.length,_=p+.5;for(let C=0;C<m;C+=2)f[C]=C/2+.5,f[C+1]=_;l.transformPoints(f),Eo.checkAndNudgePoints(n,f);try{for(let C=0;C<m;C+=2)n.get(Math.floor(f[C]),Math.floor(f[C+1]))&&u.set(C/2,p)}catch{throw new ee}}return u}}class wr{static setGridSampler(n){wr.gridSampler=n}static getInstance(){return wr.gridSampler}}wr.gridSampler=new Co;class hn{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new Ae(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ao{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(n){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new vo(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new ee;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(o,r);let l=0;for(let f=0;f<4;f++){let p=o[(this.shift+f)%4];this.compact?(l<<=7,l+=p>>1&127):(l<<=10,l+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,r){let o=0;n.forEach((l,u,f)=>{let p=(l>>r-2<<1)+(l&1);o=(o<<3)+p}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(M.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new ee}getCorrectedParameterData(n,r){let o,l;r?(o=7,l=2):(o=10,l=4);let u=o-l,f=new Int32Array(o);for(let m=o-1;m>=0;--m)f[m]=n&15,n>>=4;try{new xi($e.AZTEC_PARAM).decode(f,u)}catch{throw new ee}let p=0;for(let m=0;m<l;m++)p=(p<<4)+f[m];return p}getBullsEyeCorners(n){let r=n,o=n,l=n,u=n,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(r,f,1,-1),I=this.getFirstDifferent(o,f,1,1),P=this.getFirstDifferent(l,f,-1,1),z=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(z,T)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(T,I,P,z))break}r=T,o=I,l=P,u=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let p=new Ae(r.getX()+.5,r.getY()-.5),m=new Ae(o.getX()+.5,o.getY()+.5),_=new Ae(l.getX()-.5,l.getY()+.5),C=new Ae(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,m,_,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,o,l;try{let p=new _r(this.image).detect();n=p[0],r=p[1],o=p[2],l=p[3]}catch{let m=this.image.getWidth()/2,_=this.image.getHeight()/2;n=this.getFirstDifferent(new hn(m+7,_-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new hn(m+7,_+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new hn(m-7,_+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new hn(m-7,_-7),!1,-1,-1).toResultPoint()}let u=et.round((n.getX()+l.getX()+r.getX()+o.getX())/4),f=et.round((n.getY()+l.getY()+r.getY()+o.getY())/4);try{let p=new _r(this.image,15,u,f).detect();n=p[0],r=p[1],o=p[2],l=p[3]}catch{n=this.getFirstDifferent(new hn(u+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new hn(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new hn(u-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new hn(u-7,f-7),!1,-1,-1).toResultPoint()}return u=et.round((n.getX()+l.getX()+r.getX()+o.getX())/4),f=et.round((n.getY()+l.getY()+r.getY()+o.getY())/4),new hn(u,f)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,o,l,u){let f=wr.getInstance(),p=this.getDimension(),m=p/2-this.nbCenterLayers,_=p/2+this.nbCenterLayers;return f.sampleGrid(n,p,p,m,m,_,m,_,_,m,_,r.getX(),r.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(n,r,o){let l=0,u=this.distanceResultPoint(n,r),f=u/o,p=n.getX(),m=n.getY(),_=f*(r.getX()-n.getX())/u,C=f*(r.getY()-n.getY())/u;for(let T=0;T<o;T++)this.image.get(et.round(p+T*_),et.round(m+T*C))&&(l|=1<<o-T-1);return l}isWhiteOrBlackRectangle(n,r,o,l){let u=3;n=new hn(n.getX()-u,n.getY()+u),r=new hn(r.getX()-u,r.getY()-u),o=new hn(o.getX()+u,o.getY()-u),l=new hn(l.getX()+u,l.getY()+u);let f=this.getColor(l,n);if(f===0)return!1;let p=this.getColor(n,r);return p!==f||(p=this.getColor(r,o),p!==f)?!1:(p=this.getColor(o,l),p===f)}getColor(n,r){let o=this.distancePoint(n,r),l=(r.getX()-n.getX())/o,u=(r.getY()-n.getY())/o,f=0,p=n.getX(),m=n.getY(),_=this.image.get(n.getX(),n.getY()),C=Math.ceil(o);for(let I=0;I<C;I++)p+=l,m+=u,this.image.get(et.round(p),et.round(m))!==_&&f++;let T=f/o;return T>.1&&T<.9?0:T<=.1===_?1:-1}getFirstDifferent(n,r,o,l){let u=n.getX()+o,f=n.getY()+l;for(;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=o,f+=l;for(u-=o,f-=l;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===r;)f+=l;return f-=l,new hn(u,f)}expandSquare(n,r,o){let l=o/(2*r),u=n[0].getX()-n[2].getX(),f=n[0].getY()-n[2].getY(),p=(n[0].getX()+n[2].getX())/2,m=(n[0].getY()+n[2].getY())/2,_=new Ae(p+l*u,m+l*f),C=new Ae(p-l*u,m-l*f);u=n[1].getX()-n[3].getX(),f=n[1].getY()-n[3].getY(),p=(n[1].getX()+n[3].getX())/2,m=(n[1].getY()+n[3].getY())/2;let T=new Ae(p+l*u,m+l*f),I=new Ae(p-l*u,m-l*f);return[_,T,C,I]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=et.round(n.getX()),o=et.round(n.getY());return this.isValid(r,o)}distancePoint(n,r){return et.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return et.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class $i{decode(n,r=null){let o=null,l=new Ao(n.getBlackMatrix()),u=null,f=null;try{let C=l.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(r,u),f=new lt().decode(C)}catch(C){o=C}if(f==null)try{let C=l.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(r,u),f=new lt().decode(C)}catch(C){throw o??C}let p=new Le(f.getText(),f.getRawBytes(),f.getNumBits(),u,fe.AZTEC,V.currentTimeMillis()),m=f.getByteSegments();m!=null&&p.putMetadata(mt.BYTE_SEGMENTS,m);let _=f.getECLevel();return _!=null&&p.putMetadata(mt.ERROR_CORRECTION_LEVEL,_),p}reportFoundResultPoints(n,r){if(n!=null){let o=n.get(le.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((l,u,f)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class ku extends at{constructor(n=500){super(new $i,n)}}class Rt{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(le.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),f=this.doDecode(u,r),p=f.getResultMetadata();let m=270;p!==null&&p.get(mt.ORIENTATION)===!0&&(m=m+p.get(mt.ORIENTATION)%360),f.putMetadata(mt.ORIENTATION,m);const _=f.getResultPoints();if(_!==null){const C=u.getHeight();for(let T=0;T<_.length;T++)_[T]=new Ae(C-_[T].getY()-1,_[T].getX())}return f}else throw new ee}}reset(){}doDecode(n,r){const o=n.getWidth(),l=n.getHeight();let u=new G(o);const f=r&&r.get(le.TRY_HARDER)===!0,p=Math.max(1,l>>(f?8:5));let m;f?m=l:m=15;const _=Math.trunc(l/2);for(let C=0;C<m;C++){const T=Math.trunc((C+1)/2),I=(C&1)===0,P=_+p*(I?T:-T);if(P<0||P>=l)break;try{u=n.getBlackRow(P,u)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(u.reverse(),r&&r.get(le.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;r.forEach((j,K)=>U.set(K,j)),U.delete(le.NEED_RESULT_POINT_CALLBACK),r=U}try{const U=this.decodeRow(P,u,r);if(z===1){U.putMetadata(mt.ORIENTATION,180);const j=U.getResultPoints();j!==null&&(j[0]=new Ae(o-j[0].getX()-1,j[0].getY()),j[1]=new Ae(o-j[1].getX()-1,j[1].getY()))}return U}catch{}}}throw new ee}static recordPattern(n,r,o){const l=o.length;for(let _=0;_<l;_++)o[_]=0;const u=n.getSize();if(r>=u)throw new ee;let f=!n.get(r),p=0,m=r;for(;m<u;){if(n.get(m)!==f)o[p]++;else{if(++p===l)break;o[p]=1,f=!f}m++}if(!(p===l||p===l-1&&m===u))throw new ee}static recordPatternInReverse(n,r,o){let l=o.length,u=n.get(r);for(;r>0&&l>=0;)n.get(--r)!==u&&(l--,u=!u);if(l>=0)throw new ee;Rt.recordPattern(n,r+1,o)}static patternMatchVariance(n,r,o){const l=n.length;let u=0,f=0;for(let _=0;_<l;_++)u+=n[_],f+=r[_];if(u<f)return Number.POSITIVE_INFINITY;const p=u/f;o*=p;let m=0;for(let _=0;_<l;_++){const C=n[_],T=r[_]*p,I=C>T?C-T:T-C;if(I>o)return Number.POSITIVE_INFINITY;m+=I}return m/u}}class me extends Rt{static findStartPattern(n){const r=n.getSize(),o=n.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,p=!1;const m=6;for(let _=o;_<r;_++)if(n.get(_)!==p)u[l]++;else{if(l===m-1){let C=me.MAX_AVG_VARIANCE,T=-1;for(let I=me.CODE_START_A;I<=me.CODE_START_C;I++){const P=Rt.patternMatchVariance(u,me.CODE_PATTERNS[I],me.MAX_INDIVIDUAL_VARIANCE);P<C&&(C=P,T=I)}if(T>=0&&n.isRange(Math.max(0,f-(_-f)/2),f,!1))return Int32Array.from([f,_,T]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,p=!p}throw new ee}static decodeCode(n,r,o){Rt.recordPattern(n,o,r);let l=me.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<me.CODE_PATTERNS.length;f++){const p=me.CODE_PATTERNS[f],m=this.patternMatchVariance(r,p,me.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,u=f)}if(u>=0)return u;throw new ee}decodeRow(n,r,o){const l=o&&o.get(le.ASSUME_GS1)===!0,u=me.findStartPattern(r),f=u[2];let p=0;const m=new Uint8Array(20);m[p++]=f;let _;switch(f){case me.CODE_START_A:_=me.CODE_CODE_A;break;case me.CODE_START_B:_=me.CODE_CODE_B;break;case me.CODE_START_C:_=me.CODE_CODE_C;break;default:throw new Y}let C=!1,T=!1,I="",P=u[0],z=u[1];const U=Int32Array.from([0,0,0,0,0,0]);let j=0,K=0,he=f,de=0,ae=!0,Ye=!1,Ue=!1;for(;!C;){const cr=T;switch(T=!1,j=K,K=me.decodeCode(r,U,z),m[p++]=K,K!==me.CODE_STOP&&(ae=!0),K!==me.CODE_STOP&&(de++,he+=de*K),P=z,z+=U.reduce((Gu,Ni)=>Gu+Ni,0),K){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new Y}switch(_){case me.CODE_CODE_A:if(K<64)Ue===Ye?I+=String.fromCharCode(32+K):I+=String.fromCharCode(32+K+128),Ue=!1;else if(K<96)Ue===Ye?I+=String.fromCharCode(K-64):I+=String.fromCharCode(K+64),Ue=!1;else switch(K!==me.CODE_STOP&&(ae=!1),K){case me.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!Ye&&Ue?(Ye=!0,Ue=!1):Ye&&Ue?(Ye=!1,Ue=!1):Ue=!0;break;case me.CODE_SHIFT:T=!0,_=me.CODE_CODE_B;break;case me.CODE_CODE_B:_=me.CODE_CODE_B;break;case me.CODE_CODE_C:_=me.CODE_CODE_C;break;case me.CODE_STOP:C=!0;break}break;case me.CODE_CODE_B:if(K<96)Ue===Ye?I+=String.fromCharCode(32+K):I+=String.fromCharCode(32+K+128),Ue=!1;else switch(K!==me.CODE_STOP&&(ae=!1),K){case me.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!Ye&&Ue?(Ye=!0,Ue=!1):Ye&&Ue?(Ye=!1,Ue=!1):Ue=!0;break;case me.CODE_SHIFT:T=!0,_=me.CODE_CODE_A;break;case me.CODE_CODE_A:_=me.CODE_CODE_A;break;case me.CODE_CODE_C:_=me.CODE_CODE_C;break;case me.CODE_STOP:C=!0;break}break;case me.CODE_CODE_C:if(K<100)K<10&&(I+="0"),I+=K;else switch(K!==me.CODE_STOP&&(ae=!1),K){case me.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case me.CODE_CODE_A:_=me.CODE_CODE_A;break;case me.CODE_CODE_B:_=me.CODE_CODE_B;break;case me.CODE_STOP:C=!0;break}break}cr&&(_=_===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const St=z-P;if(z=r.getNextUnset(z),!r.isRange(z,Math.min(r.getSize(),z+(z-P)/2),!1))throw new ee;if(he-=de*j,he%103!==j)throw new W;const xn=I.length;if(xn===0)throw new ee;xn>0&&ae&&(_===me.CODE_CODE_C?I=I.substring(0,xn-2):I=I.substring(0,xn-1));const _n=(u[1]+u[0])/2,ot=P+St/2,Qt=m.length,wn=new Uint8Array(Qt);for(let cr=0;cr<Qt;cr++)wn[cr]=m[cr];const Ii=[new Ae(_n,n),new Ae(ot,n)];return new Le(I,wn,0,Ii,fe.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class kt extends Rt{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=kt.findAsteriskPattern(r,l),f=r.getNextSet(u[1]),p=r.getSize(),m,_;do{kt.recordPattern(r,f,l);let U=kt.toNarrowWidePattern(l);if(U<0)throw new ee;m=kt.patternToChar(U),this.decodeRowResult+=m,_=f;for(let j of l)f+=j;f=r.getNextSet(f)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let U of l)C+=U;let T=f-_-C;if(f!==p&&T*2<C)throw new ee;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,j=0;for(let K=0;K<U;K++)j+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(U)!==kt.ALPHABET_STRING.charAt(j%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new ee;let I;this.extendedMode?I=kt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let P=(u[1]+u[0])/2,z=_+C/2;return new Le(I,null,0,[new Ae(P,n),new Ae(z,n)],fe.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let o=n.getSize(),l=n.getNextSet(0),u=0,f=l,p=!1,m=r.length;for(let _=l;_<o;_++)if(n.get(_)!==p)r[u]++;else{if(u===m-1){if(this.toNarrowWidePattern(r)===kt.ASTERISK_ENCODING&&n.isRange(Math.max(0,f-Math.floor((_-f)/2)),f,!1))return[f,_];f+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,p=!p}throw new ee}static toNarrowWidePattern(n){let r=n.length,o=0,l;do{let u=2147483647;for(let m of n)m<u&&m>o&&(u=m);o=u,l=0;let f=0,p=0;for(let m=0;m<r;m++){let _=n[m];_>o&&(p|=1<<r-1-m,l++,f+=_)}if(l===3){for(let m=0;m<r&&l>0;m++){let _=n[m];if(_>o&&(l--,_*2>=f))return-1}return p}}while(l>3);return-1}static patternToChar(n){for(let r=0;r<kt.CHARACTER_ENCODINGS.length;r++)if(kt.CHARACTER_ENCODINGS[r]===n)return kt.ALPHABET_STRING.charAt(r);if(n===kt.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(n){let r=n.length,o="";for(let l=0;l<r;l++){let u=n.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=n.charAt(l+1),p="\0";switch(u){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new Y;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new Y;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="";else throw new Y;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new Y;break}o+=p,l++}else o+=u}return o}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class ft extends Rt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,o){let l=this.decodeStart(r),u=this.decodeEnd(r),f=new Ve;ft.decodeMiddle(r,l[1],u[0],f);let p=f.toString(),m=null;o!=null&&(m=o.get(le.ALLOWED_LENGTHS)),m==null&&(m=ft.DEFAULT_ALLOWED_LENGTHS);let _=p.length,C=!1,T=0;for(let z of m){if(_===z){C=!0;break}z>T&&(T=z)}if(!C&&_>T&&(C=!0),!C)throw new Y;const I=[new Ae(l[1],n),new Ae(u[0],n)];return new Le(p,null,0,I,fe.ITF,new Date().getTime())}static decodeMiddle(n,r,o,l){let u=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),f.fill(0),p.fill(0);r<o;){Rt.recordPattern(n,r,u);for(let _=0;_<5;_++){let C=2*_;f[_]=u[C],p[_]=u[C+1]}let m=ft.decodeDigit(f);l.append(m.toString()),m=this.decodeDigit(p),l.append(m.toString()),u.forEach(function(_){r+=_})}}decodeStart(n){let r=ft.skipWhiteSpace(n),o=ft.findGuardPattern(n,r,ft.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let l=r-1;o>0&&l>=0&&!n.get(l);l--)o--;if(o!==0)throw new ee}static skipWhiteSpace(n){const r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new ee;return o}decodeEnd(n){n.reverse();try{let r=ft.skipWhiteSpace(n),o;try{o=ft.findGuardPattern(n,r,ft.END_PATTERN_REVERSED[0])}catch(u){u instanceof ee&&(o=ft.findGuardPattern(n,r,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let l=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-l,o}finally{n.reverse()}}static findGuardPattern(n,r,o){let l=o.length,u=new Int32Array(l),f=n.getSize(),p=!1,m=0,_=r;u.fill(0);for(let C=r;C<f;C++)if(n.get(C)!==p)u[m]++;else{if(m===l-1){if(Rt.patternMatchVariance(u,o,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[_,C];_+=u[0]+u[1],V.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,p=!p}throw new ee}static decodeDigit(n){let r=ft.MAX_AVG_VARIANCE,o=-1,l=ft.PATTERNS.length;for(let u=0;u<l;u++){let f=ft.PATTERNS[u],p=Rt.patternMatchVariance(n,f,ft.MAX_INDIVIDUAL_VARIANCE);p<r?(r=p,o=u):p===r&&(o=-1)}if(o>=0)return o%10;throw new ee}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class pt extends Rt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),o=pt.findGuardPattern(n,l,!1,this.START_END_PATTERN,u);let f=o[0];l=o[1];let p=f-(l-f);p>=0&&(r=n.isRange(p,f,!1))}return o}static checkChecksum(n){return pt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return pt.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let l=r-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;o+=u}o*=3;for(let l=r-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;o+=u}return(1e3-o)%10}static decodeEnd(n,r){return pt.findGuardPattern(n,r,!1,pt.START_END_PATTERN,new Int32Array(pt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,o,l){return this.findGuardPattern(n,r,o,l,new Int32Array(l.length))}static findGuardPattern(n,r,o,l,u){let f=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);let p=0,m=r,_=l.length,C=o;for(let T=r;T<f;T++)if(n.get(T)!==C)u[p]++;else{if(p===_-1){if(Rt.patternMatchVariance(u,l,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return Int32Array.from([m,T]);m+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let P=0;P<p-1;P++)u[P]=I[P];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,C=!C}throw new ee}static decodeDigit(n,r,o,l){this.recordPattern(n,o,r);let u=this.MAX_AVG_VARIANCE,f=-1,p=l.length;for(let m=0;m<p;m++){let _=l[m],C=Rt.patternMatchVariance(r,_,pt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,f=m)}if(f>=0)return f;throw new ee}}pt.MAX_AVG_VARIANCE=.48,pt.MAX_INDIVIDUAL_VARIANCE=.7,pt.START_END_PATTERN=Int32Array.from([1,1,1]),pt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),pt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class es{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(r,o,l),f=l.toString(),p=es.parseExtensionString(f),m=[new Ae((o[0]+o[1])/2,n),new Ae(u,n)],_=new Le(f,null,0,m,fe.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&_.putAllMetadata(p),_}decodeMiddle(n,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=r[1],p=0;for(let _=0;_<5&&f<u;_++){let C=pt.decodeDigit(n,l,f,pt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let T of l)f+=T;C>=10&&(p|=1<<4-_),_!==4&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==5)throw new ee;let m=this.determineCheckDigit(p);if(es.extensionChecksum(o.toString())!==m)throw new ee;return f}static extensionChecksum(n){let r=n.length,o=0;for(let l=r-2;l>=0;l-=2)o+=n.charAt(l).charCodeAt(0)-48;o*=3;for(let l=r-1;l>=0;l-=2)o+=n.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ee}static parseExtensionString(n){if(n.length!==5)return null;let r=es.parseExtension5String(n);return r==null?null:new Map([[mt.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(n.substring(1)),l=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return r+l+"."+f}}class So{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(r,o,l),f=l.toString(),p=So.parseExtensionString(f),m=[new Ae((o[0]+o[1])/2,n),new Ae(u,n)],_=new Le(f,null,0,m,fe.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&_.putAllMetadata(p),_}decodeMiddle(n,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=r[1],p=0;for(let m=0;m<2&&f<u;m++){let _=pt.decodeDigit(n,l,f,pt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+_%10);for(let C of l)f+=C;_>=10&&(p|=1<<1-m),m!==1&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==2)throw new ee;if(parseInt(o.toString())%4!==p)throw new ee;return f}static parseExtensionString(n){return n.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(n)]])}}class To{static decodeRow(n,r,o){let l=pt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new es().decodeRow(n,r,l)}catch{return new So().decodeRow(n,r,l)}}}To.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nt extends pt{constructor(){super(),this.decodeRowStringBuffer="",nt.L_AND_G_PATTERNS=nt.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=nt.L_PATTERNS[n-10],o=new Int32Array(r.length);for(let l=0;l<r.length;l++)o[l]=r[r.length-l-1];nt.L_AND_G_PATTERNS[n]=o}}decodeRow(n,r,o){let l=nt.findStartGuardPattern(r),u=o==null?null:o.get(le.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ae=new Ae((l[0]+l[1])/2,n);u.foundPossibleResultPoint(ae)}let f=this.decodeMiddle(r,l,this.decodeRowStringBuffer),p=f.rowOffset,m=f.resultString;if(u!=null){const ae=new Ae(p,n);u.foundPossibleResultPoint(ae)}let _=this.decodeEnd(r,p);if(u!=null){const ae=new Ae((_[0]+_[1])/2,n);u.foundPossibleResultPoint(ae)}let C=_[1],T=C+(C-_[0]);if(T>=r.getSize()||!r.isRange(C,T,!1))throw new ee;let I=m.toString();if(I.length<8)throw new Y;if(!nt.checkChecksum(I))throw new W;let P=(l[1]+l[0])/2,z=(_[1]+_[0])/2,U=this.getBarcodeFormat(),j=[new Ae(P,n),new Ae(z,n)],K=new Le(I,null,0,j,U,new Date().getTime()),he=0;try{let ae=To.decodeRow(n,r,_[1]);K.putMetadata(mt.UPC_EAN_EXTENSION,ae.getText()),K.putAllMetadata(ae.getResultMetadata()),K.addResultPoints(ae.getResultPoints()),he=ae.getText().length}catch{}let de=o==null?null:o.get(le.ALLOWED_EAN_EXTENSIONS);if(de!=null){let ae=!1;for(let Ye in de)if(he.toString()===Ye){ae=!0;break}if(!ae)throw new ee}return K}decodeEnd(n,r){return nt.findGuardPattern(n,r,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return nt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return nt.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let l=r-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;o+=u}o*=3;for(let l=r-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new Y;o+=u}return(1e3-o)%10}}class Dr extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=r[1],p=0;for(let _=0;_<6&&f<u;_++){let C=nt.decodeDigit(n,l,f,nt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let T of l)f+=T;C>=10&&(p|=1<<5-_)}o=Dr.determineFirstDigit(o,p),f=nt.findGuardPattern(n,f,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&f<u;_++){let C=nt.decodeDigit(n,l,f,nt.L_PATTERNS);o+=String.fromCharCode(48+C);for(let T of l)f+=T}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(n,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode(48+o)+n,n;throw new ee}}Dr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ga extends nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f=r[1];for(let m=0;m<4&&f<u;m++){let _=nt.decodeDigit(n,l,f,nt.L_PATTERNS);o+=String.fromCharCode(48+_);for(let C of l)f+=C}f=nt.findGuardPattern(n,f,!0,nt.MIDDLE_PATTERN,new Int32Array(nt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&f<u;m++){let _=nt.decodeDigit(n,l,f,nt.L_PATTERNS);o+=String.fromCharCode(48+_);for(let C of l)f+=C}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return fe.EAN_8}}class Xa extends nt{constructor(){super(...arguments),this.ean13Reader=new Dr}getBarcodeFormat(){return fe.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))}decodeMiddle(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let o=new Le(r.substring(1),null,null,n.getResultPoints(),fe.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new ee}reset(){this.ean13Reader.reset()}}class Gn extends nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,o){const l=this.decodeMiddleCounters.map(_=>_);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=n.getSize();let f=r[1],p=0;for(let _=0;_<6&&f<u;_++){const C=Gn.decodeDigit(n,l,f,Gn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let T of l)f+=T;C>=10&&(p|=1<<5-_)}let m=Gn.determineNumSysAndCheckDigit(o,p);return{rowOffset:f,resultString:m}}decodeEnd(n,r){return Gn.findGuardPatternWithoutCounters(n,r,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(n){return nt.checkChecksum(Gn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode(48+o),f=String.fromCharCode(48+l);return u+n+f}throw ee.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new Ve;o.append(n.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(l),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(l);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Io extends Rt{constructor(n){super();let r=n==null?null:n.get(le.POSSIBLE_FORMATS),o=[];a(r)?(o.push(new Dr),o.push(new Xa),o.push(new Ga),o.push(new Gn)):(r.indexOf(fe.EAN_13)>-1&&o.push(new Dr),r.indexOf(fe.UPC_A)>-1&&o.push(new Xa),r.indexOf(fe.EAN_8)>-1&&o.push(new Ga),r.indexOf(fe.UPC_E)>-1&&o.push(new Gn)),this.readers=o}decodeRow(n,r,o){for(let l of this.readers)try{const u=l.decodeRow(n,r,o),f=u.getBarcodeFormat()===fe.EAN_13&&u.getText().charAt(0)==="0",p=o==null?null:o.get(le.POSSIBLE_FORMATS),m=p==null||p.includes(fe.UPC_A);if(f&&m){const _=u.getRawBytes(),C=new Le(u.getText().substring(1),_,_?_.length:null,u.getResultPoints(),fe.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new ee}reset(){for(let n of this.readers)n.reset()}}class nn extends Rt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let o=0;o<r.length;o++)if(Rt.patternMatchVariance(n,r[o],nn.MAX_INDIVIDUAL_VARIANCE)<nn.MAX_AVG_VARIANCE)return o;throw new ee}static count(n){return et.sum(new Int32Array(n))}static increment(n,r){let o=0,l=r[0];for(let u=1;u<n.length;u++)r[u]>l&&(l=r[u],o=u);n[o]++}static decrement(n,r){let o=0,l=r[0];for(let u=1;u<n.length;u++)r[u]<l&&(l=r[u],o=u);n[o]--}static isFinderPattern(n){let r=n[0]+n[1],o=r+n[2]+n[3],l=r/o;if(l>=nn.MIN_FINDER_PATTERN_RATIO&&l<=nn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of n)p>f&&(f=p),p<u&&(u=p);return f<10*u}return!1}}nn.MAX_AVG_VARIANCE=.2,nn.MAX_INDIVIDUAL_VARIANCE=.45,nn.MIN_FINDER_PATTERN_RATIO=9.5/12,nn.MAX_FINDER_PATTERN_RATIO=12.5/14;class _i{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof _i))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wi{constructor(n,r,o,l,u){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ae(o,u)),this.resultPoints.push(new Ae(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof wi))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class rr{constructor(){}static getRSSvalue(n,r,o){let l=0;for(let m of n)l+=m;let u=0,f=0,p=n.length;for(let m=0;m<p-1;m++){let _;for(_=1,f|=1<<m;_<n[m];_++,f&=~(1<<m)){let C=rr.combins(l-_-1,p-m-2);if(o&&f===0&&l-_-(p-m-1)>=p-m-1&&(C-=rr.combins(l-_-(p-m),p-m-2)),p-m-1>1){let T=0;for(let I=l-_-(p-m-2);I>r;I--)T+=rr.combins(l-_-I-1,p-m-3);C-=T*(p-1-m)}else l-_>r&&C--;u+=C}l-=_}return u}static combins(n,r){let o,l;n-r>r?(l=r,o=n-r):(l=n-r,o=r);let u=1,f=1;for(let p=n;p>o;p--)u*=p,f<=l&&(u/=f,f++);for(;f<=l;)u/=f,f++;return u}}class Bu{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let o=12*r,l=new G(o),u=0,p=n[0].getRightChar().getValue();for(let m=11;m>=0;--m)p&1<<m&&l.set(u),u++;for(let m=1;m<n.length;++m){let _=n[m],C=_.getLeftChar().getValue();for(let T=11;T>=0;--T)C&1<<T&&l.set(u),u++;if(_.getRightChar()!=null){let T=_.getRightChar().getValue();for(let I=11;I>=0;--I)T&1<<I&&l.set(u),u++}}return l}}class Kr{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class No{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Ct extends No{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Ct.FNC1}}Ct.FNC1="$";class Se extends No{constructor(n,r,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Tn extends No{constructor(n,r,o){if(super(n),r<0||r>10||o<0||o>10)throw new Y;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Tn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Tn.FNC1}isAnyFNC1(){return this.firstDigit===Tn.FNC1||this.secondDigit===Tn.FNC1}}Tn.FNC1=10;class ye{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new ee;let r=n.substring(0,2);for(let u of ye.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(2,u[2],n):ye.processFixedAI(2,u[1],n);if(n.length<3)throw new ee;let o=n.substring(0,3);for(let u of ye.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(3,u[2],n):ye.processFixedAI(3,u[1],n);for(let u of ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,u[2],n):ye.processFixedAI(4,u[1],n);if(n.length<4)throw new ee;let l=n.substring(0,4);for(let u of ye.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,u[2],n):ye.processFixedAI(4,u[1],n);throw new ee}static processFixedAI(n,r,o){if(o.length<n)throw new ee;let l=o.substring(0,n);if(o.length<n+r)throw new ee;let u=o.substring(n,n+r),f=o.substring(n+r),p="("+l+")"+u,m=ye.parseFieldsInGeneralPurpose(f);return m==null?p:p+m}static processVariableAI(n,r,o){let l=o.substring(0,n),u;o.length<n+r?u=o.length:u=n+r;let f=o.substring(n,u),p=o.substring(u),m="("+l+")"+f,_=ye.parseFieldsInGeneralPurpose(p);return _==null?m:m+_}}ye.VARIABLE_LENGTH=[],ye.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ye.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ye.VARIABLE_LENGTH,20],["22",ye.VARIABLE_LENGTH,29],["30",ye.VARIABLE_LENGTH,8],["37",ye.VARIABLE_LENGTH,8],["90",ye.VARIABLE_LENGTH,30],["91",ye.VARIABLE_LENGTH,30],["92",ye.VARIABLE_LENGTH,30],["93",ye.VARIABLE_LENGTH,30],["94",ye.VARIABLE_LENGTH,30],["95",ye.VARIABLE_LENGTH,30],["96",ye.VARIABLE_LENGTH,30],["97",ye.VARIABLE_LENGTH,3],["98",ye.VARIABLE_LENGTH,30],["99",ye.VARIABLE_LENGTH,30]],ye.THREE_DIGIT_DATA_LENGTH=[["240",ye.VARIABLE_LENGTH,30],["241",ye.VARIABLE_LENGTH,30],["242",ye.VARIABLE_LENGTH,6],["250",ye.VARIABLE_LENGTH,30],["251",ye.VARIABLE_LENGTH,30],["253",ye.VARIABLE_LENGTH,17],["254",ye.VARIABLE_LENGTH,20],["400",ye.VARIABLE_LENGTH,30],["401",ye.VARIABLE_LENGTH,30],["402",17],["403",ye.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ye.VARIABLE_LENGTH,20],["421",ye.VARIABLE_LENGTH,15],["422",3],["423",ye.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ye.VARIABLE_LENGTH,15],["391",ye.VARIABLE_LENGTH,18],["392",ye.VARIABLE_LENGTH,15],["393",ye.VARIABLE_LENGTH,18],["703",ye.VARIABLE_LENGTH,30]],ye.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ye.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ye.VARIABLE_LENGTH,20],["8003",ye.VARIABLE_LENGTH,30],["8004",ye.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ye.VARIABLE_LENGTH,30],["8008",ye.VARIABLE_LENGTH,12],["8018",18],["8020",ye.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ye.VARIABLE_LENGTH,70],["8200",ye.VARIABLE_LENGTH,70]];class qr{constructor(n){this.buffer=new Ve,this.information=n}decodeAllCodes(n,r){let o=r,l=null;do{let u=this.decodeGeneralPurposeField(o,l),f=ye.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&n.append(f),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new Tn(this.information.getSize(),Tn.FNC1,Tn.FNC1):new Tn(this.information.getSize(),u-1,Tn.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),o=(r-8)/11,l=(r-8)%11;return new Tn(n+7,o,l)}extractNumericValueFromBitArray(n,r){return qr.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,o){let l=0;for(let u=0;u<o;++u)n.get(r+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Se(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Se(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new Se(this.current.getPosition(),this.buffer.toString()):r=new Se(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Kr(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new Se(this.current.getPosition(),this.buffer.toString());return new Kr(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Kr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Se(this.current.getPosition(),this.buffer.toString());return new Kr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Kr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Se(this.current.getPosition(),this.buffer.toString());return new Kr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Kr(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,8);return l>=232&&l<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Ct(n+5,Ct.FNC1);if(r>=5&&r<15)return new Ct(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new Ct(n+7,""+(o+1));if(o>=90&&o<116)return new Ct(n+7,""+(o+7));let l=this.extractNumericValueFromBitArray(n,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new Y}return new Ct(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Ct(n+5,Ct.FNC1);if(r>=5&&r<15)return new Ct(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new Ct(n+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Zn("Decoding invalid alphanumeric value: "+o)}return new Ct(n+6,l)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class bs{constructor(n){this.information=n,this.generalDecoder=new qr(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends bs{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)}encodeCompressedGtinWithoutAI(n,r,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}rn.appendCheckDigit(n,o)}static appendCheckDigit(n,r){let o=0;for(let l=0;l<13;l++){let u=n.charAt(l+r).charCodeAt(0)-48;o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),n.append(o)}}rn.GTIN_SIZE=40;class Qr extends rn{constructor(n){super(n)}parseInformation(){let n=new Ve;n.append("(01)");let r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Qr.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Qr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,Qr.HEADER_SIZE+44)}}Qr.HEADER_SIZE=4;class yr extends bs{constructor(n){super(n)}parseInformation(){let n=new Ve;return this.getGeneralDecoder().decodeAllCodes(n,yr.HEADER_SIZE)}}yr.HEADER_SIZE=5;class ts extends rn{constructor(n){super(n)}encodeCompressedWeight(n,r,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,l);let u=this.checkWeight(l),f=1e5;for(let p=0;p<5;++p)u/f===0&&n.append("0"),f/=10;n.append(u)}}class ir extends ts{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=ir.HEADER_SIZE+ts.GTIN_SIZE+ir.WEIGHT_SIZE)throw new ee;let n=new Ve;return this.encodeCompressedGtin(n,ir.HEADER_SIZE),this.encodeCompressedWeight(n,ir.HEADER_SIZE+ts.GTIN_SIZE,ir.WEIGHT_SIZE),n.toString()}}ir.HEADER_SIZE=5,ir.WEIGHT_SIZE=15;class Fu extends ir{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class zu extends ir{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class sr extends rn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<sr.HEADER_SIZE+rn.GTIN_SIZE)throw new ee;let n=new Ve;this.encodeCompressedGtin(n,sr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE+rn.GTIN_SIZE,sr.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(sr.HEADER_SIZE+rn.GTIN_SIZE+sr.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}sr.HEADER_SIZE=8,sr.LAST_DIGIT_SIZE=2;class sn extends rn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<sn.HEADER_SIZE+rn.GTIN_SIZE)throw new ee;let n=new Ve;this.encodeCompressedGtin(n,sn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+rn.GTIN_SIZE,sn.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+rn.GTIN_SIZE+sn.LAST_DIGIT_SIZE,sn.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(sn.HEADER_SIZE+rn.GTIN_SIZE+sn.LAST_DIGIT_SIZE+sn.FIRST_THREE_DIGITS_SIZE,null);return n.append(l.getNewString()),n.toString()}}sn.HEADER_SIZE=8,sn.LAST_DIGIT_SIZE=2,sn.FIRST_THREE_DIGITS_SIZE=10;class wt extends ts{constructor(n,r,o){super(n),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE+wt.DATE_SIZE)throw new ee;let n=new Ve;return this.encodeCompressedGtin(n,wt.HEADER_SIZE),this.encodeCompressedWeight(n,wt.HEADER_SIZE+wt.GTIN_SIZE,wt.WEIGHT_SIZE),this.encodeCompressedDate(n,wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,wt.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&n.append("0"),n.append(f),u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}wt.HEADER_SIZE=8,wt.WEIGHT_SIZE=20,wt.DATE_SIZE=16;function ns(S){try{if(S.get(1))return new Qr(S);if(!S.get(2))return new yr(S);switch(qr.extractNumericValueFromBitArray(S,1,4)){case 4:return new Fu(S);case 5:return new zu(S)}switch(qr.extractNumericValueFromBitArray(S,1,5)){case 12:return new sr(S);case 13:return new sn(S)}switch(qr.extractNumericValueFromBitArray(S,1,7)){case 56:return new wt(S,"310","11");case 57:return new wt(S,"320","11");case 58:return new wt(S,"310","13");case 59:return new wt(S,"320","13");case 60:return new wt(S,"310","15");case 61:return new wt(S,"320","15");case 62:return new wt(S,"310","17");case 63:return new wt(S,"320","17")}}catch(n){throw console.log(n),new Zn("unknown decoder: "+S)}}class kr{constructor(n,r,o,l){this.leftchar=n,this.rightchar=r,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof kr?kr.equalsOrNull(n.leftchar,r.leftchar)&&kr.equalsOrNull(n.rightchar,r.rightchar)&&kr.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:kr.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Oo{constructor(n,r,o){this.pairs=n,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof Oo?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let o;return n.forEach((l,u)=>{r.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class se extends nn{constructor(n){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(n,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(u){if(u instanceof ee){if(!this.pairs.length)throw new ee;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(n,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ee}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let o=r;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let f of n)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(l);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new ee}static isValidSequence(n){for(let r of se.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let o=!0;for(let l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!=r[l]){o=!1;break}if(o)return!0}return!1}storeRow(n,r){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>n){u=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),o++}u||l||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Oo(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let o of r)if(o.getPairs().length!==n.length){for(let l of o.getPairs())for(let u of n)if(kr.equals(l,u))break}}static isPartialRow(n,r){for(let o of r){let l=!0;for(let u of n){let f=!1;for(let p of o.getPairs())if(u.equals(p)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=Bu.buildBitArray(n),l=ns(r).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),f=n[n.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],f[0],f[1]];return new Le(l,null,null,p,fe.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let m=this.pairs.get(p);l+=m.getLeftChar().getChecksumPortion(),u++;let _=m.getRightChar();_!=null&&(l+=_.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==r.getValue()}static getNextSecondBar(n,r){let o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o}retrieveNextPair(n,r,o){let l=r.length%2==0;this.startFromEven&&(l=!l);let u,f=!0,p=-1;do this.findNextPair(n,r,p),u=this.parseFoundFinderPattern(n,o,l),u==null?p=se.getNextSecondBar(n,this.startEnd[0]):f=!1;while(f);let m=this.decodeDataCharacter(n,u,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ee;let _;try{_=this.decodeDataCharacter(n,u,l,!1)}catch(C){_=null,this.verbose&&console.log(C)}return new kr(m,_,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),f;o>=0?f=o:this.isEmptyPair(r)?f=0:f=r[r.length-1].getFinderPattern().getStartEnd()[1];let p=r.length%2!=0;this.startFromEven&&(p=!p);let m=!1;for(;f<u&&(m=!n.get(f),!!m);)f++;let _=0,C=f;for(let T=f;T<u;T++)if(n.get(T)!=m)l[_]++;else{if(_==3){if(p&&se.reverseCounters(l),se.isFinderPattern(l)){this.startEnd[0]=C,this.startEnd[1]=T;return}p&&se.reverseCounters(l),C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,_--}else _++;l[_]=1,m=!m}throw new ee}static reverseCounters(n){let r=n.length;for(let o=0;o<r/2;++o){let l=n[o];n[o]=n[r-o-1],n[r-o-1]=l}}parseFoundFinderPattern(n,r,o){let l,u,f;if(o){let _=this.startEnd[0]-1;for(;_>=0&&!n.get(_);)_--;_++,l=this.startEnd[0]-_,u=_,f=this.startEnd[1]}else u=this.startEnd[0],f=n.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let p=this.getDecodeFinderCounters();V.arraycopy(p,0,p,1,p.length-1),p[0]=l;let m;try{m=this.parseFinderValue(p,se.FINDER_PATTERNS)}catch{return null}return new wi(m,[u,f],u,f,r)}decodeDataCharacter(n,r,o,l){let u=this.getDataCharacterCounters();for(let ot=0;ot<u.length;ot++)u[ot]=0;if(l)se.recordPatternInReverse(n,r.getStartEnd()[0],u);else{se.recordPattern(n,r.getStartEnd()[1],u);for(let ot=0,Qt=u.length-1;ot<Qt;ot++,Qt--){let wn=u[ot];u[ot]=u[Qt],u[Qt]=wn}}let f=17,p=et.sum(new Int32Array(u))/f,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(p-m)/m>.3)throw new ee;let _=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let ot=0;ot<u.length;ot++){let Qt=1*u[ot]/p,wn=Qt+.5;if(wn<1){if(Qt<.3)throw new ee;wn=1}else if(wn>8){if(Qt>8.7)throw new ee;wn=8}let Ii=ot/2;ot&1?(C[Ii]=wn,I[Ii]=Qt-wn):(_[Ii]=wn,T[Ii]=Qt-wn)}this.adjustOddEvenCounts(f);let P=4*r.getValue()+(o?0:2)+(l?0:1)-1,z=0,U=0;for(let ot=_.length-1;ot>=0;ot--){if(se.isNotA1left(r,o,l)){let Qt=se.WEIGHTS[P][2*ot];U+=_[ot]*Qt}z+=_[ot]}let j=0;for(let ot=C.length-1;ot>=0;ot--)if(se.isNotA1left(r,o,l)){let Qt=se.WEIGHTS[P][2*ot+1];j+=C[ot]*Qt}let K=U+j;if(z&1||z>13||z<4)throw new ee;let he=(13-z)/2,de=se.SYMBOL_WIDEST[he],ae=9-de,Ye=rr.getRSSvalue(_,de,!0),Ue=rr.getRSSvalue(C,ae,!1),St=se.EVEN_TOTAL_SUBSET[he],xn=se.GSUM[he],_n=Ye*St+Ue+xn;return new _i(_n,K)}static isNotA1left(n,r,o){return!(n.getValue()==0&&r&&o)}adjustOddEvenCounts(n){let r=et.sum(new Int32Array(this.getOddCounts())),o=et.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let f=!1,p=!1;o>13?p=!0:o<4&&(f=!0);let m=r+o-n,_=(r&1)==1,C=(o&1)==0;if(m==1)if(_){if(C)throw new ee;u=!0}else{if(!C)throw new ee;p=!0}else if(m==-1)if(_){if(C)throw new ee;l=!0}else{if(!C)throw new ee;f=!0}else if(m==0){if(_){if(!C)throw new ee;r<o?(l=!0,p=!0):(u=!0,f=!0)}else if(C)throw new ee}else throw new ee;if(l){if(u)throw new ee;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new ee;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class Uu extends _i{constructor(n,r,o){super(n,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ot extends nn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,o){const l=this.decodePair(r,!1,n,o);Ot.addOrTally(this.possibleLeftPairs,l),r.reverse();let u=this.decodePair(r,!0,n,o);Ot.addOrTally(this.possibleRightPairs,u),r.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&Ot.checkChecksum(f,p))return Ot.constructResult(f,p)}throw new ee}static addOrTally(n,r){if(r==null)return;let o=!1;for(let l of n)if(l.getValue()===r.getValue()){l.incrementCount(),o=!0;break}o||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let o=4537077*n.getValue()+r.getValue(),l=new String(o).toString(),u=new Ve;for(let _=13-l.length;_>0;_--)u.append("0");u.append(l);let f=0;for(let _=0;_<13;_++){let C=u.charAt(_).charCodeAt(0)-48;f+=_&1?C:3*C}f=10-f%10,f===10&&(f=0),u.append(f.toString());let p=n.getFinderPattern().getResultPoints(),m=r.getFinderPattern().getResultPoints();return new Le(u.toString(),null,0,[p[0],p[1],m[0],m[1]],fe.RSS_14,new Date().getTime())}static checkChecksum(n,r){let o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(n,r,o,l){try{let u=this.findFinderPattern(n,r),f=this.parseFoundFinderPattern(n,o,r,u),p=l==null?null:l.get(le.NEED_RESULT_POINT_CALLBACK);if(p!=null){let C=(u[0]+u[1])/2;r&&(C=n.getSize()-1-C),p.foundPossibleResultPoint(new Ae(C,o))}let m=this.decodeDataCharacter(n,f,!0),_=this.decodeDataCharacter(n,f,!1);return new Uu(1597*m.getValue()+_.getValue(),m.getChecksumPortion()+4*_.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(n,r,o){let l=this.getDataCharacterCounters();for(let j=0;j<l.length;j++)l[j]=0;if(o)Rt.recordPatternInReverse(n,r.getStartEnd()[0],l);else{Rt.recordPattern(n,r.getStartEnd()[1]+1,l);for(let j=0,K=l.length-1;j<K;j++,K--){let he=l[j];l[j]=l[K],l[K]=he}}let u=o?16:15,f=et.sum(new Int32Array(l))/u,p=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let j=0;j<l.length;j++){let K=l[j]/f,he=Math.floor(K+.5);he<1?he=1:he>8&&(he=8);let de=Math.floor(j/2);j&1?(m[de]=he,C[de]=K-he):(p[de]=he,_[de]=K-he)}this.adjustOddEvenCounts(o,u);let T=0,I=0;for(let j=p.length-1;j>=0;j--)I*=9,I+=p[j],T+=p[j];let P=0,z=0;for(let j=m.length-1;j>=0;j--)P*=9,P+=m[j],z+=m[j];let U=I+3*P;if(o){if(T&1||T>12||T<4)throw new ee;let j=(12-T)/2,K=Ot.OUTSIDE_ODD_WIDEST[j],he=9-K,de=rr.getRSSvalue(p,K,!1),ae=rr.getRSSvalue(m,he,!0),Ye=Ot.OUTSIDE_EVEN_TOTAL_SUBSET[j],Ue=Ot.OUTSIDE_GSUM[j];return new _i(de*Ye+ae+Ue,U)}else{if(z&1||z>10||z<4)throw new ee;let j=(10-z)/2,K=Ot.INSIDE_ODD_WIDEST[j],he=9-K,de=rr.getRSSvalue(p,K,!0),ae=rr.getRSSvalue(m,he,!1),Ye=Ot.INSIDE_ODD_TOTAL_SUBSET[j],Ue=Ot.INSIDE_GSUM[j];return new _i(ae*Ye+de+Ue,U)}}findFinderPattern(n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=n.getSize(),u=!1,f=0;for(;f<l&&(u=!n.get(f),r!==u);)f++;let p=0,m=f;for(let _=f;_<l;_++)if(n.get(_)!==u)o[p]++;else{if(p===3){if(nn.isFinderPattern(o))return[m,_];m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,u=!u}throw new ee}parseFoundFinderPattern(n,r,o,l){let u=n.get(l[0]),f=l[0]-1;for(;f>=0&&u!==n.get(f);)f--;f++;const p=l[0]-f,m=this.getDecodeFinderCounters(),_=new Int32Array(m.length);V.arraycopy(m,0,_,1,m.length-1),_[0]=p;const C=this.parseFinderValue(_,Ot.FINDER_PATTERNS);let T=f,I=l[1];return o&&(T=n.getSize()-1-T,I=n.getSize()-1-I),new wi(C,[f,l[1]],T,I,r)}adjustOddEvenCounts(n,r){let o=et.sum(new Int32Array(this.getOddCounts())),l=et.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,p=!1,m=!1;n?(o>12?f=!0:o<4&&(u=!0),l>12?m=!0:l<4&&(p=!0)):(o>11?f=!0:o<5&&(u=!0),l>10?m=!0:l<4&&(p=!0));let _=o+l-r,C=(o&1)===(n?1:0),T=(l&1)===1;if(_===1)if(C){if(T)throw new ee;f=!0}else{if(!T)throw new ee;m=!0}else if(_===-1)if(C){if(T)throw new ee;u=!0}else{if(!T)throw new ee;p=!0}else if(_===0){if(C){if(!T)throw new ee;o<l?(u=!0,m=!0):(f=!0,p=!0)}else if(T)throw new ee}else throw new ee;if(u){if(f)throw new ee;nn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&nn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(m)throw new ee;nn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&nn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ot.OUTSIDE_GSUM=[0,161,961,2015,2715],Ot.INSIDE_GSUM=[0,336,1036,1516],Ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ot.INSIDE_ODD_WIDEST=[2,4,6,8],Ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Br extends Rt{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const o=n?n.get(le.POSSIBLE_FORMATS):null,l=n&&n.get(le.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(fe.EAN_13)||o.includes(fe.UPC_A)||o.includes(fe.EAN_8)||o.includes(fe.UPC_E))&&this.readers.push(new Io(n)),o.includes(fe.CODE_39)&&this.readers.push(new kt(l)),o.includes(fe.CODE_128)&&this.readers.push(new me),o.includes(fe.ITF)&&this.readers.push(new ft),o.includes(fe.RSS_14)&&this.readers.push(new Ot),o.includes(fe.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new Io(n)),this.readers.push(new kt),this.readers.push(new Io(n)),this.readers.push(new me),this.readers.push(new ft),this.readers.push(new Ot),this.readers.push(new se(this.verbose)))}decodeRow(n,r,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(n,r,o)}catch{}throw new ee}reset(){this.readers.forEach(n=>n.reset())}}class rs extends at{constructor(n=500,r){super(new Br(r),n,r)}}class it{constructor(n,r,o){this.ecCodewords=n,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class rt{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(n,r,o,l,u,f){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=f;let p=0;const m=f.getECCodewords(),_=f.getECBlocks();for(let C of _)p+=C.getCount()*(C.getDataCodewords()+m);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if(n&1||r&1)throw new Y;for(let o of je.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===r)return o;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new je(1,10,10,8,8,new it(5,new rt(1,3))),new je(2,12,12,10,10,new it(7,new rt(1,5))),new je(3,14,14,12,12,new it(10,new rt(1,8))),new je(4,16,16,14,14,new it(12,new rt(1,12))),new je(5,18,18,16,16,new it(14,new rt(1,18))),new je(6,20,20,18,18,new it(18,new rt(1,22))),new je(7,22,22,20,20,new it(20,new rt(1,30))),new je(8,24,24,22,22,new it(24,new rt(1,36))),new je(9,26,26,24,24,new it(28,new rt(1,44))),new je(10,32,32,14,14,new it(36,new rt(1,62))),new je(11,36,36,16,16,new it(42,new rt(1,86))),new je(12,40,40,18,18,new it(48,new rt(1,114))),new je(13,44,44,20,20,new it(56,new rt(1,144))),new je(14,48,48,22,22,new it(68,new rt(1,174))),new je(15,52,52,24,24,new it(42,new rt(2,102))),new je(16,64,64,14,14,new it(56,new rt(2,140))),new je(17,72,72,16,16,new it(36,new rt(4,92))),new je(18,80,80,18,18,new it(48,new rt(4,114))),new je(19,88,88,20,20,new it(56,new rt(4,144))),new je(20,96,96,22,22,new it(68,new rt(4,174))),new je(21,104,104,24,24,new it(56,new rt(6,136))),new je(22,120,120,18,18,new it(68,new rt(6,175))),new je(23,132,132,20,20,new it(62,new rt(8,163))),new je(24,144,144,22,22,new it(62,new rt(8,156),new rt(2,155))),new je(25,8,18,6,16,new it(7,new rt(1,5))),new je(26,8,32,6,14,new it(11,new rt(1,10))),new je(27,12,26,10,24,new it(14,new rt(1,16))),new je(28,12,36,10,16,new it(18,new rt(1,22))),new je(29,16,36,14,16,new it(24,new rt(1,32))),new je(30,16,48,14,22,new it(28,new rt(1,49)))]}}je.VERSIONS=je.buildVersions();class Je{constructor(n){const r=n.getHeight();if(r<8||r>144||r&1)throw new Y;this.version=Je.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new Ze(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),o=n.getWidth();return je.getVersionForDimensions(r,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,m=!1,_=!1,C=!1;do if(o===u&&l===0&&!p)n[r++]=this.readCorner1(u,f)&255,o-=2,l+=2,p=!0;else if(o===u-2&&l===0&&f&3&&!m)n[r++]=this.readCorner2(u,f)&255,o-=2,l+=2,m=!0;else if(o===u+4&&l===2&&!(f&7)&&!_)n[r++]=this.readCorner3(u,f)&255,o-=2,l+=2,_=!0;else if(o===u-2&&l===0&&(f&7)===4&&!C)n[r++]=this.readCorner4(u,f)&255,o-=2,l+=2,C=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(n[r++]=this.readUtah(o,l,u,f)&255),o-=2,l+=2;while(o>=0&&l<f);o+=1,l+=3;do o>=0&&l<f&&!this.readMappingMatrix.get(l,o)&&(n[r++]=this.readUtah(o,l,u,f)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<f);if(r!==this.version.getTotalCodewords())throw new Y;return n}readModule(n,r,o,l){return n<0&&(n+=o,r+=4-(o+4&7)),r<0&&(r+=l,n+=4-(l+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,o,l){let u=0;return this.readModule(n-2,r-2,o,l)&&(u|=1),u<<=1,this.readModule(n-2,r-1,o,l)&&(u|=1),u<<=1,this.readModule(n-1,r-2,o,l)&&(u|=1),u<<=1,this.readModule(n-1,r-1,o,l)&&(u|=1),u<<=1,this.readModule(n-1,r,o,l)&&(u|=1),u<<=1,this.readModule(n,r-2,o,l)&&(u|=1),u<<=1,this.readModule(n,r-1,o,l)&&(u|=1),u<<=1,this.readModule(n,r,o,l)&&(u|=1),u}readCorner1(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,1,n,r)&&(o|=1),o<<=1,this.readModule(n-1,2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}readCorner2(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-4,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner3(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-3,n,r)&&(o|=1),o<<=1,this.readModule(1,r-2,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner4(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new N("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=r/l|0,p=o/u|0,m=f*l,_=p*u,C=new Ze(_,m);for(let T=0;T<f;++T){const I=T*l;for(let P=0;P<p;++P){const z=P*u;for(let U=0;U<l;++U){const j=T*(l+2)+1+U,K=I+U;for(let he=0;he<u;++he){const de=P*(u+2)+1+he;if(n.get(de,j)){const ae=z+he;C.set(ae,K)}}}}}return C}}class xt{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const o=r.getECBlocks();let l=0;const u=o.getECBlocks();for(let U of u)l+=U.getCount();const f=new Array(l);let p=0;for(let U of u)for(let j=0;j<U.getCount();j++){const K=U.getDataCodewords(),he=o.getECCodewords()+K;f[p++]=new xt(K,new Uint8Array(he))}const _=f[0].codewords.length-o.getECCodewords(),C=_-1;let T=0;for(let U=0;U<C;U++)for(let j=0;j<p;j++)f[j].codewords[U]=n[T++];const I=r.getVersionNumber()===24,P=I?8:p;for(let U=0;U<P;U++)f[U].codewords[_-1]=n[T++];const z=f[0].codewords.length;for(let U=_;U<z;U++)for(let j=0;j<p;j++){const K=I?(j+8)%p:j,he=I&&K>7?U-1:U;f[K].codewords[he]=n[T++]}if(T!==n.length)throw new N;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class yi{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new N(""+n);let r=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,p=n<f?n:f,m=f-p,_=255>>8-p<<m;r=(u[l]&_)>>m,n-=p,o+=p,o===8&&(o=0,l++)}if(n>0){for(;n>=8;)r=r<<8|u[l]&255,l++,n-=8;if(n>0){const f=8-n,p=255>>f<<f;r=r<<n|(u[l]&p)>>f,o+=n}}return this.bitOffset=o,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));class In{static decode(n){const r=new yi(n),o=new Ve,l=new Ve,u=new Array;let f=yt.ASCII_ENCODE;do if(f===yt.ASCII_ENCODE)f=this.decodeAsciiSegment(r,o,l);else{switch(f){case yt.C40_ENCODE:this.decodeC40Segment(r,o);break;case yt.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(r,o,u);break;default:throw new Y}f=yt.ASCII_ENCODE}while(f!==yt.PAD_ENCODE&&r.available()>0);return l.length()>0&&o.append(l.toString()),new gi(n,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,r,o){let l=!1;do{let u=n.readBits(8);if(u===0)throw new Y;if(u<=128)return l&&(u+=128),r.append(String.fromCharCode(u-1)),yt.ASCII_ENCODE;if(u===129)return yt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&r.append("0"),r.append(""+f)}else switch(u){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new Y;break}}while(n.available()>0);return yt.ASCII_ENCODE}static decodeC40Segment(n,r){let o=!1;const l=[];let u=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(let p=0;p<3;p++){const m=l[p];switch(u){case 0:if(m<3)u=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[m];o?(r.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):r.append(_)}else throw new Y;break;case 1:o?(r.append(String.fromCharCode(m+128)),o=!1):r.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[m];o?(r.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):r.append(_)}else switch(m){case 27:r.append("");break;case 30:o=!0;break;default:throw new Y}u=0;break;case 3:o?(r.append(String.fromCharCode(m+224)),o=!1):r.append(String.fromCharCode(m+96)),u=0;break;default:throw new Y}}}while(n.available()>0)}static decodeTextSegment(n,r){let o=!1,l=[],u=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(let p=0;p<3;p++){const m=l[p];switch(u){case 0:if(m<3)u=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[m];o?(r.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):r.append(_)}else throw new Y;break;case 1:o?(r.append(String.fromCharCode(m+128)),o=!1):r.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[m];o?(r.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):r.append(_)}else switch(m){case 27:r.append("");break;case 30:o=!0;break;default:throw new Y}u=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[m];o?(r.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):r.append(_),u=0}else throw new Y;break;default:throw new Y}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const o=[];do{if(n.available()===8)return;const l=n.readBits(8);if(l===254)return;this.parseTwoBytes(l,n.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(f<14)r.append(String.fromCharCode(f+44));else if(f<40)r.append(String.fromCharCode(f+51));else throw new Y;break}}}while(n.available()>0)}static parseTwoBytes(n,r,o){let l=(n<<8)+r-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let l=n.readBits(6);if(l===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}l&32||(l|=64),r.append(String.fromCharCode(l))}}while(n.available()>0)}static decodeBase256Segment(n,r,o){let l=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),l++);let f;if(u===0?f=n.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(n.readBits(8),l++),f<0)throw new Y;const p=new Uint8Array(f);for(let m=0;m<f;m++){if(n.available()<8)throw new Y;p[m]=this.unrandomize255State(n.readBits(8),l++)}o.push(p);try{r.append(Fe.decode(p,we.ISO88591))}catch(m){throw new Zn("Platform does not support required encoding: "+m.message)}}static unrandomize255State(n,r){const o=149*r%255+1,l=n-o;return l>=0?l:l+256}}In.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],In.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],In.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],In.TEXT_SHIFT2_SET_CHARS=In.C40_SHIFT2_SET_CHARS,In.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class bo{constructor(){this.rsDecoder=new xi($e.DATA_MATRIX_FIELD_256)}decode(n){const r=new Je(n),o=r.getVersion(),l=r.readCodewords(),u=xt.getDataBlocks(l,o);let f=0;for(let _ of u)f+=_.getNumDataCodewords();const p=new Uint8Array(f),m=u.length;for(let _=0;_<m;_++){const C=u[_],T=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(T,I);for(let P=0;P<I;P++)p[P*m+_]=T[P]}return In.decode(p)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new W}for(let l=0;l<r;l++)n[l]=o[l]}}class Te{constructor(n){this.image=n,this.rectangleDetector=new _r(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ee;r=this.shiftToModuleCenter(r);const o=r[0],l=r[1],u=r[2],f=r[3];let p=this.transitionsBetween(o,f)+1,m=this.transitionsBetween(u,f)+1;(p&1)===1&&(p+=1),(m&1)===1&&(m+=1),4*p<7*m&&4*m<7*p&&(p=m=Math.max(p,m));let _=Te.sampleGrid(this.image,o,l,u,f,p,m);return new Ji(_,[o,l,u,f])}static shiftPoint(n,r,o){let l=(r.getX()-n.getX())/(o+1),u=(r.getY()-n.getY())/(o+1);return new Ae(n.getX()+l,n.getY()+u)}static moveAway(n,r,o){let l=n.getX(),u=n.getY();return l<r?l-=1:l+=1,u<o?u-=1:u+=1,new Ae(l,u)}detectSolid1(n){let r=n[0],o=n[1],l=n[3],u=n[2],f=this.transitionsBetween(r,o),p=this.transitionsBetween(o,l),m=this.transitionsBetween(l,u),_=this.transitionsBetween(u,r),C=f,T=[u,r,o,l];return C>p&&(C=p,T[0]=r,T[1]=o,T[2]=l,T[3]=u),C>m&&(C=m,T[0]=o,T[1]=l,T[2]=u,T[3]=r),C>_&&(T[0]=l,T[1]=u,T[2]=r,T[3]=o),T}detectSolid2(n){let r=n[0],o=n[1],l=n[2],u=n[3],f=this.transitionsBetween(r,u),p=Te.shiftPoint(o,l,(f+1)*4),m=Te.shiftPoint(l,o,(f+1)*4),_=this.transitionsBetween(p,r),C=this.transitionsBetween(m,u);return _<C?(n[0]=r,n[1]=o,n[2]=l,n[3]=u):(n[0]=o,n[1]=l,n[2]=u,n[3]=r),n}correctTopRight(n){let r=n[0],o=n[1],l=n[2],u=n[3],f=this.transitionsBetween(r,u),p=this.transitionsBetween(o,u),m=Te.shiftPoint(r,o,(p+1)*4),_=Te.shiftPoint(l,o,(f+1)*4);f=this.transitionsBetween(m,u),p=this.transitionsBetween(_,u);let C=new Ae(u.getX()+(l.getX()-o.getX())/(f+1),u.getY()+(l.getY()-o.getY())/(f+1)),T=new Ae(u.getX()+(r.getX()-o.getX())/(p+1),u.getY()+(r.getY()-o.getY())/(p+1));if(!this.isValid(C))return this.isValid(T)?T:null;if(!this.isValid(T))return C;let I=this.transitionsBetween(m,C)+this.transitionsBetween(_,C),P=this.transitionsBetween(m,T)+this.transitionsBetween(_,T);return I>P?C:T}shiftToModuleCenter(n){let r=n[0],o=n[1],l=n[2],u=n[3],f=this.transitionsBetween(r,u)+1,p=this.transitionsBetween(l,u)+1,m=Te.shiftPoint(r,o,p*4),_=Te.shiftPoint(l,o,f*4);f=this.transitionsBetween(m,u)+1,p=this.transitionsBetween(_,u)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);let C=(r.getX()+o.getX()+l.getX()+u.getX())/4,T=(r.getY()+o.getY()+l.getY()+u.getY())/4;r=Te.moveAway(r,C,T),o=Te.moveAway(o,C,T),l=Te.moveAway(l,C,T),u=Te.moveAway(u,C,T);let I,P;return m=Te.shiftPoint(r,o,p*4),m=Te.shiftPoint(m,u,f*4),I=Te.shiftPoint(o,r,p*4),I=Te.shiftPoint(I,l,f*4),_=Te.shiftPoint(l,u,p*4),_=Te.shiftPoint(_,o,f*4),P=Te.shiftPoint(u,l,p*4),P=Te.shiftPoint(P,r,f*4),[m,I,_,P]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,o,l,u,f,p){return wr.getInstance().sampleGrid(n,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,r.getX(),r.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(n,r){let o=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.trunc(r.getX()),f=Math.trunc(r.getY()),p=Math.abs(f-l)>Math.abs(u-o);if(p){let U=o;o=l,l=U,U=u,u=f,f=U}let m=Math.abs(u-o),_=Math.abs(f-l),C=-m/2,T=l<f?1:-1,I=o<u?1:-1,P=0,z=this.image.get(p?l:o,p?o:l);for(let U=o,j=l;U!==u;U+=I){let K=this.image.get(p?j:U,p?U:j);if(K!==z&&(P++,z=K),C+=_,C>0){if(j===f)break;j+=T,C-=m}}return P}}class ut{constructor(){this.decoder=new bo}decode(n,r=null){let o,l;if(r!=null&&r.has(le.PURE_BARCODE)){const _=ut.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(_),l=ut.NO_POINTS}else{const _=new Te(n.getBlackMatrix()).detect();o=this.decoder.decode(_.getBits()),l=_.getPoints()}const u=o.getRawBytes(),f=new Le(o.getText(),u,8*u.length,l,fe.DATA_MATRIX,V.currentTimeMillis()),p=o.getByteSegments();p!=null&&f.putMetadata(mt.BYTE_SEGMENTS,p);const m=o.getECLevel();return m!=null&&f.putMetadata(mt.ERROR_CORRECTION_LEVEL,m),f}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r==null||o==null)throw new ee;const l=this.moduleSize(r,n);let u=r[1];const f=o[1];let p=r[0];const _=(o[0]-p+1)/l,C=(f-u+1)/l;if(_<=0||C<=0)throw new ee;const T=l/2;u+=T,p+=T;const I=new Ze(_,C);for(let P=0;P<C;P++){const z=u+P*l;for(let U=0;U<_;U++)n.get(p+U*l,z)&&I.set(U,P)}return I}static moduleSize(n,r){const o=r.getWidth();let l=n[0];const u=n[1];for(;l<o&&r.get(l,u);)l++;if(l===o)throw new ee;const f=l-n[0];if(f===0)throw new ee;return f}}ut.NO_POINTS=[];class Ro extends at{constructor(n=500){super(new ut,n)}}var vr;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(vr||(vr={}));class Xe{constructor(n,r,o){this.value=n,this.stringValue=r,this.bits=o,Xe.FOR_BITS.set(o,this),Xe.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Xe.L;case"M":return Xe.M;case"Q":return Xe.Q;case"H":return Xe.H;default:throw new b(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Xe))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=Xe.FOR_BITS.size)throw new N;return Xe.FOR_BITS.get(n)}}Xe.FOR_BITS=new Map,Xe.FOR_VALUE=new Map,Xe.L=new Xe(vr.L,"L",1),Xe.M=new Xe(vr.M,"M",0),Xe.Q=new Xe(vr.Q,"Q",3),Xe.H=new Xe(vr.H,"H",2);class on{constructor(n){this.errorCorrectionLevel=Xe.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return M.bitCount(n^r)}static decodeFormatInformation(n,r){const o=on.doDecodeFormatInformation(n,r);return o!==null?o:on.doDecodeFormatInformation(n^on.FORMAT_INFO_MASK_QR,r^on.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of on.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===n||f===r)return new on(u[1]);let p=on.numBitsDiffering(n,f);p<o&&(l=u[1],o=p),n!==r&&(p=on.numBitsDiffering(r,f),p<o&&(l=u[1],o=p))}return o<=3?new on(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof on))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}on.FORMAT_INFO_MASK_QR=21522,on.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const o of r)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(n,r,...o){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const p of f)l+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new Y;try{return this.getVersionForNumber((n-17)/4)}catch{throw new Y}}static getVersionForNumber(n){if(n<1||n>40)throw new N;return xe.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<xe.VERSION_DECODE_INFO.length;l++){const u=xe.VERSION_DECODE_INFO[l];if(u===n)return xe.getVersionForNumber(l+7);const f=on.numBitsDiffering(n,u);f<r&&(o=l+7,r=f)}return r<=3?xe.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new Ze(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let f=0;f<o;f++)l===0&&(f===0||f===o-1)||l===o-1&&f===0||r.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new Z(7,new R(1,19)),new Z(10,new R(1,16)),new Z(13,new R(1,13)),new Z(17,new R(1,9))),new xe(2,Int32Array.from([6,18]),new Z(10,new R(1,34)),new Z(16,new R(1,28)),new Z(22,new R(1,22)),new Z(28,new R(1,16))),new xe(3,Int32Array.from([6,22]),new Z(15,new R(1,55)),new Z(26,new R(1,44)),new Z(18,new R(2,17)),new Z(22,new R(2,13))),new xe(4,Int32Array.from([6,26]),new Z(20,new R(1,80)),new Z(18,new R(2,32)),new Z(26,new R(2,24)),new Z(16,new R(4,9))),new xe(5,Int32Array.from([6,30]),new Z(26,new R(1,108)),new Z(24,new R(2,43)),new Z(18,new R(2,15),new R(2,16)),new Z(22,new R(2,11),new R(2,12))),new xe(6,Int32Array.from([6,34]),new Z(18,new R(2,68)),new Z(16,new R(4,27)),new Z(24,new R(4,19)),new Z(28,new R(4,15))),new xe(7,Int32Array.from([6,22,38]),new Z(20,new R(2,78)),new Z(18,new R(4,31)),new Z(18,new R(2,14),new R(4,15)),new Z(26,new R(4,13),new R(1,14))),new xe(8,Int32Array.from([6,24,42]),new Z(24,new R(2,97)),new Z(22,new R(2,38),new R(2,39)),new Z(22,new R(4,18),new R(2,19)),new Z(26,new R(4,14),new R(2,15))),new xe(9,Int32Array.from([6,26,46]),new Z(30,new R(2,116)),new Z(22,new R(3,36),new R(2,37)),new Z(20,new R(4,16),new R(4,17)),new Z(24,new R(4,12),new R(4,13))),new xe(10,Int32Array.from([6,28,50]),new Z(18,new R(2,68),new R(2,69)),new Z(26,new R(4,43),new R(1,44)),new Z(24,new R(6,19),new R(2,20)),new Z(28,new R(6,15),new R(2,16))),new xe(11,Int32Array.from([6,30,54]),new Z(20,new R(4,81)),new Z(30,new R(1,50),new R(4,51)),new Z(28,new R(4,22),new R(4,23)),new Z(24,new R(3,12),new R(8,13))),new xe(12,Int32Array.from([6,32,58]),new Z(24,new R(2,92),new R(2,93)),new Z(22,new R(6,36),new R(2,37)),new Z(26,new R(4,20),new R(6,21)),new Z(28,new R(7,14),new R(4,15))),new xe(13,Int32Array.from([6,34,62]),new Z(26,new R(4,107)),new Z(22,new R(8,37),new R(1,38)),new Z(24,new R(8,20),new R(4,21)),new Z(22,new R(12,11),new R(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new Z(30,new R(3,115),new R(1,116)),new Z(24,new R(4,40),new R(5,41)),new Z(20,new R(11,16),new R(5,17)),new Z(24,new R(11,12),new R(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new Z(22,new R(5,87),new R(1,88)),new Z(24,new R(5,41),new R(5,42)),new Z(30,new R(5,24),new R(7,25)),new Z(24,new R(11,12),new R(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new Z(24,new R(5,98),new R(1,99)),new Z(28,new R(7,45),new R(3,46)),new Z(24,new R(15,19),new R(2,20)),new Z(30,new R(3,15),new R(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new Z(28,new R(1,107),new R(5,108)),new Z(28,new R(10,46),new R(1,47)),new Z(28,new R(1,22),new R(15,23)),new Z(28,new R(2,14),new R(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new Z(30,new R(5,120),new R(1,121)),new Z(26,new R(9,43),new R(4,44)),new Z(28,new R(17,22),new R(1,23)),new Z(28,new R(2,14),new R(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new Z(28,new R(3,113),new R(4,114)),new Z(26,new R(3,44),new R(11,45)),new Z(26,new R(17,21),new R(4,22)),new Z(26,new R(9,13),new R(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new Z(28,new R(3,107),new R(5,108)),new Z(26,new R(3,41),new R(13,42)),new Z(30,new R(15,24),new R(5,25)),new Z(28,new R(15,15),new R(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new Z(28,new R(4,116),new R(4,117)),new Z(26,new R(17,42)),new Z(28,new R(17,22),new R(6,23)),new Z(30,new R(19,16),new R(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new Z(28,new R(2,111),new R(7,112)),new Z(28,new R(17,46)),new Z(30,new R(7,24),new R(16,25)),new Z(24,new R(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new Z(30,new R(4,121),new R(5,122)),new Z(28,new R(4,47),new R(14,48)),new Z(30,new R(11,24),new R(14,25)),new Z(30,new R(16,15),new R(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new Z(30,new R(6,117),new R(4,118)),new Z(28,new R(6,45),new R(14,46)),new Z(30,new R(11,24),new R(16,25)),new Z(30,new R(30,16),new R(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new Z(26,new R(8,106),new R(4,107)),new Z(28,new R(8,47),new R(13,48)),new Z(30,new R(7,24),new R(22,25)),new Z(30,new R(22,15),new R(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new Z(28,new R(10,114),new R(2,115)),new Z(28,new R(19,46),new R(4,47)),new Z(28,new R(28,22),new R(6,23)),new Z(30,new R(33,16),new R(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new Z(30,new R(8,122),new R(4,123)),new Z(28,new R(22,45),new R(3,46)),new Z(30,new R(8,23),new R(26,24)),new Z(30,new R(12,15),new R(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new R(3,117),new R(10,118)),new Z(28,new R(3,45),new R(23,46)),new Z(30,new R(4,24),new R(31,25)),new Z(30,new R(11,15),new R(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new R(7,116),new R(7,117)),new Z(28,new R(21,45),new R(7,46)),new Z(30,new R(1,23),new R(37,24)),new Z(30,new R(19,15),new R(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new R(5,115),new R(10,116)),new Z(28,new R(19,47),new R(10,48)),new Z(30,new R(15,24),new R(25,25)),new Z(30,new R(23,15),new R(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new R(13,115),new R(3,116)),new Z(28,new R(2,46),new R(29,47)),new Z(30,new R(42,24),new R(1,25)),new Z(30,new R(23,15),new R(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new R(17,115)),new Z(28,new R(10,46),new R(23,47)),new Z(30,new R(10,24),new R(35,25)),new Z(30,new R(19,15),new R(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new R(17,115),new R(1,116)),new Z(28,new R(14,46),new R(21,47)),new Z(30,new R(29,24),new R(19,25)),new Z(30,new R(11,15),new R(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new R(13,115),new R(6,116)),new Z(28,new R(14,46),new R(23,47)),new Z(30,new R(44,24),new R(7,25)),new Z(30,new R(59,16),new R(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new R(12,121),new R(7,122)),new Z(28,new R(12,47),new R(26,48)),new Z(30,new R(39,24),new R(14,25)),new Z(30,new R(22,15),new R(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new R(6,121),new R(14,122)),new Z(28,new R(6,47),new R(34,48)),new Z(30,new R(46,24),new R(10,25)),new Z(30,new R(2,15),new R(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new R(17,122),new R(4,123)),new Z(28,new R(29,46),new R(14,47)),new Z(30,new R(49,24),new R(10,25)),new Z(30,new R(24,15),new R(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new R(4,122),new R(18,123)),new Z(28,new R(13,46),new R(32,47)),new Z(30,new R(48,24),new R(14,25)),new Z(30,new R(42,15),new R(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new R(20,117),new R(4,118)),new Z(28,new R(40,47),new R(7,48)),new Z(30,new R(43,24),new R(22,25)),new Z(30,new R(10,15),new R(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new R(19,118),new R(6,119)),new Z(28,new R(18,47),new R(31,48)),new Z(30,new R(34,24),new R(34,25)),new Z(30,new R(20,15),new R(61,16)))];var vt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(vt||(vt={}));class an{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let o=0;o<r;o++)for(let l=0;l<r;l++)this.isMasked(o,l)&&n.flip(l,o)}}an.values=new Map([[vt.DATA_MASK_000,new an(vt.DATA_MASK_000,(S,n)=>(S+n&1)===0)],[vt.DATA_MASK_001,new an(vt.DATA_MASK_001,(S,n)=>(S&1)===0)],[vt.DATA_MASK_010,new an(vt.DATA_MASK_010,(S,n)=>n%3===0)],[vt.DATA_MASK_011,new an(vt.DATA_MASK_011,(S,n)=>(S+n)%3===0)],[vt.DATA_MASK_100,new an(vt.DATA_MASK_100,(S,n)=>(Math.floor(S/2)+Math.floor(n/3)&1)===0)],[vt.DATA_MASK_101,new an(vt.DATA_MASK_101,(S,n)=>S*n%6===0)],[vt.DATA_MASK_110,new an(vt.DATA_MASK_110,(S,n)=>S*n%6<3)],[vt.DATA_MASK_111,new an(vt.DATA_MASK_111,(S,n)=>(S+n+S*n%3&1)===0)]]);class is{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new Y;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const r=this.bitMatrix.getHeight();let o=0;const l=r-7;for(let u=r-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=r-8;u<r;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=on.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return xe.getVersionForNumber(r);let o=0;const l=n-11;for(let f=5;f>=0;f--)for(let p=n-9;p>=l;p--)o=this.copyBit(p,f,o);let u=xe.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let p=n-9;p>=l;p--)o=this.copyBit(f,p,o);if(u=xe.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new Y}copyBit(n,r,o){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),o=an.values.get(n.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=r.buildFunctionPattern();let f=!0;const p=new Uint8Array(r.getTotalCodewords());let m=0,_=0,C=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let I=0;I<l;I++){const P=f?l-1-I:I;for(let z=0;z<2;z++)u.get(T-z,P)||(C++,_<<=1,this.bitMatrix.get(T-z,P)&&(_|=1),C===8&&(p[m++]=_,C=0,_=0))}f=!f}if(m!==r.getTotalCodewords())throw new Y;return p}remask(){if(this.parsedFormatInfo===null)return;const n=an.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,o=n.getWidth();r<o;r++)for(let l=r+1,u=n.getHeight();l<u;l++)n.get(r,l)!==n.get(l,r)&&(n.flip(l,r),n.flip(r,l))}}class ss{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,o){if(n.length!==r.getTotalCodewords())throw new N;const l=r.getECBlocksForLevel(o);let u=0;const f=l.getECBlocks();for(const z of f)u+=z.getCount();const p=new Array(u);let m=0;for(const z of f)for(let U=0;U<z.getCount();U++){const j=z.getDataCodewords(),K=l.getECCodewordsPerBlock()+j;p[m++]=new ss(j,new Uint8Array(K))}const _=p[0].codewords.length;let C=p.length-1;for(;C>=0&&p[C].codewords.length!==_;)C--;C++;const T=_-l.getECCodewordsPerBlock();let I=0;for(let z=0;z<T;z++)for(let U=0;U<m;U++)p[U].codewords[z]=n[I++];for(let z=C;z<m;z++)p[z].codewords[T]=n[I++];const P=p[0].codewords.length;for(let z=T;z<P;z++)for(let U=0;U<m;U++){const j=U<C?z:z+1;p[U].codewords[j]=n[I++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ln;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(ln||(ln={}));class Ne{constructor(n,r,o,l){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=l,Ne.FOR_BITS.set(l,this),Ne.FOR_VALUE.set(n,this)}static forBits(n){const r=Ne.FOR_BITS.get(n);if(r===void 0)throw new N;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Ne))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(ln.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(ln.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(ln.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(ln.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(ln.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(ln.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(ln.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(ln.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(ln.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(ln.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _t{static decode(n,r,o,l){const u=new yi(n);let f=new Ve;const p=new Array;let m=-1,_=-1;try{let C=null,T=!1,I;do{if(u.available()<4)I=Ne.TERMINATOR;else{const P=u.readBits(4);I=Ne.forBits(P)}switch(I){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:T=!0;break;case Ne.STRUCTURED_APPEND:if(u.available()<16)throw new Y;m=u.readBits(8),_=u.readBits(8);break;case Ne.ECI:const P=_t.parseECIValue(u);if(C=re.getCharacterSetECIByValue(P),C===null)throw new Y;break;case Ne.HANZI:const z=u.readBits(4),U=u.readBits(I.getCharacterCountBits(r));z===_t.GB2312_SUBSET&&_t.decodeHanziSegment(u,f,U);break;default:const j=u.readBits(I.getCharacterCountBits(r));switch(I){case Ne.NUMERIC:_t.decodeNumericSegment(u,f,j);break;case Ne.ALPHANUMERIC:_t.decodeAlphanumericSegment(u,f,j,T);break;case Ne.BYTE:_t.decodeByteSegment(u,f,j,C,p,l);break;case Ne.KANJI:_t.decodeKanjiSegment(u,f,j);break;default:throw new Y}break}}while(I!==Ne.TERMINATOR)}catch{throw new Y}return new gi(n,f.toString(),p.length===0?null:p,o===null?null:o.toString(),m,_)}static decodeHanziSegment(n,r,o){if(o*13>n.available())throw new Y;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=n.readBits(13);let p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,l[u]=p>>8&255,l[u+1]=p&255,u+=2,o--}try{r.append(Fe.decode(l,we.GB2312))}catch(f){throw new Y(f)}}static decodeKanjiSegment(n,r,o){if(o*13>n.available())throw new Y;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=n.readBits(13);let p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,l[u]=p>>8,l[u+1]=p,u+=2,o--}try{r.append(Fe.decode(l,we.SHIFT_JIS))}catch(f){throw new Y(f)}}static decodeByteSegment(n,r,o,l,u,f){if(8*o>n.available())throw new Y;const p=new Uint8Array(o);for(let _=0;_<o;_++)p[_]=n.readBits(8);let m;l===null?m=we.guessEncoding(p,f):m=l.getName();try{r.append(Fe.decode(p,m))}catch(_){throw new Y(_)}u.push(p)}static toAlphaNumericChar(n){if(n>=_t.ALPHANUMERIC_CHARS.length)throw new Y;return _t.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,o,l){const u=r.length();for(;o>1;){if(n.available()<11)throw new Y;const f=n.readBits(11);r.append(_t.toAlphaNumericChar(Math.floor(f/45))),r.append(_t.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(n.available()<6)throw new Y;r.append(_t.toAlphaNumericChar(n.readBits(6)))}if(l)for(let f=u;f<r.length();f++)r.charAt(f)==="%"&&(f<r.length()-1&&r.charAt(f+1)==="%"?r.deleteCharAt(f+1):r.setCharAt(f,""))}static decodeNumericSegment(n,r,o){for(;o>=3;){if(n.available()<10)throw new Y;const l=n.readBits(10);if(l>=1e3)throw new Y;r.append(_t.toAlphaNumericChar(Math.floor(l/100))),r.append(_t.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(_t.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(n.available()<7)throw new Y;const l=n.readBits(7);if(l>=100)throw new Y;r.append(_t.toAlphaNumericChar(Math.floor(l/10))),r.append(_t.toAlphaNumericChar(l%10))}else if(o===1){if(n.available()<4)throw new Y;const l=n.readBits(4);if(l>=10)throw new Y;r.append(_t.toAlphaNumericChar(l))}}static parseECIValue(n){const r=n.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=n.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=n.readBits(16);return(r&31)<<16&4294967295|o}throw new Y}}_t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_t.GB2312_SUBSET=1;class os{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class Po{constructor(){this.rsDecoder=new xi($e.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(Ze.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const o=new is(n);let l=null;try{return this.decodeBitMatrixParser(o,r)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,r);return u.setOther(new os(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(n,r){const o=n.readVersion(),l=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),f=ss.getDataBlocks(u,o,l);let p=0;for(const C of f)p+=C.getNumDataCodewords();const m=new Uint8Array(p);let _=0;for(const C of f){const T=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(T,I);for(let P=0;P<I;P++)m[_++]=T[P]}return _t.decode(m,o,l,r)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new W}for(let l=0;l<r;l++)n[l]=o[l]}}class as extends Ae{constructor(n,r,o){super(n,r),this.estimatedModuleSize=o}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const l=(this.getX()+r)/2,u=(this.getY()+n)/2,f=(this.estimatedModuleSize+o)/2;return new as(l,u,f)}}class Jr{constructor(n,r,o,l,u,f,p){this.image=n,this.startX=r,this.startY=o,this.width=l,this.height=u,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,o=this.width,l=n+o,u=this.startY+r/2,f=new Int32Array(3),p=this.image;for(let m=0;m<r;m++){const _=u+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=n;for(;C<l&&!p.get(C,_);)C++;let T=0;for(;C<l;){if(p.get(C,_))if(T===1)f[1]++;else if(T===2){if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,_,C);if(I!==null)return I}f[0]=f[2],f[1]=1,f[2]=0,T=1}else f[++T]++;else T===1&&T++,f[T]++;C++}if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,_,l);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,o=r/2;for(let l=0;l<3;l++)if(Math.abs(r-n[l])>=o)return!1;return!0}crossCheckVertical(n,r,o,l){const u=this.image,f=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let m=n;for(;m>=0&&u.get(r,m)&&p[1]<=o;)p[1]++,m--;if(m<0||p[1]>o)return NaN;for(;m>=0&&!u.get(r,m)&&p[0]<=o;)p[0]++,m--;if(p[0]>o)return NaN;for(m=n+1;m<f&&u.get(r,m)&&p[1]<=o;)p[1]++,m++;if(m===f||p[1]>o)return NaN;for(;m<f&&!u.get(r,m)&&p[2]<=o;)p[2]++,m++;if(p[2]>o)return NaN;const _=p[0]+p[1]+p[2];return 5*Math.abs(_-l)>=2*l?NaN:this.foundPatternCross(p)?Jr.centerFromEnd(p,m):NaN}handlePossibleCenter(n,r,o){const l=n[0]+n[1]+n[2],u=Jr.centerFromEnd(n,o),f=this.crossCheckVertical(r,u,2*n[1],l);if(!isNaN(f)){const p=(n[0]+n[1]+n[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(p,f,u))return _.combineEstimate(f,u,p);const m=new as(u,f,p);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Rs extends Ae{constructor(n,r,o,l){super(n,r),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const l=this.count+1,u=(this.count*this.getX()+r)/l,f=(this.count*this.getY()+n)/l,p=(this.count*this.estimatedModuleSize+o)/l;return new Rs(u,f,p,l)}}class Lo{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wt{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(le.TRY_HARDER)!==void 0,o=n!=null&&n.get(le.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth();let p=Math.floor(3*u/(4*Wt.MAX_MODULES));(p<Wt.MIN_SKIP||r)&&(p=Wt.MIN_SKIP);let m=!1;const _=new Int32Array(5);for(let T=p-1;T<u&&!m;T+=p){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let I=0;for(let P=0;P<f;P++)if(l.get(P,T))(I&1)===1&&I++,_[I]++;else if(I&1)_[I]++;else if(I===4)if(Wt.foundPatternCross(_)){if(this.handlePossibleCenter(_,T,P,o)===!0)if(p=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>_[2]&&(T+=U-_[2]-p,P=f-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,I=3;continue}I=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,I=3;else _[++I]++;Wt.foundPatternCross(_)&&this.handlePossibleCenter(_,T,f,o)===!0&&(p=_[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Ae.orderBestPatterns(C),new Lo(C)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let u=0;u<5;u++){const f=n[u];if(f===0)return!1;r+=f}if(r<7)return!1;const o=r/7,l=o/2;return Math.abs(o-n[0])<l&&Math.abs(o-n[1])<l&&Math.abs(3*o-n[2])<3*l&&Math.abs(o-n[3])<l&&Math.abs(o-n[4])<l}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,o,l){const u=this.getCrossCheckStateCount();let f=0;const p=this.image;for(;n>=f&&r>=f&&p.get(r-f,n-f);)u[2]++,f++;if(n<f||r<f)return!1;for(;n>=f&&r>=f&&!p.get(r-f,n-f)&&u[1]<=o;)u[1]++,f++;if(n<f||r<f||u[1]>o)return!1;for(;n>=f&&r>=f&&p.get(r-f,n-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const m=p.getHeight(),_=p.getWidth();for(f=1;n+f<m&&r+f<_&&p.get(r+f,n+f);)u[2]++,f++;if(n+f>=m||r+f>=_)return!1;for(;n+f<m&&r+f<_&&!p.get(r+f,n+f)&&u[3]<o;)u[3]++,f++;if(n+f>=m||r+f>=_||u[3]>=o)return!1;for(;n+f<m&&r+f<_&&p.get(r+f,n+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-l)<2*l&&Wt.foundPatternCross(u)}crossCheckVertical(n,r,o,l){const u=this.image,f=u.getHeight(),p=this.getCrossCheckStateCount();let m=n;for(;m>=0&&u.get(r,m);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(r,m)&&p[1]<=o;)p[1]++,m--;if(m<0||p[1]>o)return NaN;for(;m>=0&&u.get(r,m)&&p[0]<=o;)p[0]++,m--;if(p[0]>o)return NaN;for(m=n+1;m<f&&u.get(r,m);)p[2]++,m++;if(m===f)return NaN;for(;m<f&&!u.get(r,m)&&p[3]<o;)p[3]++,m++;if(m===f||p[3]>=o)return NaN;for(;m<f&&u.get(r,m)&&p[4]<o;)p[4]++,m++;if(p[4]>=o)return NaN;const _=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(_-l)>=2*l?NaN:Wt.foundPatternCross(p)?Wt.centerFromEnd(p,m):NaN}crossCheckHorizontal(n,r,o,l){const u=this.image,f=u.getWidth(),p=this.getCrossCheckStateCount();let m=n;for(;m>=0&&u.get(m,r);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(m,r)&&p[1]<=o;)p[1]++,m--;if(m<0||p[1]>o)return NaN;for(;m>=0&&u.get(m,r)&&p[0]<=o;)p[0]++,m--;if(p[0]>o)return NaN;for(m=n+1;m<f&&u.get(m,r);)p[2]++,m++;if(m===f)return NaN;for(;m<f&&!u.get(m,r)&&p[3]<o;)p[3]++,m++;if(m===f||p[3]>=o)return NaN;for(;m<f&&u.get(m,r)&&p[4]<o;)p[4]++,m++;if(p[4]>=o)return NaN;const _=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(_-l)>=l?NaN:Wt.foundPatternCross(p)?Wt.centerFromEnd(p,m):NaN}handlePossibleCenter(n,r,o,l){const u=n[0]+n[1]+n[2]+n[3]+n[4];let f=Wt.centerFromEnd(n,o),p=this.crossCheckVertical(r,Math.floor(f),n[2],u);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),n[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),n[2],u)))){const m=u/7;let _=!1;const C=this.possibleCenters;for(let T=0,I=C.length;T<I;T++){const P=C[T];if(P.aboutEquals(m,p,f)){C[T]=P.combineEstimate(p,f,m),_=!0;break}}if(!_){const T=new Rs(f,p,m);C.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=Wt.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Wt.CENTER_QUORUM&&(n++,r+=f.getEstimatedModuleSize());if(n<3)return!1;const l=r/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new ee;const r=this.possibleCenters;let o;if(n>3){let l=0,u=0;for(const m of this.possibleCenters){const _=m.getEstimatedModuleSize();l+=_,u+=_*_}o=l/n;let f=Math.sqrt(u/n-o*o);r.sort((m,_)=>{const C=Math.abs(_.getEstimatedModuleSize()-o),T=Math.abs(m.getEstimatedModuleSize()-o);return C<T?-1:C>T?1:0});const p=Math.max(.2*o,f);for(let m=0;m<r.length&&r.length>3;m++){const _=r[m];Math.abs(_.getEstimatedModuleSize()-o)>p&&(r.splice(m,1),m--)}}if(r.length>3){let l=0;for(const u of r)l+=u.getEstimatedModuleSize();o=l/r.length,r.sort((u,f)=>{if(f.getCount()===u.getCount()){const p=Math.abs(f.getEstimatedModuleSize()-o),m=Math.abs(u.getEstimatedModuleSize()-o);return p<m?1:p>m?-1:0}else return f.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Wt.CENTER_QUORUM=2,Wt.MIN_SKIP=3,Wt.MAX_MODULES=57;class ke{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(le.NEED_RESULT_POINT_CALLBACK);const o=new Wt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const r=n.getTopLeft(),o=n.getTopRight(),l=n.getBottomLeft(),u=this.calculateModuleSize(r,o,l);if(u<1)throw new ee("No pattern found in proccess finder.");const f=ke.computeDimension(r,o,l,u),p=xe.getProvisionalVersionForDimension(f),m=p.getDimensionForVersion()-7;let _=null;if(p.getAlignmentPatternCenters().length>0){const P=o.getX()-r.getX()+l.getX(),z=o.getY()-r.getY()+l.getY(),U=1-3/m,j=Math.floor(r.getX()+U*(P-r.getX())),K=Math.floor(r.getY()+U*(z-r.getY()));for(let he=4;he<=16;he<<=1)try{_=this.findAlignmentInRegion(u,j,K,he);break}catch(de){if(!(de instanceof ee))throw de}}const C=ke.createTransform(r,o,l,_,f),T=ke.sampleGrid(this.image,C,f);let I;return _===null?I=[l,r,o]:I=[l,r,o,_],new Ji(T,I)}static createTransform(n,r,o,l,u){const f=u-3.5;let p,m,_,C;return l!==null?(p=l.getX(),m=l.getY(),_=f-3,C=_):(p=r.getX()-n.getX()+o.getX(),m=r.getY()-n.getY()+o.getY(),_=f,C=f),Sn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,_,C,3.5,f,n.getX(),n.getY(),r.getX(),r.getY(),p,m,o.getX(),o.getY())}static sampleGrid(n,r,o){return wr.getInstance().sampleGridWithTransform(n,o,o,r)}static computeDimension(n,r,o,l){const u=et.round(Ae.distance(n,r)/l),f=et.round(Ae.distance(n,o)/l);let p=Math.floor((u+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new ee("Dimensions could be not found.")}return p}calculateModuleSize(n,r,o){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,o,l){let u=this.sizeOfBlackWhiteBlackRun(n,r,o,l),f=1,p=n-(o-n);p<0?(f=n/(n-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-n)/(p-n),p=this.image.getWidth()-1);let m=Math.floor(r-(l-r)*f);return f=1,m<0?(f=r/(r-m),m=0):m>=this.image.getHeight()&&(f=(this.image.getHeight()-1-r)/(m-r),m=this.image.getHeight()-1),p=Math.floor(n+(p-n)*f),u+=this.sizeOfBlackWhiteBlackRun(n,r,p,m),u-1}sizeOfBlackWhiteBlackRun(n,r,o,l){const u=Math.abs(l-r)>Math.abs(o-n);if(u){let P=n;n=r,r=P,P=o,o=l,l=P}const f=Math.abs(o-n),p=Math.abs(l-r);let m=-f/2;const _=n<o?1:-1,C=r<l?1:-1;let T=0;const I=o+_;for(let P=n,z=r;P!==I;P+=_){const U=u?z:P,j=u?P:z;if(T===1===this.image.get(U,j)){if(T===2)return et.distance(P,z,n,r);T++}if(m+=p,m>0){if(z===l)break;z+=C,m-=f}}return T===2?et.distance(o+_,l,n,r):NaN}findAlignmentInRegion(n,r,o,l){const u=Math.floor(l*n),f=Math.max(0,r-u),p=Math.min(this.image.getWidth()-1,r+u);if(p-f<n*3)throw new ee("Alignment top exceeds estimated module size.");const m=Math.max(0,o-u),_=Math.min(this.image.getHeight()-1,o+u);if(_-m<n*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Jr(this.image,f,m,p-f,_-m,n,this.resultPointCallback).find()}}class Yt{constructor(){this.decoder=new Po}getDecoder(){return this.decoder}decode(n,r){let o,l;if(r!=null&&r.get(le.PURE_BARCODE)!==void 0){const m=Yt.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(m,r),l=Yt.NO_POINTS}else{const m=new ke(n.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(m.getBits(),r),l=m.getPoints()}o.getOther()instanceof os&&o.getOther().applyMirroredCorrection(l);const u=new Le(o.getText(),o.getRawBytes(),void 0,l,fe.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(mt.BYTE_SEGMENTS,f);const p=o.getECLevel();return p!==null&&u.putMetadata(mt.ERROR_CORRECTION_LEVEL,p),o.hasStructuredAppend()&&(u.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(mt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r===null||o===null)throw new ee;const l=this.moduleSize(r,n);let u=r[1],f=o[1],p=r[0],m=o[0];if(p>=m||u>=f)throw new ee;if(f-u!==m-p&&(m=p+(f-u),m>=n.getWidth()))throw new ee;const _=Math.round((m-p+1)/l),C=Math.round((f-u+1)/l);if(_<=0||C<=0)throw new ee;if(C!==_)throw new ee;const T=Math.floor(l/2);u+=T,p+=T;const I=p+Math.floor((_-1)*l)-m;if(I>0){if(I>T)throw new ee;p-=I}const P=u+Math.floor((C-1)*l)-f;if(P>0){if(P>T)throw new ee;u-=P}const z=new Ze(_,C);for(let U=0;U<C;U++){const j=u+Math.floor(U*l);for(let K=0;K<_;K++)n.get(p+Math.floor(K*l),j)&&z.set(K,U)}return z}static moduleSize(n,r){const o=r.getHeight(),l=r.getWidth();let u=n[0],f=n[1],p=!0,m=0;for(;u<l&&f<o;){if(p!==r.get(u,f)){if(++m===5)break;p=!p}u++,f++}if(u===l||f===o)throw new ee;return(u-n[0])/7}}Yt.NO_POINTS=new Array;class _e{PDF417Common(){}static getBitCountSum(n){return et.sum(n)}static toIntArray(n){if(n==null||!n.length)return _e.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let o=0;for(const l of n)r[o++]=l;return r}static getCodeword(n){const r=D.binarySearch(_e.SYMBOL_TABLE,n&262143);return r<0?-1:(_e.CODEWORD_TABLE[r]-1)%_e.NUMBER_OF_CODEWORDS}}_e.NUMBER_OF_CODEWORDS=929,_e.MAX_CODEWORDS_IN_BARCODE=_e.NUMBER_OF_CODEWORDS-1,_e.MIN_ROWS_IN_BARCODE=3,_e.MAX_ROWS_IN_BARCODE=90,_e.MODULES_IN_CODEWORD=17,_e.MODULES_IN_STOP_PATTERN=18,_e.BARS_IN_MODULE=8,_e.EMPTY_INT_ARRAY=new Int32Array([]),_e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ya{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ze{static detectMultiple(n,r,o){let l=n.getBlackMatrix(),u=ze.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=ze.detect(o,l)),new Ya(l,u)}static detect(n,r){const o=new Array;let l=0,u=0,f=!1;for(;l<r.getHeight();){const p=ze.findVertices(r,l,u);if(p[0]==null&&p[3]==null){if(!f)break;f=!1,u=0;for(const m of o)m[1]!=null&&(l=Math.trunc(Math.max(l,m[1].getY()))),m[3]!=null&&(l=Math.max(l,Math.trunc(m[3].getY())));l+=ze.ROW_STEP;continue}if(f=!0,o.push(p),!n)break;p[2]!=null?(u=Math.trunc(p[2].getX()),l=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY()))}return o}static findVertices(n,r,o){const l=n.getHeight(),u=n.getWidth(),f=new Array(8);return ze.copyToResult(f,ze.findRowsWithPattern(n,l,u,r,o,ze.START_PATTERN),ze.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),r=Math.trunc(f[4].getY())),ze.copyToResult(f,ze.findRowsWithPattern(n,l,u,r,o,ze.STOP_PATTERN),ze.INDEXES_STOP_PATTERN),f}static copyToResult(n,r,o){for(let l=0;l<o.length;l++)n[o[l]]=r[l]}static findRowsWithPattern(n,r,o,l,u,f){const p=new Array(4);let m=!1;const _=new Int32Array(f.length);for(;l<r;l+=ze.ROW_STEP){let T=ze.findGuardPattern(n,u,l,o,!1,f,_);if(T!=null){for(;l>0;){const I=ze.findGuardPattern(n,u,--l,o,!1,f,_);if(I!=null)T=I;else{l++;break}}p[0]=new Ae(T[0],l),p[1]=new Ae(T[1],l),m=!0;break}}let C=l+1;if(m){let T=0,I=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;C<r;C++){const P=ze.findGuardPattern(n,I[0],C,o,!1,f,_);if(P!=null&&Math.abs(I[0]-P[0])<ze.MAX_PATTERN_DRIFT&&Math.abs(I[1]-P[1])<ze.MAX_PATTERN_DRIFT)I=P,T=0;else{if(T>ze.SKIPPED_ROW_COUNT_MAX)break;T++}}C-=T+1,p[2]=new Ae(I[0],C),p[3]=new Ae(I[1],C)}return C-l<ze.BARCODE_MIN_HEIGHT&&D.fill(p,null),p}static findGuardPattern(n,r,o,l,u,f,p){D.fillWithin(p,0,p.length,0);let m=r,_=0;for(;n.get(m,o)&&m>0&&_++<ze.MAX_PIXEL_DRIFT;)m--;let C=m,T=0,I=f.length;for(let P=u;C<l;C++)if(n.get(C,o)!==P)p[T]++;else{if(T===I-1){if(ze.patternMatchVariance(p,f,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return new Int32Array([m,C]);m+=p[0]+p[1],V.arraycopy(p,2,p,0,T-1),p[T-1]=0,p[T]=0,T--}else T++;p[T]=1,P=!P}return T===I-1&&ze.patternMatchVariance(p,f,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE?new Int32Array([m,C-1]):null}static patternMatchVariance(n,r,o){let l=n.length,u=0,f=0;for(let _=0;_<l;_++)u+=n[_],f+=r[_];if(u<f)return 1/0;let p=u/f;o*=p;let m=0;for(let _=0;_<l;_++){let C=n[_],T=r[_]*p,I=C>T?C-T:T-C;if(I>o)return 1/0;m+=I}return m/u}}ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ze.MAX_AVG_VARIANCE=.42,ze.MAX_INDIVIDUAL_VARIANCE=.8,ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ze.MAX_PIXEL_DRIFT=3,ze.MAX_PATTERN_DRIFT=5,ze.SKIPPED_ROW_COUNT_MAX=25,ze.ROW_STEP=5,ze.BARCODE_MIN_HEIGHT=10;class Ut{constructor(n,r){if(r.length===0)throw new N;this.field=n;let o=r.length;if(o>1&&r[0]===0){let l=1;for(;l<o&&r[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),V.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let r=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)r=this.field.add(this.field.multiply(n,r),this.coefficients[l]);return r}add(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){let f=r;r=o,o=f}let l=new Int32Array(o.length),u=o.length-r.length;V.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=this.field.add(r[f-u],o[f]);return new Ut(this.field,l)}subtract(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Ut?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Ut(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,l=n.coefficients,u=l.length,f=new Int32Array(o+u-1);for(let p=0;p<o;p++){let m=r[p];for(let _=0;_<u;_++)f[p+_]=this.field.add(f[p+_],this.field.multiply(m,l[_]))}return new Ut(this.field,f)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new Ut(this.field,r)}multiplyScalar(n){if(n===0)return new Ut(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let l=0;l<r;l++)o[l]=this.field.multiply(this.coefficients[l],n);return new Ut(this.field,o)}multiplyByMonomial(n,r){if(n<0)throw new N;if(r===0)return new Ut(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+n);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],r);return new Ut(this.field,l)}toString(){let n=new Ve;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(r===0||o!==1)&&n.append(o),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class Mo{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}inverse(n){if(n===0)throw new Mr;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Er extends Mo{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let l=0;l<n;l++)this.expTable[l]=o,o=o*r%n;for(let l=0;l<n-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Ut(this,new Int32Array([0])),this.one=new Ut(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new N;if(r===0)return this.zero;let o=new Int32Array(n+1);return o[0]=r,new Ut(this,o)}}Er.PDF417_GF=new Er(_e.NUMBER_OF_CODEWORDS,3);class Ps{constructor(){this.field=Er.PDF417_GF}decode(n,r,o){let l=new Ut(this.field,n),u=new Int32Array(r),f=!1;for(let z=r;z>0;z--){let U=l.evaluateAt(this.field.exp(z));u[r-z]=U,U!==0&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(o!=null)for(const z of o){let U=this.field.exp(n.length-1-z),j=new Ut(this.field,new Int32Array([this.field.subtract(0,U),1]));p=p.multiply(j)}let m=new Ut(this.field,u),_=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),m,r),C=_[0],T=_[1],I=this.findErrorLocations(C),P=this.findErrorMagnitudes(T,C,I);for(let z=0;z<I.length;z++){let U=n.length-1-this.field.log(I[z]);if(U<0)throw W.getChecksumInstance();n[U]=this.field.subtract(n[U],P[z])}return I.length}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){let I=n;n=r,r=I}let l=n,u=r,f=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let I=l,P=f;if(l=u,f=p,l.isZero())throw W.getChecksumInstance();u=I;let z=this.field.getZero(),U=l.getCoefficient(l.getDegree()),j=this.field.inverse(U);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let K=u.getDegree()-l.getDegree(),he=this.field.multiply(u.getCoefficient(u.getDegree()),j);z=z.add(this.field.buildMonomial(K,he)),u=u.subtract(l.multiplyByMonomial(K,he))}p=z.multiply(f).subtract(P).negative()}let m=p.getCoefficient(0);if(m===0)throw W.getChecksumInstance();let _=this.field.inverse(m),C=p.multiply(_),T=u.multiply(_);return[C,T]}findErrorLocations(n){let r=n.getDegree(),o=new Int32Array(r),l=0;for(let u=1;u<this.field.getSize()&&l<r;u++)n.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==r)throw W.getChecksumInstance();return o}findErrorMagnitudes(n,r,o){let l=r.getDegree(),u=new Int32Array(l);for(let _=1;_<=l;_++)u[l-_]=this.field.multiply(_,r.getCoefficient(_));let f=new Ut(this.field,u),p=o.length,m=new Int32Array(p);for(let _=0;_<p;_++){let C=this.field.inverse(o[_]),T=this.field.subtract(0,n.evaluateAt(C)),I=this.field.inverse(f.evaluateAt(C));m[_]=this.field.multiply(T,I)}return m}}class Xn{constructor(n,r,o,l,u){n instanceof Xn?this.constructor_2(n):this.constructor_1(n,r,o,l,u)}constructor_1(n,r,o,l,u){const f=r==null||o==null,p=l==null||u==null;if(f&&p)throw new ee;f?(r=new Ae(0,l.getY()),o=new Ae(0,u.getY())):p&&(l=new Ae(n.getWidth()-1,r.getY()),u=new Ae(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=r,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new Xn(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,o){let l=this.topLeft,u=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(n>0){let m=o?this.topLeft:this.topRight,_=Math.trunc(m.getY()-n);_<0&&(_=0);let C=new Ae(m.getX(),_);o?l=C:f=C}if(r>0){let m=o?this.bottomLeft:this.bottomRight,_=Math.trunc(m.getY()+r);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let C=new Ae(m.getX(),_);o?u=C:p=C}return new Xn(this.image,l,u,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Kt{constructor(n,r,o,l){this.columnCount=n,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yn{constructor(){this.buffer=""}static form(n,r){let o=-1;function l(f,p,m,_,C,T){if(f==="%%")return"%";if(r[++o]===void 0)return;f=_?parseInt(_.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,P;switch(T){case"s":P=r[o];break;case"c":P=r[o][0];break;case"f":P=parseFloat(r[o]).toFixed(f);break;case"p":P=parseFloat(r[o]).toPrecision(f);break;case"e":P=parseFloat(r[o]).toExponential(f);break;case"x":P=parseInt(r[o]).toString(I||16);break;case"d":P=parseFloat(parseInt(r[o],I||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(I);let z=parseInt(m),U=m&&m[0]+""=="0"?"0":" ";for(;P.length<z;)P=p!==void 0?P+U:U+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}format(n,...r){this.buffer+=Yn.form(n,r)}toString(){return this.buffer}}class vi{constructor(n){this.boundingBox=new Xn(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let o=1;o<vi.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(n)-o;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(n)+o,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Yn;let r=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return n.toString()}}vi.MAX_NEARBY_DISTANCE=5;class Ei{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>n?(n=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===n&&r.push(u.getKey())}return _e.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class Ka extends vi{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=-1,_=1,C=0;for(let T=f;T<p;T++){if(r[T]==null)continue;let I=r[T],P=I.getRowNumber()-m;if(P===0)C++;else if(P===1)_=Math.max(_,C),C=1,m=I.getRowNumber();else if(P<0||I.getRowNumber()>=n.getRowCount()||P>T)r[T]=null;else{let z;_>2?z=(_-2)*P:z=P;let U=z>=T;for(let j=1;j<=z&&!U;j++)U=r[T-j]!=null;U?r[T]=null:(m=I.getRowNumber(),C=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.getCodewords(),m=-1;for(let _=u;_<f;_++){if(p[_]==null)continue;let C=p[_];C.setRowNumberAsRowIndicatorColumn();let T=C.getRowNumber()-m;T===0||(T===1?m=C.getRowNumber():C.getRowNumber()>=n.getRowCount()?p[_]=null:m=C.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new Ei,o=new Ei,l=new Ei,u=new Ei;for(let p of n){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let m=p.getValue()%30,_=p.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:o.setValue(m*3+1);break;case 1:u.setValue(m/3),l.setValue(m%3);break;case 2:r.setValue(m+1);break}}if(r.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<_e.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>_e.MAX_ROWS_IN_BARCODE)return null;let f=new Kt(r.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,f),f}removeIncorrectCodewords(n,r){for(let o=0;o<n.length;o++){let l=n[o];if(n[o]==null)continue;let u=l.getValue()%30,f=l.getRowNumber();if(f>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:u+1!==r.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ci{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=_e.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&r[o]!=null&&n[o].getRowNumber()===r[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(n[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let l=r[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[o];p!=null&&(u=Ci.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let l=r[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[o];p!=null&&(u=Ci.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,o){if(!this.detectionResultColumns[n-1])return;let l=o[r],u=this.detectionResultColumns[n-1].getCodewords(),f=u;this.detectionResultColumns[n+1]!=null&&(f=this.detectionResultColumns[n+1].getCodewords());let p=new Array(14);p[2]=u[r],p[3]=f[r],r>0&&(p[0]=o[r-1],p[4]=u[r-1],p[5]=f[r-1]),r>1&&(p[8]=o[r-2],p[10]=u[r-2],p[11]=f[r-2]),r<o.length-1&&(p[1]=o[r+1],p[6]=u[r+1],p[7]=f[r+1]),r<o.length-2&&(p[9]=o[r+2],p[12]=u[r+2],p[13]=f[r+2]);for(let m of p)if(Ci.adjustRowNumber(l,m))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Yn;for(let o=0;o<n.getCodewords().length;o++){r.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class $r{constructor(n,r,o,l){this.rowNumber=$r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==$r.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}$r.BARCODE_ROW_UNKNOWN=-1;class mn{static initialize(){for(let n=0;n<_e.SYMBOL_TABLE.length;n++){let r=_e.SYMBOL_TABLE[n],o=r&1;for(let l=0;l<_e.BARS_IN_MODULE;l++){let u=0;for(;(r&1)===o;)u+=1,r>>=1;o=r&1,mn.RATIOS_TABLE[n]||(mn.RATIOS_TABLE[n]=new Array(_e.BARS_IN_MODULE)),mn.RATIOS_TABLE[n][_e.BARS_IN_MODULE-l-1]=Math.fround(u/_e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=mn.getDecodedCodewordValue(mn.sampleBitCounts(n));return r!==-1?r:mn.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=et.sum(n),o=new Int32Array(_e.BARS_IN_MODULE),l=0,u=0;for(let f=0;f<_e.MODULES_IN_CODEWORD;f++){let p=r/(2*_e.MODULES_IN_CODEWORD)+f*r/_e.MODULES_IN_CODEWORD;u+n[l]<=p&&(u+=n[l],l++),o[l]++}return o}static getDecodedCodewordValue(n){let r=mn.getBitValue(n);return _e.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let o=0;o<n.length;o++)for(let l=0;l<n[o];l++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=et.sum(n),o=new Array(_e.BARS_IN_MODULE);if(r>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(n[f]/r);let l=Qi.MAX_VALUE,u=-1;this.bSymbolTableReady||mn.initialize();for(let f=0;f<mn.RATIOS_TABLE.length;f++){let p=0,m=mn.RATIOS_TABLE[f];for(let _=0;_<_e.BARS_IN_MODULE;_++){let C=Math.fround(m[_]-o[_]);if(p+=Math.fround(C*C),p>=l)break}p<l&&(l=p,u=_e.SYMBOL_TABLE[f])}return u}}mn.bSymbolTableReady=!1,mn.RATIOS_TABLE=new Array(_e.SYMBOL_TABLE.length).map(S=>new Array(_e.BARS_IN_MODULE));class Do{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class qe{static parseLong(n,r=void 0){return parseInt(n,r)}}class qa extends v{}qa.kind="NullPointerException";class Kn{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,o){if(n==null)throw new qa;if(r<0||r>n.length||o<0||r+o>n.length||r+o<0)throw new q;if(o===0)return;for(let l=0;l<o;l++)this.write(n[r+l])}flush(){}close(){}}class ls extends v{}class Qa extends Kn{constructor(n=32){if(super(),this.count=0,n<0)throw new N("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new ls;o=M.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new q;this.ensureCapacity(this.count+o),V.arraycopy(n,r,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var ct;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ct||(ct={}));function Ls(){if(typeof window<"u")return window.BigInt||null;if(typeof zs<"u")return zs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ms;function Cr(S){if(typeof Ms>"u"&&(Ms=Ls()),Ms===null)throw new Error("BigInt is not supported!");return Ms(S)}function Hu(){let S=[];S[0]=Cr(1);let n=Cr(900);S[1]=n;for(let r=2;r<16;r++)S[r]=S[r-1]*n;return S}class Q{static decode(n,r){let o=new Ve(""),l=re.ISO8859_1;o.enableDecoding(l);let u=1,f=n[u++],p=new Do;for(;u<n[0];){switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:u=Q.textCompaction(n,u,o);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:u=Q.byteCompaction(f,n,l,u,o);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:u=Q.numericCompaction(n,u,o);break;case Q.ECI_CHARSET:re.getCharacterSetECIByValue(n[u++]);break;case Q.ECI_GENERAL_PURPOSE:u+=2;break;case Q.ECI_USER_DEFINED:u++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Q.decodeMacroBlock(n,u,p);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new Y;default:u--,u=Q.textCompaction(n,u,o);break}if(u<n.length)f=n[u++];else throw Y.getFormatInstance()}if(o.length()===0)throw Y.getFormatInstance();let m=new gi(null,o.toString(),null,r);return m.setOther(p),m}static decodeMacroBlock(n,r,o){if(r+Q.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw Y.getFormatInstance();let l=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<Q.NUMBER_OF_SEQUENCE_CODEWORDS;p++,r++)l[p]=n[r];o.setSegmentIndex(M.parseInt(Q.decodeBase900toBase10(l,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ve;r=Q.textCompaction(n,r,u),o.setFileId(u.toString());let f=-1;for(n[r]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=r+1);r<n[0];)switch(n[r]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new Ve;r=Q.textCompaction(n,r+1,p),o.setFileName(p.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Ve;r=Q.textCompaction(n,r+1,m),o.setSender(m.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new Ve;r=Q.textCompaction(n,r+1,_),o.setAddressee(_.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Ve;r=Q.numericCompaction(n,r+1,C),o.setSegmentCount(M.parseInt(C.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new Ve;r=Q.numericCompaction(n,r+1,T),o.setTimestamp(qe.parseLong(T.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ve;r=Q.numericCompaction(n,r+1,I),o.setChecksum(M.parseInt(I.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new Ve;r=Q.numericCompaction(n,r+1,P),o.setFileSize(qe.parseLong(P.toString()));break;default:throw Y.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(f!==-1){let p=r-f;o.isLastSegment()&&p--,o.setOptionalData(D.copyOfRange(n,f,f+p))}return r}static textCompaction(n,r,o){let l=new Int32Array((n[0]-r)*2),u=new Int32Array((n[0]-r)*2),f=0,p=!1;for(;r<n[0]&&!p;){let m=n[r++];if(m<Q.TEXT_COMPACTION_MODE_LATCH)l[f]=m/30,l[f+1]=m%30,f+=2;else switch(m){case Q.TEXT_COMPACTION_MODE_LATCH:l[f++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:r--,p=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=n[r++],u[f]=m,f++;break}}return Q.decodeTextCompaction(l,u,f,o),r}static decodeTextCompaction(n,r,o,l){let u=ct.ALPHA,f=ct.ALPHA,p=0;for(;p<o;){let m=n[p],_="";switch(u){case ct.ALPHA:if(m<26)_=String.fromCharCode(65+m);else switch(m){case 26:_=" ";break;case Q.LL:u=ct.LOWER;break;case Q.ML:u=ct.MIXED;break;case Q.PS:f=u,u=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[p]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=ct.ALPHA;break}break;case ct.LOWER:if(m<26)_=String.fromCharCode(97+m);else switch(m){case 26:_=" ";break;case Q.AS:f=u,u=ct.ALPHA_SHIFT;break;case Q.ML:u=ct.MIXED;break;case Q.PS:f=u,u=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[p]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=ct.ALPHA;break}break;case ct.MIXED:if(m<Q.PL)_=Q.MIXED_CHARS[m];else switch(m){case Q.PL:u=ct.PUNCT;break;case 26:_=" ";break;case Q.LL:u=ct.LOWER;break;case Q.AL:u=ct.ALPHA;break;case Q.PS:f=u,u=ct.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[p]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=ct.ALPHA;break}break;case ct.PUNCT:if(m<Q.PAL)_=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:u=ct.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[p]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=ct.ALPHA;break}break;case ct.ALPHA_SHIFT:if(u=f,m<26)_=String.fromCharCode(65+m);else switch(m){case 26:_=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:u=ct.ALPHA;break}break;case ct.PUNCT_SHIFT:if(u=f,m<Q.PAL)_=Q.PUNCT_CHARS[m];else switch(m){case Q.PAL:u=ct.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[p]);break;case Q.TEXT_COMPACTION_MODE_LATCH:u=ct.ALPHA;break}break}_!==""&&l.append(_),p++}}static byteCompaction(n,r,o,l,u){let f=new Qa,p=0,m=0,_=!1;switch(n){case Q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),T=r[l++];for(;l<r[0]&&!_;)switch(C[p++]=T,m=900*m+T,T=r[l++],T){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,_=!0;break;default:if(p%5===0&&p>0){for(let I=0;I<6;++I)f.write(Number(Cr(m)>>Cr(8*(5-I))));m=0,p=0}break}l===r[0]&&T<Q.TEXT_COMPACTION_MODE_LATCH&&(C[p++]=T);for(let I=0;I<p;I++)f.write(C[I]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!_;){let I=r[l++];if(I<Q.TEXT_COMPACTION_MODE_LATCH)p++,m=900*m+I;else switch(I){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,_=!0;break}if(p%5===0&&p>0){for(let P=0;P<6;++P)f.write(Number(Cr(m)>>Cr(8*(5-P))));m=0,p=0}}break}return u.append(Fe.decode(f.toByteArray(),o)),l}static numericCompaction(n,r,o){let l=0,u=!1,f=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!u;){let p=n[r++];if(r===n[0]&&(u=!0),p<Q.TEXT_COMPACTION_MODE_LATCH)f[l]=p,l++;else switch(p){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(l%Q.MAX_NUMERIC_CODEWORDS===0||p===Q.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(Q.decodeBase900toBase10(f,l)),l=0)}return r}static decodeBase900toBase10(n,r){let o=Cr(0);for(let u=0;u<r;u++)o+=Q.EXP900[r-u-1]*Cr(n[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new Y;return l.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Ls()?Hu():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class He{constructor(){}static decode(n,r,o,l,u,f,p){let m=new Xn(n,r,o,l,u),_=null,C=null,T;for(let z=!0;;z=!1){if(r!=null&&(_=He.getRowIndicatorColumn(n,m,r,!0,f,p)),l!=null&&(C=He.getRowIndicatorColumn(n,m,l,!1,f,p)),T=He.merge(_,C),T==null)throw ee.getNotFoundInstance();let U=T.getBoundingBox();if(z&&U!=null&&(U.getMinY()<m.getMinY()||U.getMaxY()>m.getMaxY()))m=U;else break}T.setBoundingBox(m);let I=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,_),T.setDetectionResultColumn(I,C);let P=_!=null;for(let z=1;z<=I;z++){let U=P?z:I-z;if(T.getDetectionResultColumn(U)!==void 0)continue;let j;U===0||U===I?j=new Ka(m,U===0):j=new vi(m),T.setDetectionResultColumn(U,j);let K=-1,he=K;for(let de=m.getMinY();de<=m.getMaxY();de++){if(K=He.getStartColumn(T,U,de,P),K<0||K>m.getMaxX()){if(he===-1)continue;K=he}let ae=He.detectCodeword(n,m.getMinX(),m.getMaxX(),P,K,de,f,p);ae!=null&&(j.setCodeword(de,ae),he=K,f=Math.min(f,ae.getWidth()),p=Math.max(p,ae.getWidth()))}}return He.createDecoderResult(T)}static merge(n,r){if(n==null&&r==null)return null;let o=He.getBarcodeMetadata(n,r);if(o==null)return null;let l=Xn.merge(He.adjustBoundingBox(n),He.adjustBoundingBox(r));return new Ci(o,l)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let o=He.getMax(r),l=0;for(let p of r)if(l+=o-p,p>0)break;let u=n.getCodewords();for(let p=0;l>0&&u[p]==null;p++)l--;let f=0;for(let p=r.length-1;p>=0&&(f+=o-r[p],!(r[p]>0));p--);for(let p=u.length-1;f>0&&u[p]==null;p--)f--;return n.getBoundingBox().addMissingRows(l,f,n.isLeft())}static getMax(n){let r=-1;for(let o of n)r=Math.max(r,o);return r}static getBarcodeMetadata(n,r){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(n,r,o,l,u,f){let p=new Ka(r,l);for(let m=0;m<2;m++){let _=m===0?1:-1,C=Math.trunc(Math.trunc(o.getX()));for(let T=Math.trunc(Math.trunc(o.getY()));T<=r.getMaxY()&&T>=r.getMinY();T+=_){let I=He.detectCodeword(n,0,n.getWidth(),l,C,T,u,f);I!=null&&(p.setCodeword(T,I),l?C=I.getStartX():C=I.getEndX())}}return p}static adjustCodewordCount(n,r){let o=r[0][1],l=o.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-He.getNumberOfECCodeWords(n.getBarcodeECLevel());if(l.length===0){if(u<1||u>_e.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(n){let r=He.createBarcodeMatrix(n);He.adjustCodewordCount(n,r);let o=new Array,l=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],f=new Array;for(let m=0;m<n.getBarcodeRowCount();m++)for(let _=0;_<n.getBarcodeColumnCount();_++){let C=r[m][_+1].getValue(),T=m*n.getBarcodeColumnCount()+_;C.length===0?o.push(T):C.length===1?l[T]=C[0]:(f.push(T),u.push(C))}let p=new Array(u.length);for(let m=0;m<p.length;m++)p[m]=u[m];return He.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),l,_e.toIntArray(o),_e.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(n,r,o,l,u){let f=new Int32Array(l.length),p=100;for(;p-- >0;){for(let m=0;m<f.length;m++)r[l[m]]=u[m][f[m]];try{return He.decodeCodewords(r,n,o)}catch(m){if(!(m instanceof W))throw m}if(f.length===0)throw W.getChecksumInstance();for(let m=0;m<f.length;m++)if(f[m]<u[m].length-1){f[m]++;break}else if(f[m]=0,m===f.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let u=0;u<r[l].length;u++)r[l][u]=new Ei;let o=0;for(let l of n.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][o].setValue(u.getValue())}}}o++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,o,l){let u=l?1:-1,f=null;if(He.isValidBarcodeColumn(n,r-u)&&(f=n.getDetectionResultColumn(r-u).getCodeword(o)),f!=null)return l?f.getEndX():f.getStartX();if(f=n.getDetectionResultColumn(r).getCodewordNearby(o),f!=null)return l?f.getStartX():f.getEndX();if(He.isValidBarcodeColumn(n,r-u)&&(f=n.getDetectionResultColumn(r-u).getCodewordNearby(o)),f!=null)return l?f.getEndX():f.getStartX();let p=0;for(;He.isValidBarcodeColumn(n,r-u);){r-=u;for(let m of n.getDetectionResultColumn(r).getCodewords())if(m!=null)return(l?m.getEndX():m.getStartX())+u*p*(m.getEndX()-m.getStartX());p++}return l?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,o,l,u,f,p,m){u=He.adjustCodewordStartColumn(n,r,o,l,u,f);let _=He.getModuleBitCount(n,r,o,l,u,f);if(_==null)return null;let C,T=et.sum(_);if(l)C=u+T;else{for(let z=0;z<_.length/2;z++){let U=_[z];_[z]=_[_.length-1-z],_[_.length-1-z]=U}C=u,u=C-T}if(!He.checkCodewordSkew(T,p,m))return null;let I=mn.getDecodedValue(_),P=_e.getCodeword(I);return P===-1?null:new $r(u,C,He.getCodewordBucketNumber(I),P)}static getModuleBitCount(n,r,o,l,u,f){let p=u,m=new Int32Array(8),_=0,C=l?1:-1,T=l;for(;(l?p<o:p>=r)&&_<m.length;)n.get(p,f)===T?(m[_]++,p+=C):(_++,T=!T);return _===m.length||p===(l?o:r)&&_===m.length-1?m:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,o,l,u,f){let p=u,m=l?-1:1;for(let _=0;_<2;_++){for(;(l?p>=r:p<o)&&l===n.get(p,f);){if(Math.abs(u-p)>He.CODEWORD_SKEW_SIZE)return u;p+=m}m=-m,l=!l}return p}static checkCodewordSkew(n,r,o){return r-He.CODEWORD_SKEW_SIZE<=n&&n<=o+He.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,o){if(n.length===0)throw Y.getFormatInstance();let l=1<<r+1,u=He.correctErrors(n,o,l);He.verifyCodewordCount(n,l);let f=Q.decode(n,""+r);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(n,r,o){if(r!=null&&r.length>o/2+He.MAX_ERRORS||o<0||o>He.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return He.errorCorrection.decode(n,o,r)}static verifyCodewordCount(n,r){if(n.length<4)throw Y.getFormatInstance();let o=n[0];if(o>n.length)throw Y.getFormatInstance();if(o===0)if(r<n.length)n[0]=n.length-r;else throw Y.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),o=0,l=r.length-1;for(;!((n&1)!==o&&(o=n&1,l--,l<0));)r[l]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return He.getCodewordBucketNumber(He.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new Yn;for(let o=0;o<n.length;o++){r.format("Row %2d: ",o);for(let l=0;l<n[o].length;l++){let u=n[o][l];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}He.CODEWORD_SKEW_SIZE=2,He.MAX_ERRORS=3,He.MAX_EC_CODEWORDS=512,He.errorCorrection=new Ps;class qt{decode(n,r=null){let o=qt.decode(n,r,!1);if(o==null||o.length===0||o[0]==null)throw ee.getNotFoundInstance();return o[0]}decodeMultiple(n,r=null){try{return qt.decode(n,r,!0)}catch(o){throw o instanceof Y||o instanceof W?ee.getNotFoundInstance():o}}static decode(n,r,o){const l=new Array,u=ze.detectMultiple(n,r,o);for(const f of u.getPoints()){const p=He.decode(u.getBits(),f[4],f[5],f[6],f[7],qt.getMinCodewordWidth(f),qt.getMaxCodewordWidth(f)),m=new Le(p.getText(),p.getRawBytes(),void 0,f,fe.PDF_417);m.putMetadata(mt.ERROR_CORRECTION_LEVEL,p.getECLevel());const _=p.getOther();_!=null&&m.putMetadata(mt.PDF417_EXTRA_METADATA,_),l.push(m)}return l.map(f=>f)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?M.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(qt.getMaxWidth(n[0],n[4]),qt.getMaxWidth(n[6],n[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.max(qt.getMaxWidth(n[1],n[5]),qt.getMaxWidth(n[7],n[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(qt.getMinWidth(n[0],n[4]),qt.getMinWidth(n[6],n[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.min(qt.getMinWidth(n[1],n[5]),qt.getMinWidth(n[7],n[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}reset(){}}class Nn extends v{}Nn.kind="ReaderException";class Ja{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!a(n)&&n.get(le.TRY_HARDER)===!0,o=a(n)?null:n.get(le.POSSIBLE_FORMATS),l=new Array;if(!a(o)){const u=o.some(f=>f===fe.UPC_A||f===fe.UPC_E||f===fe.EAN_13||f===fe.EAN_8||f===fe.CODABAR||f===fe.CODE_39||f===fe.CODE_93||f===fe.CODE_128||f===fe.ITF||f===fe.RSS_14||f===fe.RSS_EXPANDED);u&&!r&&l.push(new Br(n,this.verbose)),o.includes(fe.QR_CODE)&&l.push(new Yt),o.includes(fe.DATA_MATRIX)&&l.push(new ut),o.includes(fe.AZTEC)&&l.push(new $i),o.includes(fe.PDF_417)&&l.push(new qt),u&&r&&l.push(new Br(n,this.verbose))}l.length===0&&(r||l.push(new Br(n,this.verbose)),l.push(new Yt),l.push(new ut),l.push(new $i),l.push(new qt),r&&l.push(new Br(n,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Nn("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(o){if(o instanceof Nn)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class $a extends at{constructor(n=null,r=500){const o=new Ja;o.setHints(n),super(o,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Fr extends at{constructor(n=500){super(new qt,n)}}class el extends at{constructor(n=500){super(new Yt,n)}}var Ds;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Ds||(Ds={}));var Pt=Ds;class ko{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new tn(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let o=r[r.length-1];const l=this.field;for(let u=r.length;u<=n;u++){const f=o.multiply(new tn(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));r.push(f),o=f}}return r[n]}encode(n,r){if(r===0)throw new N("No error correction bytes");const o=n.length-r;if(o<=0)throw new N("No data bytes provided");const l=this.buildGenerator(r),u=new Int32Array(o);V.arraycopy(n,0,u,0,o);let f=new tn(this.field,u);f=f.multiplyByMonomial(r,1);const m=f.divide(l)[1].getCoefficients(),_=r-m.length;for(let C=0;C<_;C++)n[o+C]=0;V.arraycopy(m,0,n,o+_,m.length)}}class At{constructor(){}static applyMaskPenaltyRule1(n){return At.applyMaskPenaltyRule1Internal(n,!0)+At.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const o=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let f=0;f<u-1;f++){const p=o[f];for(let m=0;m<l-1;m++){const _=p[m];_===p[m+1]&&_===o[f+1][m]&&_===o[f+1][m+1]&&r++}}return At.N2*r}static applyMaskPenaltyRule3(n){let r=0;const o=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let f=0;f<u;f++)for(let p=0;p<l;p++){const m=o[f];p+6<l&&m[p]===1&&m[p+1]===0&&m[p+2]===1&&m[p+3]===1&&m[p+4]===1&&m[p+5]===0&&m[p+6]===1&&(At.isWhiteHorizontal(m,p-4,p)||At.isWhiteHorizontal(m,p+7,p+11))&&r++,f+6<u&&o[f][p]===1&&o[f+1][p]===0&&o[f+2][p]===1&&o[f+3][p]===1&&o[f+4][p]===1&&o[f+5][p]===0&&o[f+6][p]===1&&(At.isWhiteVertical(o,p,f-4,f)||At.isWhiteVertical(o,p,f+7,f+11))&&r++}return r*At.N3}static isWhiteHorizontal(n,r,o){r=Math.max(r,0),o=Math.min(o,n.length);for(let l=r;l<o;l++)if(n[l]===1)return!1;return!0}static isWhiteVertical(n,r,o,l){o=Math.max(o,0),l=Math.min(l,n.length);for(let u=o;u<l;u++)if(n[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const o=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let m=0;m<u;m++){const _=o[m];for(let C=0;C<l;C++)_[C]===1&&r++}const f=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-f)*10/f)*At.N4}static getDataMaskBit(n,r,o){let l,u;switch(n){case 0:l=o+r&1;break;case 1:l=o&1;break;case 2:l=r%3;break;case 3:l=(o+r)%3;break;case 4:l=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:u=o*r,l=(u&1)+u%3;break;case 6:u=o*r,l=(u&1)+u%3&1;break;case 7:u=o*r,l=u%3+(o+r&1)&1;break;default:throw new N("Invalid mask pattern: "+n)}return l===0}static applyMaskPenaltyRule1Internal(n,r){let o=0;const l=r?n.getHeight():n.getWidth(),u=r?n.getWidth():n.getHeight(),f=n.getArray();for(let p=0;p<l;p++){let m=0,_=-1;for(let C=0;C<u;C++){const T=r?f[p][C]:f[C][p];T===_?m++:(m>=5&&(o+=At.N1+(m-5)),m=1,_=T)}m>=5&&(o+=At.N1+(m-5))}return o}}At.N1=3,At.N2=3,At.N3=40,At.N4=10;class us{constructor(n,r){this.width=n,this.height=r;const o=new Array(r);for(let l=0;l!==r;l++)o[l]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,o){this.bytes[r][n]=o}setBoolean(n,r,o){this.bytes[r][n]=o?1:0}clear(n){for(const r of this.bytes)D.fill(r,n)}equals(n){if(!(n instanceof us))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],f=r.bytes[o];for(let p=0,m=this.width;p<m;++p)if(u[p]!==f[p])return!1}return!0}toString(){const n=new Ve;for(let r=0,o=this.height;r<o;++r){const l=this.bytes[r];for(let u=0,f=this.width;u<f;++u)switch(l[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class ei{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Ve;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<ei.NUM_MASK_PATTERNS}}ei.NUM_MASK_PATTERNS=8;class ht extends v{}ht.kind="WriterException";class Re{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,o,l,u){Re.clearMatrix(u),Re.embedBasicPatterns(o,u),Re.embedTypeInfo(r,l,u),Re.maybeEmbedVersionInfo(o,u),Re.embedDataBits(n,l,u)}static embedBasicPatterns(n,r){Re.embedPositionDetectionPatternsAndSeparators(r),Re.embedDarkDotAtLeftBottomCorner(r),Re.maybeEmbedPositionAdjustmentPatterns(n,r),Re.embedTimingPatterns(r)}static embedTypeInfo(n,r,o){const l=new G;Re.makeTypeInfoBits(n,r,l);for(let u=0,f=l.getSize();u<f;++u){const p=l.get(l.getSize()-1-u),m=Re.TYPE_INFO_COORDINATES[u],_=m[0],C=m[1];if(o.setBoolean(_,C,p),u<8){const T=o.getWidth()-u-1;o.setBoolean(T,8,p)}else{const I=o.getHeight()-7+(u-8);o.setBoolean(8,I,p)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const o=new G;Re.makeVersionInfoBits(n,o);let l=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const p=o.get(l);l--,r.setBoolean(u,r.getHeight()-11+f,p),r.setBoolean(r.getHeight()-11+f,u,p)}}static embedDataBits(n,r,o){let l=0,u=-1,f=o.getWidth()-1,p=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);p>=0&&p<o.getHeight();){for(let m=0;m<2;++m){const _=f-m;if(!Re.isEmpty(o.get(_,p)))continue;let C;l<n.getSize()?(C=n.get(l),++l):C=!1,r!==255&&At.getDataMaskBit(r,_,p)&&(C=!C),o.setBoolean(_,p,C)}p+=u}u=-u,p+=u,f-=2}if(l!==n.getSize())throw new ht("Not all bits consumed: "+l+"/"+n.getSize())}static findMSBSet(n){return 32-M.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new N("0 polynomial");const o=Re.findMSBSet(r);for(n<<=o-1;Re.findMSBSet(n)>=o;)n^=r<<Re.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,r,o){if(!ei.isValidMaskPattern(r))throw new ht("Invalid mask pattern");const l=n.getBits()<<3|r;o.appendBits(l,5);const u=Re.calculateBCHCode(l,Re.TYPE_INFO_POLY);o.appendBits(u,10);const f=new G;if(f.appendBits(Re.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new ht("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const o=Re.calculateBCHCode(n.getVersionNumber(),Re.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new ht("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const o=(r+1)%2;Re.isEmpty(n.get(r,6))&&n.setNumber(r,6,o),Re.isEmpty(n.get(6,r))&&n.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new ht;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,o){for(let l=0;l<8;++l){if(!Re.isEmpty(o.get(n+l,r)))throw new ht;o.setNumber(n+l,r,0)}}static embedVerticalSeparationPattern(n,r,o){for(let l=0;l<7;++l){if(!Re.isEmpty(o.get(n,r+l)))throw new ht;o.setNumber(n,r+l,0)}}static embedPositionAdjustmentPattern(n,r,o){for(let l=0;l<5;++l){const u=Re.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)o.setNumber(n+f,r+l,u[f])}}static embedPositionDetectionPattern(n,r,o){for(let l=0;l<7;++l){const u=Re.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)o.setNumber(n+f,r+l,u[f])}}static embedPositionDetectionPatternsAndSeparators(n){const r=Re.POSITION_DETECTION_PATTERN[0].length;Re.embedPositionDetectionPattern(0,0,n),Re.embedPositionDetectionPattern(n.getWidth()-r,0,n),Re.embedPositionDetectionPattern(0,n.getWidth()-r,n);const o=8;Re.embedHorizontalSeparationPattern(0,o-1,n),Re.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),Re.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const l=7;Re.embedVerticalSeparationPattern(l,0,n),Re.embedVerticalSeparationPattern(n.getHeight()-l-1,0,n),Re.embedVerticalSeparationPattern(l,n.getHeight()-l,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,l=Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=l.length;u!==f;u++){const p=l[u];if(p>=0)for(let m=0;m!==f;m++){const _=l[m];_>=0&&Re.isEmpty(r.get(_,p))&&Re.embedPositionAdjustmentPattern(_-2,p-2,r)}}}}Re.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Re.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Re.VERSION_INFO_POLY=7973,Re.TYPE_INFO_POLY=1335,Re.TYPE_INFO_MASK_PATTERN=21522;class Vu{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class gt{constructor(){}static calculateMaskPenalty(n){return At.applyMaskPenaltyRule1(n)+At.applyMaskPenaltyRule2(n)+At.applyMaskPenaltyRule3(n)+At.applyMaskPenaltyRule4(n)}static encode(n,r,o=null){let l=gt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(Pt.CHARACTER_SET)!==void 0;u&&(l=o.get(Pt.CHARACTER_SET).toString());const f=this.chooseMode(n,l),p=new G;if(f===Ne.BYTE&&(u||gt.DEFAULT_BYTE_MODE_ENCODING!==l)){const de=re.getCharacterSetECIByName(l);de!==void 0&&this.appendECI(de,p)}this.appendModeInfo(f,p);const m=new G;this.appendBytes(n,f,m,l);let _;if(o!==null&&o.get(Pt.QR_VERSION)!==void 0){const de=Number.parseInt(o.get(Pt.QR_VERSION).toString(),10);_=xe.getVersionForNumber(de);const ae=this.calculateBitsNeeded(f,p,m,_);if(!this.willFit(ae,_,r))throw new ht("Data too big for requested version")}else _=this.recommendVersion(r,f,p,m);const C=new G;C.appendBitArray(p);const T=f===Ne.BYTE?m.getSizeInBytes():n.length;this.appendLengthInfo(T,_,f,C),C.appendBitArray(m);const I=_.getECBlocksForLevel(r),P=_.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(P,C);const z=this.interleaveWithECBytes(C,_.getTotalCodewords(),P,I.getNumBlocks()),U=new ei;U.setECLevel(r),U.setMode(f),U.setVersion(_);const j=_.getDimensionForVersion(),K=new us(j,j),he=this.chooseMaskPattern(z,r,_,K);return U.setMaskPattern(he),Re.buildMatrix(z,r,_,he,K),U.setMatrix(K),U}static recommendVersion(n,r,o,l){const u=this.calculateBitsNeeded(r,o,l,xe.getVersionForNumber(1)),f=this.chooseVersion(u,n),p=this.calculateBitsNeeded(r,o,l,f);return this.chooseVersion(p,n)}static calculateBitsNeeded(n,r,o,l){return r.getSize()+n.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(n){return n<gt.ALPHANUMERIC_TABLE.length?gt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(re.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return Ne.KANJI;let o=!1,l=!1;for(let u=0,f=n.length;u<f;++u){const p=n.charAt(u);if(gt.isDigit(p))o=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)l=!0;else return Ne.BYTE}return l?Ne.ALPHANUMERIC:o?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=Fe.encode(n,re.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=r[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,r,o,l){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<ei.NUM_MASK_PATTERNS;p++){Re.buildMatrix(n,r,o,p,l);let m=this.calculateMaskPenalty(l);m<u&&(u=m,f=p)}return f}static chooseVersion(n,r){for(let o=1;o<=40;o++){const l=xe.getVersionForNumber(o);if(gt.willFit(n,l,r))return l}throw new ht("Data too big")}static willFit(n,r,o){const l=r.getTotalCodewords(),f=r.getECBlocksForLevel(o).getTotalECCodewords(),p=l-f,m=(n+7)/8;return p>=m}static terminateBits(n,r){const o=n*8;if(r.getSize()>o)throw new ht("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let f=0;f<4&&r.getSize()<o;++f)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let f=l;f<8;f++)r.appendBit(!1);const u=n-r.getSizeInBytes();for(let f=0;f<u;++f)r.appendBits(f&1?17:236,8);if(r.getSize()!==o)throw new ht("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,o,l,u,f){if(l>=o)throw new ht("Block ID too large");const p=n%o,m=o-p,_=Math.floor(n/o),C=_+1,T=Math.floor(r/o),I=T+1,P=_-T,z=C-I;if(P!==z)throw new ht("EC bytes mismatch");if(o!==m+p)throw new ht("RS blocks mismatch");if(n!==(T+P)*m+(I+z)*p)throw new ht("Total bytes mismatch");l<m?(u[0]=T,f[0]=P):(u[0]=I,f[0]=z)}static interleaveWithECBytes(n,r,o,l){if(n.getSizeInBytes()!==o)throw new ht("Number of bits and data bytes does not match");let u=0,f=0,p=0;const m=new Array;for(let C=0;C<l;++C){const T=new Int32Array(1),I=new Int32Array(1);gt.getNumDataBytesAndNumECBytesForBlockID(r,o,l,C,T,I);const P=T[0],z=new Uint8Array(P);n.toBytes(8*u,z,0,P);const U=gt.generateECBytes(z,I[0]);m.push(new Vu(z,U)),f=Math.max(f,P),p=Math.max(p,U.length),u+=T[0]}if(o!==u)throw new ht("Data bytes does not match offset");const _=new G;for(let C=0;C<f;++C)for(const T of m){const I=T.getDataBytes();C<I.length&&_.appendBits(I[C],8)}for(let C=0;C<p;++C)for(const T of m){const I=T.getErrorCorrectionBytes();C<I.length&&_.appendBits(I[C],8)}if(r!==_.getSizeInBytes())throw new ht("Interleaving error: "+r+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(n,r){const o=n.length,l=new Int32Array(o+r);for(let f=0;f<o;f++)l[f]=n[f]&255;new ko($e.QR_CODE_FIELD_256).encode(l,r);const u=new Uint8Array(r);for(let f=0;f<r;f++)u[f]=l[o+f];return u}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,o,l){const u=o.getCharacterCountBits(r);if(n>=1<<u)throw new ht(n+" is bigger than "+((1<<u)-1));l.appendBits(n,u)}static appendBytes(n,r,o,l){switch(r){case Ne.NUMERIC:gt.appendNumericBytes(n,o);break;case Ne.ALPHANUMERIC:gt.appendAlphanumericBytes(n,o);break;case Ne.BYTE:gt.append8BitBytes(n,o,l);break;case Ne.KANJI:gt.appendKanjiBytes(n,o);break;default:throw new ht("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=gt.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const o=n.length;let l=0;for(;l<o;){const u=gt.getDigit(n.charAt(l));if(l+2<o){const f=gt.getDigit(n.charAt(l+1)),p=gt.getDigit(n.charAt(l+2));r.appendBits(u*100+f*10+p,10),l+=3}else if(l+1<o){const f=gt.getDigit(n.charAt(l+1));r.appendBits(u*10+f,7),l+=2}else r.appendBits(u,4),l++}}static appendAlphanumericBytes(n,r){const o=n.length;let l=0;for(;l<o;){const u=gt.getAlphanumericCode(n.charCodeAt(l));if(u===-1)throw new ht;if(l+1<o){const f=gt.getAlphanumericCode(n.charCodeAt(l+1));if(f===-1)throw new ht;r.appendBits(u*45+f,11),l+=2}else r.appendBits(u,6),l++}}static append8BitBytes(n,r,o){let l;try{l=Fe.encode(n,o)}catch(u){throw new ht(u)}for(let u=0,f=l.length;u!==f;u++){const p=l[u];r.appendBits(p,8)}}static appendKanjiBytes(n,r){let o;try{o=Fe.encode(n,re.SJIS)}catch(u){throw new ht(u)}const l=o.length;for(let u=0;u<l;u+=2){const f=o[u]&255,p=o[u+1]&255,m=f<<8&4294967295|p;let _=-1;if(m>=33088&&m<=40956?_=m-33088:m>=57408&&m<=60351&&(_=m-49472),_===-1)throw new ht("Invalid byte sequence");const C=(_>>8)*192+(_&255);r.appendBits(C,13)}}static appendECI(n,r){r.appendBits(Ne.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}gt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),gt.DEFAULT_BYTE_MODE_ENCODING=re.UTF8.getName();class zr{write(n,r,o,l=null){if(n.length===0)throw new N("Found empty contents");if(r<0||o<0)throw new N("Requested dimensions are too small: "+r+"x"+o);let u=Xe.L,f=zr.QUIET_ZONE_SIZE;l!==null&&(l.get(Pt.ERROR_CORRECTION)!==void 0&&(u=Xe.fromString(l.get(Pt.ERROR_CORRECTION).toString())),l.get(Pt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(Pt.MARGIN).toString(),10)));const p=gt.encode(n,u,l);return this.renderResult(p,r,o,f)}writeToDom(n,r,o,l,u=null){typeof n=="string"&&(n=document.querySelector(n));const f=this.write(r,o,l,u);n&&n.appendChild(f)}renderResult(n,r,o,l){const u=n.getMatrix();if(u===null)throw new Zn;const f=u.getWidth(),p=u.getHeight(),m=f+l*2,_=p+l*2,C=Math.max(r,m),T=Math.max(o,_),I=Math.min(Math.floor(C/m),Math.floor(T/_)),P=Math.floor((C-f*I)/2),z=Math.floor((T-p*I)/2),U=this.createSVGElement(C,T);for(let j=0,K=z;j<p;j++,K+=I)for(let he=0,de=P;he<f;he++,de+=I)if(u.get(he,j)===1){const ae=this.createSvgRectElement(de,K,I,I);U.appendChild(ae)}return U}createSVGElement(n,r){const o=document.createElementNS(zr.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(n,r,o,l){const u=document.createElementNS(zr.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}zr.QUIET_ZONE_SIZE=4,zr.SVG_NS="http://www.w3.org/2000/svg";class Ar{encode(n,r,o,l,u){if(n.length===0)throw new N("Found empty contents");if(r!==fe.QR_CODE)throw new N("Can only encode QR_CODE, but got "+r);if(o<0||l<0)throw new N(`Requested dimensions are too small: ${o}x${l}`);let f=Xe.L,p=Ar.QUIET_ZONE_SIZE;u!==null&&(u.get(Pt.ERROR_CORRECTION)!==void 0&&(f=Xe.fromString(u.get(Pt.ERROR_CORRECTION).toString())),u.get(Pt.MARGIN)!==void 0&&(p=Number.parseInt(u.get(Pt.MARGIN).toString(),10)));const m=gt.encode(n,f,u);return Ar.renderResult(m,o,l,p)}static renderResult(n,r,o,l){const u=n.getMatrix();if(u===null)throw new Zn;const f=u.getWidth(),p=u.getHeight(),m=f+l*2,_=p+l*2,C=Math.max(r,m),T=Math.max(o,_),I=Math.min(Math.floor(C/m),Math.floor(T/_)),P=Math.floor((C-f*I)/2),z=Math.floor((T-p*I)/2),U=new Ze(C,T);for(let j=0,K=z;j<p;j++,K+=I)for(let he=0,de=P;he<f;he++,de+=I)u.get(he,j)===1&&U.setRegion(de,K,I,I);return U}}Ar.QUIET_ZONE_SIZE=4;class ti{encode(n,r,o,l,u){let f;switch(r){case fe.QR_CODE:f=new Ar;break;default:throw new N("No encoder available for format "+r)}return f.encode(n,r,o,l,u)}}class or extends ne{constructor(n,r,o,l,u,f,p,m){if(super(f,p),this.yuvData=n,this.dataWidth=r,this.dataHeight=o,this.left=l,this.top=u,l+f>r||u+p>o)throw new N("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(f,p)}getRow(n,r){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const l=(n+this.top)*this.dataWidth+this.left;return V.arraycopy(this.yuvData,l,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=n*r,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return V.arraycopy(this.yuvData,u,l,0,o),l;for(let f=0;f<r;f++){const p=f*n;V.arraycopy(this.yuvData,u,l,p,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,r,o,l){return new or(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,l,!1)}renderThumbnail(){const n=this.getWidth()/or.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/or.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<r;f++){const p=f*n;for(let m=0;m<n;m++){const _=l[u+m*or.THUMBNAIL_SCALE_FACTOR]&255;o[p+m]=4278190080|_*65793}u+=this.dataWidth*or.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/or.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/or.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<r;l++,u+=this.dataWidth){const f=u+n/2;for(let p=u,m=u+n-1;p<f;p++,m--){const _=o[p];o[p]=o[m],o[m]=_}}}invert(){return new Oe(this)}}or.THUMBNAIL_SCALE_FACTOR=2;class ni extends ne{constructor(n,r,o,l,u,f,p){if(super(r,o),this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=p,n.BYTES_PER_ELEMENT===4){const m=r*o,_=new Uint8ClampedArray(m);for(let C=0;C<m;C++){const T=n[C],I=T>>16&255,P=T>>7&510,z=T&255;_[C]=(I+P+z)/4&255}this.luminances=_}else this.luminances=n;if(l===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const l=(n+this.top)*this.dataWidth+this.left;return V.arraycopy(this.luminances,l,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=n*r,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return V.arraycopy(this.luminances,u,l,0,o),l;for(let f=0;f<r;f++){const p=f*n;V.arraycopy(this.luminances,u,l,p,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,r,o,l){return new ni(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new Oe(this)}}class On extends re{static forName(n){return this.getCharacterSetECIByName(n)}}class ks{}ks.ISO_8859_1=re.ISO8859_1;class Bo{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class tl{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class Fo{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Ur extends Fo{constructor(n,r,o){super(n),this.value=r,this.bitCount=o}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new Ur(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ur(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+M.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class zo extends Ur{constructor(n,r,o){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(n,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(n,r){return new zo(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Wu(S,n,r){return new zo(S,n,r)}function Ai(S,n,r){return new Ur(S,n,r)}const ju=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],jt=0,Sr=1,kn=2,ar=3,lr=4,Si=new Ur(null,0,0),Uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cs(S){for(let n of S)D.fill(n,-1);return S[jt][lr]=0,S[Sr][lr]=0,S[Sr][jt]=28,S[ar][lr]=0,S[kn][lr]=0,S[kn][jt]=15,S}const Ho=cs(D.createInt32Array(6,6));class bn{constructor(n,r,o,l){this.token=n,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let o=this.bitCount,l=this.token;if(n!==this.mode){let f=Uo[this.mode][n];l=Ai(l,f&65535,f>>16),o+=f>>16}let u=n===kn?4:5;return l=Ai(l,r,u),new bn(l,n,0,o+u)}shiftAndAppend(n,r){let o=this.token,l=this.mode===kn?4:5;return o=Ai(o,Ho[this.mode][n],l),o=Ai(o,r,5),new bn(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(n){let r=this.token,o=this.mode,l=this.bitCount;if(this.mode===lr||this.mode===kn){let p=Uo[o][jt];r=Ai(r,p&65535,p>>16),l+=p>>16,o=jt}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new bn(r,o,this.binaryShiftByteCount+1,l+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(n+1)),f}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Wu(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new bn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(Uo[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=bn.calculateBinaryShiftCost(n)-bn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let l=this.endBinaryShift(n.length).token;l!==null;l=l.getPrevious())r.unshift(l);let o=new G;for(const l of r)l.appendTo(o,n);return o}toString(){return we.format("%s bits=%d bytes=%d",ju[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}bn.INITIAL_STATE=new bn(Si,jt,0,0);function Zu(S){const n=we.getCharCode(" "),r=we.getCharCode("."),o=we.getCharCode(",");S[jt][n]=1;const l=we.getCharCode("Z"),u=we.getCharCode("A");for(let I=u;I<=l;I++)S[jt][I]=I-u+2;S[Sr][n]=1;const f=we.getCharCode("z"),p=we.getCharCode("a");for(let I=p;I<=f;I++)S[Sr][I]=I-p+2;S[kn][n]=1;const m=we.getCharCode("9"),_=we.getCharCode("0");for(let I=_;I<=m;I++)S[kn][I]=I-_+2;S[kn][o]=12,S[kn][r]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)S[ar][we.getCharCode(C[I])]=I;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<T.length;I++)we.getCharCode(T[I])>0&&(S[lr][we.getCharCode(T[I])]=I);return S}const ur=Zu(D.createInt32Array(5,256));class Hr{constructor(n){this.text=n}encode(){const n=we.getCharCode(" "),r=we.getCharCode(`
`);let o=tl.singletonList(bn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case we.getCharCode("\r"):f=p===r?2:0;break;case we.getCharCode("."):f=p===n?3:0;break;case we.getCharCode(","):f=p===n?4:0;break;case we.getCharCode(":"):f=p===n?5:0;break;default:f=0}f>0?(o=Hr.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return tl.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const o=[];for(let l of n)this.updateStateForChar(l,r,o);return Hr.simplifyStates(o)}updateStateForChar(n,r,o){let l=this.text[r]&255,u=ur[n.getMode()][l]>0,f=null;for(let p=0;p<=lr;p++){let m=ur[p][l];if(m>0){if(f==null&&(f=n.endBinaryShift(r)),!u||p===n.getMode()||p===kn){const _=f.latchAndAppend(p,m);o.push(_)}if(!u&&Ho[n.getMode()][p]>=0){const _=f.shiftAndAppend(p,m);o.push(_)}}}if(n.getBinaryShiftByteCount()>0||ur[n.getMode()][l]===0){let p=n.addBinaryShiftChar(r);o.push(p)}}static updateStateListForPair(n,r,o){const l=[];for(let u of n)this.updateStateForPair(u,r,o,l);return this.simplifyStates(l)}static updateStateForPair(n,r,o,l){let u=n.endBinaryShift(r);if(l.push(u.latchAndAppend(lr,o)),n.getMode()!==lr&&l.push(u.shiftAndAppend(lr,o)),o===3||o===4){let f=u.latchAndAppend(kn,16-o).latchAndAppend(kn,1);l.push(f)}if(n.getBinaryShiftByteCount()>0){let f=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(f)}}static simplifyStates(n){let r=[];for(const o of n){let l=!0;for(const u of r){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(r=r.filter(f=>f!==u))}l&&r.push(o)}return r}}class tt{constructor(){}static encodeBytes(n){return tt.encode(n,tt.DEFAULT_EC_PERCENT,tt.DEFAULT_AZTEC_LAYERS)}static encode(n,r,o){let l=new Hr(n).encode(),u=M.truncDivision(l.getSize()*r,100)+11,f=l.getSize()+u,p,m,_,C,T;if(o!==tt.DEFAULT_AZTEC_LAYERS){if(p=o<0,m=Math.abs(o),m>(p?tt.MAX_NB_BITS_COMPACT:tt.MAX_NB_BITS))throw new N(we.format("Illegal value %s for layers",o));_=tt.totalBitsInLayer(m,p),C=tt.WORD_SIZE[m];let ae=_-_%C;if(T=tt.stuffBits(l,C),T.getSize()+u>ae)throw new N("Data to large for user specified layer");if(p&&T.getSize()>C*64)throw new N("Data to large for user specified layer")}else{C=0,T=null;for(let ae=0;;ae++){if(ae>tt.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(p=ae<=3,m=p?ae+1:ae,_=tt.totalBitsInLayer(m,p),f>_)continue;(T==null||C!==tt.WORD_SIZE[m])&&(C=tt.WORD_SIZE[m],T=tt.stuffBits(l,C));let Ye=_-_%C;if(!(p&&T.getSize()>C*64)&&T.getSize()+u<=Ye)break}}let I=tt.generateCheckWords(T,_,C),P=T.getSize()/C,z=tt.generateModeMessage(p,m,P),U=(p?11:14)+m*4,j=new Int32Array(U),K;if(p){K=U;for(let ae=0;ae<j.length;ae++)j[ae]=ae}else{K=U+1+2*M.truncDivision(M.truncDivision(U,2)-1,15);let ae=M.truncDivision(U,2),Ye=M.truncDivision(K,2);for(let Ue=0;Ue<ae;Ue++){let St=Ue+M.truncDivision(Ue,15);j[ae-Ue-1]=Ye-St-1,j[ae+Ue]=Ye+St+1}}let he=new Ze(K);for(let ae=0,Ye=0;ae<m;ae++){let Ue=(m-ae)*4+(p?9:12);for(let St=0;St<Ue;St++){let xn=St*2;for(let _n=0;_n<2;_n++)I.get(Ye+xn+_n)&&he.set(j[ae*2+_n],j[ae*2+St]),I.get(Ye+Ue*2+xn+_n)&&he.set(j[ae*2+St],j[U-1-ae*2-_n]),I.get(Ye+Ue*4+xn+_n)&&he.set(j[U-1-ae*2-_n],j[U-1-ae*2-St]),I.get(Ye+Ue*6+xn+_n)&&he.set(j[U-1-ae*2-St],j[ae*2+_n])}Ye+=Ue*8}if(tt.drawModeMessage(he,p,K,z),p)tt.drawBullsEye(he,M.truncDivision(K,2),5);else{tt.drawBullsEye(he,M.truncDivision(K,2),7);for(let ae=0,Ye=0;ae<M.truncDivision(U,2)-1;ae+=15,Ye+=16)for(let Ue=M.truncDivision(K,2)&1;Ue<K;Ue+=2)he.set(M.truncDivision(K,2)-Ye,Ue),he.set(M.truncDivision(K,2)+Ye,Ue),he.set(Ue,M.truncDivision(K,2)-Ye),he.set(Ue,M.truncDivision(K,2)+Ye)}let de=new Bo;return de.setCompact(p),de.setSize(K),de.setLayers(m),de.setCodeWords(P),de.setMatrix(he),de}static drawBullsEye(n,r,o){for(let l=0;l<o;l+=2)for(let u=r-l;u<=r+l;u++)n.set(u,r-l),n.set(u,r+l),n.set(r-l,u),n.set(r+l,u);n.set(r-o,r-o),n.set(r-o+1,r-o),n.set(r-o,r-o+1),n.set(r+o,r-o),n.set(r+o,r-o+1),n.set(r+o,r+o-1)}static generateModeMessage(n,r,o){let l=new G;return n?(l.appendBits(r-1,2),l.appendBits(o-1,6),l=tt.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(o-1,11),l=tt.generateCheckWords(l,40,4)),l}static drawModeMessage(n,r,o,l){let u=M.truncDivision(o,2);if(r)for(let f=0;f<7;f++){let p=u-3+f;l.get(f)&&n.set(p,u-5),l.get(f+7)&&n.set(u+5,p),l.get(20-f)&&n.set(p,u+5),l.get(27-f)&&n.set(u-5,p)}else for(let f=0;f<10;f++){let p=u-5+f+M.truncDivision(f,5);l.get(f)&&n.set(p,u-7),l.get(f+10)&&n.set(u+7,p),l.get(29-f)&&n.set(p,u+7),l.get(39-f)&&n.set(u-7,p)}}static generateCheckWords(n,r,o){let l=n.getSize()/o,u=new ko(tt.getGF(o)),f=M.truncDivision(r,o),p=tt.bitsToWords(n,o,f);u.encode(p,f-l);let m=r%o,_=new G;_.appendBits(0,m);for(const C of Array.from(p))_.appendBits(C,o);return _}static bitsToWords(n,r,o){let l=new Int32Array(o),u,f;for(u=0,f=n.getSize()/r;u<f;u++){let p=0;for(let m=0;m<r;m++)p|=n.get(u*r+m)?1<<r-m-1:0;l[u]=p}return l}static getGF(n){switch(n){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new N("Unsupported word size "+n)}}static stuffBits(n,r){let o=new G,l=n.getSize(),u=(1<<r)-2;for(let f=0;f<l;f+=r){let p=0;for(let m=0;m<r;m++)(f+m>=l||n.get(f+m))&&(p|=1<<r-1-m);(p&u)===u?(o.appendBits(p&u,r),f--):p&u?o.appendBits(p,r):(o.appendBits(p|1,r),f--)}return o}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}tt.DEFAULT_EC_PERCENT=33,tt.DEFAULT_AZTEC_LAYERS=0,tt.MAX_NB_BITS=32,tt.MAX_NB_BITS_COMPACT=4,tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ti{encode(n,r,o,l){return this.encodeWithHints(n,r,o,l,null)}encodeWithHints(n,r,o,l,u){let f=ks.ISO_8859_1,p=tt.DEFAULT_EC_PERCENT,m=tt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Pt.CHARACTER_SET)&&(f=On.forName(u.get(Pt.CHARACTER_SET).toString())),u.has(Pt.ERROR_CORRECTION)&&(p=M.parseInt(u.get(Pt.ERROR_CORRECTION).toString())),u.has(Pt.AZTEC_LAYERS)&&(m=M.parseInt(u.get(Pt.AZTEC_LAYERS).toString()))),Ti.encodeLayers(n,r,o,l,f,p,m)}static encodeLayers(n,r,o,l,u,f,p){if(r!==fe.AZTEC)throw new N("Can only encode AZTEC, but got "+r);let m=tt.encode(we.getBytes(n,u),f,p);return Ti.renderResult(m,o,l)}static renderResult(n,r,o){let l=n.getMatrix();if(l==null)throw new Zn;let u=l.getWidth(),f=l.getHeight(),p=Math.max(r,u),m=Math.max(o,f),_=Math.min(p/u,m/f),C=(p-u*_)/2,T=(m-f*_)/2,I=new Ze(p,m);for(let P=0,z=T;P<f;P++,z+=_)for(let U=0,j=C;U<u;U++,j+=_)l.get(U,P)&&I.setRegion(j,z,_,_);return I}}i.AbstractExpandedDecoder=bs,i.ArgumentException=b,i.ArithmeticException=Mr,i.AztecCode=Bo,i.AztecCodeReader=$i,i.AztecCodeWriter=Ti,i.AztecDecoder=lt,i.AztecDetector=Ao,i.AztecDetectorResult=vo,i.AztecEncoder=tt,i.AztecHighLevelEncoder=Hr,i.AztecPoint=hn,i.BarcodeFormat=fe,i.Binarizer=H,i.BinaryBitmap=k,i.BitArray=G,i.BitMatrix=Ze,i.BitSource=yi,i.BrowserAztecCodeReader=ku,i.BrowserBarcodeReader=rs,i.BrowserCodeReader=at,i.BrowserDatamatrixCodeReader=Ro,i.BrowserMultiFormatReader=$a,i.BrowserPDF417Reader=Fr,i.BrowserQRCodeReader=el,i.BrowserQRCodeSvgWriter=zr,i.CharacterSetECI=re,i.ChecksumException=W,i.Code128Reader=me,i.Code39Reader=kt,i.DataMatrixDecodedBitStreamParser=In,i.DataMatrixReader=ut,i.DecodeHintType=le,i.DecoderResult=gi,i.DefaultGridSampler=Co,i.DetectorResult=Ji,i.EAN13Reader=Dr,i.EncodeHintType=Pt,i.Exception=v,i.FormatException=Y,i.GenericGF=$e,i.GenericGFPoly=tn,i.GlobalHistogramBinarizer=Be,i.GridSampler=Eo,i.GridSamplerInstance=wr,i.HTMLCanvasElementLuminanceSource=ce,i.HybridBinarizer=Pe,i.ITFReader=ft,i.IllegalArgumentException=N,i.IllegalStateException=Zn,i.InvertedLuminanceSource=Oe,i.LuminanceSource=ne,i.MathUtils=et,i.MultiFormatOneDReader=Br,i.MultiFormatReader=Ja,i.MultiFormatWriter=ti,i.NotFoundException=ee,i.OneDReader=Rt,i.PDF417DecodedBitStreamParser=Q,i.PDF417DecoderErrorCorrection=Ps,i.PDF417Reader=qt,i.PDF417ResultMetadata=Do,i.PerspectiveTransform=Sn,i.PlanarYUVLuminanceSource=or,i.QRCodeByteMatrix=us,i.QRCodeDataMask=an,i.QRCodeDecodedBitStreamParser=_t,i.QRCodeDecoderErrorCorrectionLevel=Xe,i.QRCodeDecoderFormatInformation=on,i.QRCodeEncoder=gt,i.QRCodeEncoderQRCode=ei,i.QRCodeMaskUtil=At,i.QRCodeMatrixUtil=Re,i.QRCodeMode=Ne,i.QRCodeReader=Yt,i.QRCodeVersion=xe,i.QRCodeWriter=Ar,i.RGBLuminanceSource=ni,i.RSS14Reader=Ot,i.RSSExpandedReader=se,i.ReaderException=Nn,i.ReedSolomonDecoder=xi,i.ReedSolomonEncoder=ko,i.ReedSolomonException=mi,i.Result=Le,i.ResultMetadataType=mt,i.ResultPoint=Ae,i.StringUtils=we,i.UnsupportedOperationException=De,i.VideoInputDevice=Ie,i.WhiteRectangleDetector=_r,i.WriterException=ht,i.ZXingArrays=D,i.ZXingCharset=On,i.ZXingInteger=M,i.ZXingStandardCharsets=ks,i.ZXingStringBuilder=Ve,i.ZXingStringEncoding=Fe,i.ZXingSystem=V,i.createAbstractExpandedDecoder=ns,Object.defineProperty(i,"__esModule",{value:!0})})})(Nf,Nf.exports);var It=Nf.exports;const Fy=Of(It),zy=H1({__proto__:null,default:Fy},[It]);var M1=function(){function e(t,i,a){if(this.formatMap=new Map([[Ee.QR_CODE,It.BarcodeFormat.QR_CODE],[Ee.AZTEC,It.BarcodeFormat.AZTEC],[Ee.CODABAR,It.BarcodeFormat.CODABAR],[Ee.CODE_39,It.BarcodeFormat.CODE_39],[Ee.CODE_93,It.BarcodeFormat.CODE_93],[Ee.CODE_128,It.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,It.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,It.BarcodeFormat.MAXICODE],[Ee.ITF,It.BarcodeFormat.ITF],[Ee.EAN_13,It.BarcodeFormat.EAN_13],[Ee.EAN_8,It.BarcodeFormat.EAN_8],[Ee.PDF_417,It.BarcodeFormat.PDF_417],[Ee.RSS_14,It.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,It.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,It.BarcodeFormat.UPC_A],[Ee.UPC_E,It.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,It.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!zy)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var h=this.createZXingFormats(t),d=new Map;d.set(It.DecodeHintType.POSSIBLE_FORMATS,h),d.set(It.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(a,h){try{a(i.decode(t))}catch(d){h(d)}})},e.prototype.decode=function(t){var i=new It.MultiFormatReader(this.verbose,this.hints),a=new It.HTMLCanvasElementLuminanceSource(t),h=new It.BinaryBitmap(new It.HybridBinarizer(a)),d=i.decode(h);return{text:d.text,format:jg.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,h){t.set(i,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],a=0,h=t;a<h.length;a++){var d=h[a];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Uy=function(e,t,i,a){function h(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function y(b){try{v(a.next(b))}catch(N){x(N)}}function E(b){try{v(a.throw(b))}catch(N){x(N)}}function v(b){b.done?d(b.value):h(b.value).then(y,E)}v((a=a.apply(e,t||[])).next())})},Hy=function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(v){return function(b){return E([v,b])}}function E(v){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,v[0]&&(i=0)),i;)try{if(a=1,h&&(d=v[0]&2?h.return:v[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,v[1])).done)return d;switch(h=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,h=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=t.call(e,i)}catch(b){v=[6,b],h=0}finally{a=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},D1=function(){function e(t,i,a){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var h=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Uy(this,void 0,void 0,function(){var i,a;return Hy(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=h.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:jg.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,a=0,h=0,d=t;h<d.length;h++){var x=d[h],y=x.boundingBox.width*x.boundingBox.height;y>a&&(a=y,i=x)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],a=0,h=t;a<h.length;a++){var d=h[a];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,h){t.set(i,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),k1=function(e,t,i,a){function h(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function y(b){try{v(a.next(b))}catch(N){x(N)}}function E(b){try{v(a.throw(b))}catch(N){x(N)}}function v(b){b.done?d(b.value):h(b.value).then(y,E)}v((a=a.apply(e,t||[])).next())})},B1=function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(v){return function(b){return E([v,b])}}function E(v){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,v[0]&&(i=0)),i;)try{if(a=1,h&&(d=v[0]&2?h.return:v[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,v[1])).done)return d;switch(h=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,h=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=t.call(e,i)}catch(b){v=[6,b],h=0}finally{a=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Vy=function(){function e(t,i,a,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&D1.isSupported()?(this.primaryDecoder=new D1(t,a,h),this.secondaryDecoder=new M1(t,a,h)):this.primaryDecoder=new M1(t,a,h)}return e.prototype.decodeAsync=function(t){return k1(this,void 0,void 0,function(){var i;return B1(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return k1(this,void 0,void 0,function(){var i,a;return B1(this,function(h){switch(h.label){case 0:i=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,h.sent()];case 3:if(a=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,a=this.executionResults;i<a.length;i++){var h=a[i];t+=h}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Lh=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),fu=function(e,t,i,a){function h(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function y(b){try{v(a.next(b))}catch(N){x(N)}}function E(b){try{v(a.throw(b))}catch(N){x(N)}}function v(b){b.done?d(b.value):h(b.value).then(y,E)}v((a=a.apply(e,t||[])).next())})},hu=function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(v){return function(b){return E([v,b])}}function E(v){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,v[0]&&(i=0)),i;)try{if(a=1,h&&(d=v[0]&2?h.return:v[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,v[1])).done)return d;switch(h=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,h=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=t.call(e,i)}catch(b){v=[6,b],h=0}finally{a=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Gg=function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e}(),Wy=function(e){Lh(t,e);function t(i,a){return e.call(this,i,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var a={};a[this.name]=i;var h={advanced:[a]};return this.track.applyConstraints(h)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Gg),jy=function(e){Lh(t,e);function t(i){return e.call(this,"zoom",i)||this}return t}(Wy),Zy=function(e){Lh(t,e);function t(i){return e.call(this,"torch",i)||this}return t}(Gg),Gy=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new jy(this.track)},e.prototype.torchFeature=function(){return new Zy(this.track)},e}(),Xy=function(){function e(t,i,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=t.surface.clientWidth,h=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,h),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,a,h){return fu(this,void 0,void 0,function(){var d,x;return hu(this,function(y){switch(y.label){case 0:return d=new e(t,i,h),a.aspectRatio?(x={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:y.sent(),y.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,a=function(){setTimeout(t,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return fu(this,void 0,void 0,function(){return hu(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,a){var h=t.mediaStream.getVideoTracks(),d=h.length,x=0;t.mediaStream.getVideoTracks().forEach(function(y){t.mediaStream.removeTrack(y),y.stop(),++x,x>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new Gy(this.getFirstTrackOrFail())},e}(),Yy=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,a){return fu(this,void 0,void 0,function(){return hu(this,function(h){return[2,Xy.create(t,this.mediaStream,i,a)]})})},e.create=function(t){return fu(this,void 0,void 0,function(){var i,a;return hu(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=h.sent(),[2,new e(a)]}})})},e}(),F1=function(e,t,i,a){function h(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function y(b){try{v(a.next(b))}catch(N){x(N)}}function E(b){try{v(a.throw(b))}catch(N){x(N)}}function v(b){b.done?d(b.value):h(b.value).then(y,E)}v((a=a.apply(e,t||[])).next())})},z1=function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(v){return function(b){return E([v,b])}}function E(v){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,v[0]&&(i=0)),i;)try{if(a=1,h&&(d=v[0]&2?h.return:v[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,v[1])).done)return d;switch(h=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,h=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=t.call(e,i)}catch(b){v=[6,b],h=0}finally{a=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Ky=function(){function e(){}return e.failIfNotSupported=function(){return F1(this,void 0,void 0,function(){return z1(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return F1(this,void 0,void 0,function(){return z1(this,function(i){return[2,Yy.create(t)]})})},e}(),qy=function(e,t,i,a){function h(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function y(b){try{v(a.next(b))}catch(N){x(N)}}function E(b){try{v(a.throw(b))}catch(N){x(N)}}function v(b){b.done?d(b.value):h(b.value).then(y,E)}v((a=a.apply(e,t||[])).next())})},Qy=function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,h,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(v){return function(b){return E([v,b])}}function E(v){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,v[0]&&(i=0)),i;)try{if(a=1,h&&(d=v[0]&2?h.return:v[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,v[1])).done)return d;switch(h=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,h=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=t.call(e,i)}catch(b){v=[6,b],h=0}finally{a=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Jy=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Js.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Js.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return qy(this,void 0,void 0,function(){var t,i,a,h,d,x,y;return Qy(this,function(E){switch(E.label){case 0:return t=function(v){for(var b=v.getVideoTracks(),N=0,k=b;N<k.length;N++){var W=k[N];W.enabled=!1,W.stop(),v.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=E.sent(),h=[],d=0,x=a;d<x.length;d++)y=x[d],y.kind==="videoinput"&&h.push({id:y.deviceId,label:y.label});return t(i),[2,h]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var a=function(d){for(var x=[],y=0,E=d;y<E.length;y++){var v=E[y];v.kind==="video"&&x.push({id:v.id,label:v.label})}t(x)},h=MediaStreamTrack;h.getSources(a)})},e}(),Bt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Bt||(Bt={}));var $y=function(){function e(){this.state=Bt.NOT_STARTED,this.onGoingTransactionNewState=Bt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Bt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Bt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Bt.UNKNOWN:throw"Transition from unknown is not allowed";case Bt.NOT_STARTED:this.failIfNewStateIs(t,[Bt.PAUSED]);break;case Bt.SCANNING:break;case Bt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var a=0,h=i;a<h.length;a++){var d=h[a];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),ev=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Bt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Bt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Bt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Bt.PAUSED},e}(),tv=function(){function e(){}return e.create=function(){return new ev(new $y)},e}(),nv=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(a[d]=h[d])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),qn=function(e){nv(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Dy),rv=function(){function e(t,i){this.logger=i,this.fps=qn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=qn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Zg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ii(this.qrbox)},e.create=function(t,i){return new e(t,i)},e}(),iv=function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new By(this.verbose),this.qrcode=new Vy(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=tv.create()}return e.prototype.start=function(t,i,a,h){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;h?x=h:x=this.verbose?this.logger.log:function(){};var y=rv.create(i,this.logger);this.clearElement();var E=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=E,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:qn.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var N=this,k=this.stateManagerProxy.startTransition(Bt.SCANNING);return new Promise(function(W,H){var V=v?y.videoConstraints:N.createVideoConstraints(t);if(!V){k.cancel(),H("videoConstraints should be defined");return}var q={};(!v||y.aspectRatio)&&(q.aspectRatio=y.aspectRatio);var F={onRenderSurfaceReady:function(D,M){N.setupUi(D,M,y),N.isScanning=!0,N.foreverScan(y,a,x)}};Ky.failIfNotSupported().then(function(D){D.create(V).then(function(M){return M.render(d.element,q,F).then(function(G){N.renderedCamera=G,k.execute(),W(null)}).catch(function(G){k.cancel(),H(G)})}).catch(function(M){k.cancel(),H(Js.errorGettingUserMedia(M))})}).catch(function(D){k.cancel(),H(Js.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Bt.PAUSED),this.showPausedState(),(ii(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(Bt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(Bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var d=document.getElementById(qn.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),a(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),i.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,i){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ii(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var x=new Image;x.onload=function(){var y=x.width,E=x.height,v=document.getElementById(a.elementId),b=v.clientWidth?v.clientWidth:qn.DEFAULT_WIDTH,N=Math.max(v.clientHeight?v.clientHeight:E,qn.FILE_SCAN_MIN_HEIGHT),k=a.computeCanvasDrawConfig(y,E,b,N);if(i){var W=a.createCanvasElement(b,N,"qr-canvas-visible");W.style.display="inline-block",v.appendChild(W);var H=W.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=b,H.canvas.height=N,H.drawImage(x,0,0,y,E,k.x,k.y,k.width,k.height)}var V=qn.FILE_SCAN_HIDDEN_CANVAS_PADDING,q=Math.max(x.width,k.width),F=Math.max(x.height,k.height),D=q+2*V,M=F+2*V,G=a.createCanvasElement(D,M);v.appendChild(G);var ue=G.getContext("2d");if(!ue)throw"Unable to get 2d context from canvas";ue.canvas.width=D,ue.canvas.height=M,ue.drawImage(x,0,0,y,E,V,V,q,F);try{a.qrcode.decodeRobustlyAsync(G).then(function(le){h(L1.createFromQrcodeResult(le))}).catch(d)}catch(le){d("QR code parse error, error = ".concat(le))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Jy.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Zg.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],h=0,d=t.formatsToSupport;h<d.length;h++){var x=d[h];My(x)?a.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ii(t))return!0;if(!ii(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ii(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return ii(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,a){var h=this,d=a.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(t,i,d),y=function(v){if(v<qn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qn.MIN_QR_BOX_SIZE,"px.")},E=function(v){return v>t&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};y(x.width),y(x.height),x.width=E(x.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,i)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return a},e.prototype.setupUi=function(t,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,a);var h=ii(a.qrbox)?{width:t,height:i}:a.qrbox;this.validateQrboxConfig(h);var d=this.toQrdimensions(t,i,h);d.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=a.isShadedBoxEnabled()&&d.height<=i,y={x:0,y:0,width:t,height:i},E=x?this.getShadedRegionBounds(t,i,d):y,v=this.createCanvasElement(E.width,E.height),b={willReadFrequently:!0},N=v.getContext("2d",b);N.canvas.width=E.width,N.canvas.height=E.height,this.element.append(v),x&&this.possiblyInsertShadingElement(this.element,t,i,d),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=N,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=Js.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return t(h.text,L1.createFromQrcodeResult(h)),a.possiblyUpdateShaders(!0),!0}).catch(function(h){a.possiblyUpdateShaders(!1);var d=Js.codeParseError(h);return i(d,ky.createFrom(d)),!1})},e.prototype.foreverScan=function(t,i,a){var h=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,y=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*x,v=this.qrRegion.height*y,b=this.qrRegion.x*x,N=this.qrRegion.y*y;this.context.drawImage(d,b,N,E,v,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(t,i,a)},h.getTimeoutFps(t.fps))};this.scanContext(i,a).then(function(W){!W&&t.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(i,a).finally(function(){k()})):k()}).catch(function(W){h.logger.logError("Error happend while scanning context",W),k()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",a="deviceId",h={user:!0,environment:!0},d="exact",x=function(H){if(H in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},y=Object.keys(t);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var E=Object.keys(t)[0];if(E!==i&&E!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(E===i){var v=t.facingMode;if(typeof v=="string"){if(x(v))return{facingMode:v}}else if(typeof v=="object")if(d in v){if(x(v["".concat(d)]))return{facingMode:{exact:v["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var b=typeof v;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var N=t.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(d in N)return{deviceId:{exact:N["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var k=typeof N;throw"Invalid type of 'deviceId' = ".concat(k)}}}var W=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},e.prototype.computeCanvasDrawConfig=function(t,i,a,h){if(t<=a&&i<=h){var d=(a-t)/2,x=(h-i)/2;return{x:d,y:x,width:t,height:i}}else{var y=t,E=i;return t>a&&(i=a/t*i,t=a),i>h&&(t=h/i*t,i=h),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(E)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,a,h)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?qn.BORDER_SHADER_MATCH_COLOR:qn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,a){var h=t,d=i,x=document.createElement("canvas");return x.style.width="".concat(h,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=ii(a)?"qr-canvas":a,x},e.prototype.getShadedRegionBounds=function(t,i,a){if(a.width>t||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,i,a,h){if(!(i-h.width<1||a-h.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(i-h.width)/2,y=(a-h.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(qn.SHADED_REGION_ELEMENT_ID),i-h.width<11||a-h.height<11)this.hasBorderShaders=!1;else{var E=5,v=40;this.insertShaderBorders(d,v,E,-E,null,0,!0),this.insertShaderBorders(d,v,E,-E,null,0,!1),this.insertShaderBorders(d,v,E,null,-E,0,!0),this.insertShaderBorders(d,v,E,null,-E,0,!1),this.insertShaderBorders(d,E,v+E,-E,null,-E,!0),this.insertShaderBorders(d,E,v+E,null,-E,-E,!0),this.insertShaderBorders(d,E,v+E,-E,null,-E,!1),this.insertShaderBorders(d,E,v+E,null,-E,-E,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,i,a,h,d,x,y){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=qn.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(i,"px"),E.style.height="".concat(a,"px"),h!==null&&(E.style.top="".concat(h,"px")),d!==null&&(E.style.bottom="".concat(d,"px")),y?E.style.left="".concat(x,"px"):E.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),t.appendChild(E)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),U1;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(U1||(U1={}));async function sv(){console.log(" Testing POST /api/returns endpoint...");const e=da();console.log(" User ID:",e);try{const t="TEST_ITEM_001";console.log(" Sending POST request with item_sku:",t);const i=await po.registerReturn(t);return console.log(" Success! Response:",i),{success:!0,data:i,message:"POST request successful!"}}catch(t){return console.error(" Error:",t),t.response?(console.error("Response status:",t.response.status),console.error("Response data:",t.response.data),{success:!1,error:t.response.data,status:t.response.status,message:t.message}):{success:!1,error:t.message,message:"Network or unknown error"}}}function ov(){const[e,t]=ie.useState("scan"),[i,a]=ie.useState(""),[h,d]=ie.useState(!1),[x,y]=ie.useState(null),[E,v]=ie.useState(null),[b,N]=ie.useState(!1),k=ie.useRef(null);ie.useEffect(()=>(e==="scan"?W():H(),()=>{H()}),[e]);const W=async()=>{try{k.current||(k.current=new iv("qr-reader"));const M=k.current;h||(await M.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},G=>{V(G)},G=>{}),d(!0))}catch(M){console.error("Error starting scanner:",M),v("Failed to start camera. Please check permissions.")}},H=async()=>{try{k.current&&h&&(await k.current.stop(),d(!1))}catch(M){console.error("Error stopping scanner:",M)}},V=async M=>{a(M),await F(M)},q=async M=>{M.preventDefault(),i.trim()&&await F(i)},F=async M=>{N(!0),v(null),y(null);try{const G=await po.scanBarcode(M);y(G)}catch(G){console.error("Error scanning barcode:",G),v(G.message||"Failed to scan barcode"),y({success:!0,barcode:M,product:{name:"Eco-Friendly Product",price:15e3,eco_rating:4.5,sustainability_score:85},message:"Product scanned successfully! (Demo data)"})}finally{N(!1)}},D=async()=>{N(!0),v(null),y(null);const M=await sv();M.success?y({success:!0,message:"API Test Successful!",...M.data}):v(JSON.stringify(M.error,null,2)),N(!1)};return te.jsxs(te.Fragment,{children:[te.jsx(Du,{}),te.jsxs("div",{className:"page",children:[te.jsx("div",{className:"page-header",children:te.jsx("h1",{className:"page-title",children:"Scan Product"})}),te.jsxs("div",{className:"scanner-container",children:[te.jsxs("div",{className:"scanner-tabs",children:[te.jsx("button",{className:`tab-button ${e==="scan"?"active":""}`,onClick:()=>t("scan"),children:" Camera Scan"}),te.jsx("button",{className:`tab-button ${e==="manual"?"active":""}`,onClick:()=>t("manual"),children:" Manual Input"})]}),te.jsx("div",{style:{marginTop:"16px",marginBottom:"16px"},children:te.jsx("button",{className:"test-api-button",onClick:D,disabled:b,style:{width:"100%",padding:"12px",background:"#ff9800",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s"},children:" Test API POST Request"})}),e==="scan"?te.jsx("div",{className:"scanner-box",children:te.jsx("div",{id:"qr-reader"})}):te.jsxs("form",{onSubmit:q,className:"manual-input-container",children:[te.jsx("input",{type:"text",className:"barcode-input",placeholder:"Enter barcode number...",value:i,onChange:M=>a(M.target.value)}),te.jsx("button",{type:"submit",className:"submit-button",disabled:!i.trim()||b,children:b?"Scanning...":"Submit"})]}),b&&te.jsx("div",{className:"loading",children:te.jsx("div",{className:"spinner"})}),E&&te.jsxs("div",{className:"scan-result error",children:[te.jsx("h3",{children:" Error"}),te.jsx("pre",{children:E})]}),x&&te.jsxs("div",{className:"scan-result",children:[te.jsx("h3",{children:" Scan Result"}),te.jsx("pre",{children:JSON.stringify(x,null,2)})]})]})]})]})}function av(){const e=Ua(),t=i=>e.pathname===i;return te.jsxs("nav",{className:"bottom-nav",children:[te.jsxs(vl,{to:"/",className:`nav-item ${t("/")?"active":""}`,children:[te.jsx("div",{className:"nav-icon",children:""}),te.jsx("div",{className:"nav-label",children:"Home"})]}),te.jsxs(vl,{to:"/catalogue",className:`nav-item ${t("/catalogue")?"active":""}`,children:[te.jsx("div",{className:"nav-icon",children:""}),te.jsx("div",{className:"nav-label",children:"Catalogue"})]}),te.jsxs(vl,{to:"/scanner",className:`nav-item ${t("/scanner")?"active":""}`,children:[te.jsx("div",{className:"nav-icon scan-icon",children:""}),te.jsx("div",{className:"nav-label",children:"Scan"})]}),te.jsxs(vl,{to:"/locations",className:`nav-item ${t("/locations")?"active":""}`,children:[te.jsx("div",{className:"nav-icon",children:""}),te.jsx("div",{className:"nav-label",children:"Locations"})]})]})}function lv(){return te.jsx(P_,{children:te.jsxs("div",{className:"app",children:[te.jsxs(S_,{children:[te.jsx(ra,{path:"/",element:te.jsx(py,{})}),te.jsx(ra,{path:"/catalogue",element:te.jsx(gy,{})}),te.jsx(ra,{path:"/locations",element:te.jsx(Ly,{})}),te.jsx(ra,{path:"/scanner",element:te.jsx(ov,{})})]}),te.jsx(av,{})]})})}da();Ac.createRoot(document.getElementById("root")).render(te.jsx(pa.StrictMode,{children:te.jsx(lv,{})}));
